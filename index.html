<!DOCTYPE html>
<html lang="pt-BR">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Pro Supplements | Suplementos Esportivos Premium</title>
		<!-- Meta tags para compartilhamento social -->
        <meta property="og:title" content="Pro Supplements | Suplementos Esportivos Premium" />
        <meta property="og:description" content="Conheça a Pro Supplements! Suplementos de alta performance para quem leva o treino a sério." />
        <meta property="og:image" content="https://prosupplements.netlify.app/images/logo.png" />
        <meta property="og:url" content="https://prosupplements.netlify.app" />
        <meta property="og:type" content="website" />
        <meta property="og:site_name" content="Pro Supplements" />
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800&display=swap" rel="stylesheet" />
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
		<script src="https://cdn.tailwindcss.com"></script>
        <!-- Supabase Client Library -->
        <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
		<script>
			tailwind.config = {
			    darkMode: 'class',
			    theme: {
			        extend: {
			            colors: {
			                primary: '#FF6B00',
			                secondary: '#1A1A1A',
			                light: '#f5f5f5',
			                dark: '#181818'
			            },
			            fontFamily: {
			                montserrat: ['Montserrat', 'sans-serif']
			            }
			        }
			    }
			}

			// Detectar modo escuro/claro
			if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
			    document.documentElement.classList.add('dark');
			}
			window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
			    if (event.matches) {
			        document.documentElement.classList.add('dark');
			    } else {
			        document.documentElement.classList.remove('dark');
			    }
			});
		</script>
		<style>
            .product-card img {
                width: 100%;
                height: auto;
                object-fit: contain;
                display: block;
                max-height: 200px; /* Ajuste a altura conforme necessário */
                margin: 0 auto;
            }
            
			* {
			    margin: 0;
			    padding: 0;
			    box-sizing: border-box;
			    font-family: 'Montserrat', sans-serif;
			}

			html {
			    scroll-behavior: smooth;
			}

			body {
			    overflow-x: hidden;
                background-color: #FFE5CC; /* Fundo laranja claro */
			}
            
            .dark body {
                background-color: #181818; /* Mantendo o fundo escuro no dark mode */
            }

			/* Animações */
			@keyframes fadeIn {
			    from { opacity: 0; transform: translateY(20px); }
			    to { opacity: 1; transform: translateY(0); }
			}

			.animate {
			    animation: fadeIn 0.8s ease forwards;
			}

			/* Carrossel de Banner */
			.carousel {
			    position: relative;
			    height: 500px;
			    overflow: hidden;
			}

			.carousel-inner {
			    display: flex;
			    transition: transform 0.5s ease;
			    height: 100%;
			}

			.carousel-item {
			    min-width: 100%;
			    height: 100%;
			    background-size: cover;
			    background-position: center;
			    display: flex;
			    align-items: center;
			    justify-content: center;
			    color: white;
			}

			.carousel-content {
			    text-align: center;
			    max-width: 80%;
			    padding: 20px;
			    background-color: rgba(0, 0, 0, 0.6);
			    border-radius: 10px;
			}

			.carousel-indicators {
			    position: absolute;
			    bottom: 20px;
			    left: 50%;
			    transform: translateX(-50%);
			    display: flex;
			    gap: 10px;
			}

			.carousel-indicator {
			    width: 12px;
			    height: 12px;
			    border-radius: 50%;
			    background-color: rgba(255, 255, 255, 0.5);
			    cursor: pointer;
			    transition: all 0.3s ease;
			}

			.carousel-indicator.active {
			    background-color: white;
			    transform: scale(1.2);
			}

			.carousel-control {
			    position: absolute;
			    top: 50%;
			    transform: translateY(-50%);
			    width: 50px;
			    height: 50px;
			    background-color: rgba(0, 0, 0, 0.5);
			    border-radius: 50%;
			    display: flex;
			    align-items: center;
			    justify-content: center;
			    color: white;
			    font-size: 1.5rem;
			    cursor: pointer;
			    transition: all 0.3s ease;
			    z-index: 10;
			}

			.carousel-control:hover {
			    background-color: rgba(0, 0, 0, 0.8);
			}

			.carousel-control-prev {
			    left: 20px;
			}

			.carousel-control-next {
			    right: 20px;
			}

			/* Navegação das Páginas */
			.page {
			    display: none;
			}

			.page.active {
			    display: block;
			}

			/* Produtos */
			.product-grid {
			    display: grid;
			    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
			    gap: 25px;
			}

			.product-card {
			    border-radius: 10px;
			    overflow: hidden;
			    box-shadow: 0 5px 15px rgba(0,0,0,0.05);
			    transition: transform 0.3s ease, box-shadow 0.3s ease;
			    position: relative;
			}

			.product-card:hover {
			    transform: translateY(-7px);
			    box-shadow: 0 10px 25px rgba(0,0,0,0.1);
			}

			.product-tag {
			    position: absolute;
			    top: 10px;
			    right: 10px;
			    padding: 5px 10px;
			    border-radius: 3px;
			    font-size: 0.8rem;
			    font-weight: 600;
			    z-index: 1;
                display: none; /* Removendo a tag azul dos produtos */
			}

			/* Modo escuro */
            .dark input[type="number"] {
                background-color: #333;
                color: #fff;
                border: 1px solid #333;
                border-radius: 4px;
                padding: 4px 8px;
            }
            
			.dark body {
			    background-color: #181818;
			    color: #f5f5f5;
			}

			.dark .bg-white {
			    background-color: #222;
			}

			.dark .text-gray-800 {
			    color: #f5f5f5;
			}

			.dark .text-gray-600 {
			    color: #aaa;
			}

			.dark .border-gray-200 {
			    border-color: #333;
			}

			.dark .shadow {
			    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.5);
			}

			/* Loading Spinner */
			.spinner {
			    border: 4px solid rgba(0, 0, 0, 0.1);
			    width: 40px;
			    height: 40px;
			    border-radius: 50%;
			    border-left-color: #FF6B00;
			    animation: spin 1s linear infinite;
			}

			@keyframes spin {
			    0% { transform: rotate(0deg); }
			    100% { transform: rotate(360deg); }
			}

			.dark .spinner {
			    border: 4px solid rgba(255, 255, 255, 0.1);
			    border-left-color: #FF6B00;
			}

			/* Acordeão de Suplementos */
			.supplement-accordion {
			    cursor: pointer;
			    transition: all 0.3s ease;
			}

			.supplement-panel {
			    max-height: 0;
			    overflow: hidden;
			    transition: max-height 0.4s ease-in-out;
			}

			.supplement-panel.active {
			    max-height: 1000px;
			}
            
            /* Formulário de checkout */
            #checkout-form {
                max-height: 70vh;
                overflow-y: auto;
                padding-right: 10px;
            }
            
            /* Scrollbar personalizada */
            #checkout-form::-webkit-scrollbar {
                width: 6px;
            }
            
            #checkout-form::-webkit-scrollbar-track {
                background: #f1f1f1;
                border-radius: 10px;
            }
            
            #checkout-form::-webkit-scrollbar-thumb {
                background: #888;
                border-radius: 10px;
            }
            
            #checkout-form::-webkit-scrollbar-thumb:hover {
                background: #555;
            }
            
            .dark #checkout-form::-webkit-scrollbar-track {
                background: #333;
            }
            
            .dark #checkout-form::-webkit-scrollbar-thumb {
                background: #666;
            }
            
            /* Layout para celular - 2 itens lado a lado */
@media (max-width: 640px) {
    .product-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 8px;
        padding: 0 4px;
    }
    
    .product-card {
        margin-bottom: 0;
        border-radius: 8px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    
    .product-card .product-name {
        font-size: 0.75rem;
        white-space: normal;
        height: auto;
    }
    
    /* Layout para produtos na página principal (2 por linha) */
    .product-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr)); /* Garante proporção igual */
        width: 100%;
    }

    .product-card {
        height: 100%; /* Uniformiza a altura */
        display: flex;
        flex-direction: column;
        margin: 0;
    }

    .product-card .product-name {
        font-size: 0.75rem;
        line-height: 1.2;
        min-height: 2.4rem; /* Evita desalinhamento */
        margin-bottom: 4px;
        padding: 0 2px;
        font-weight: 600;

        display: -webkit-box;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 2;
        line-clamp: 2; /* Padrão, para compatibilidade futura */

        overflow: hidden;
        text-overflow: ellipsis;
    }
    
    .product-card .add-to-cart-btn {
        padding: 6px;
        width: 100%;
        justify-content: center;
        font-size: 0.7rem;
        margin-top: auto;
    }

    .product-card .add-to-cart-btn i {
        margin: 0 3px 0 0;
        font-size: 0.7rem;
    }

    /* Ajuste para imagens */
    .product-card > div:first-child {
        height: 110px !important;
        padding: 4px;
    }

    /* Preços alinhados */
    .product-card > div:last-child {
        padding: 6px !important;
    }
    
    .product-card > div:last-child > div {
        flex-direction: column;
        align-items: flex-start;
        gap: 3px;
        margin-bottom: 6px !important;
    }

    .product-card .text-xl {
        font-size: 0.9rem;
        font-weight: 700;
    }
    
    .product-card > div:last-child > div > div:first-child {
        margin-bottom: 4px;
    }
    
    /* Esconder classe de estrelas em mobile */
    .product-card .flex.items-center.mb-1 {
        display: none;
    }
    
    /* Botão ver detalhes */
    .product-card .view-details-btn {
        font-size: 0.7rem;
        padding-top: 2px;
    }
    
    /* Categorias 2 por linha no mobile */
    .grid-cols-1.sm\:grid-cols-2.md\:grid-cols-3.lg\:grid-cols-4 {
        grid-template-columns: repeat(2, 1fr);
        gap: 8px;
    }
    
    .category-card {
        margin-bottom: 8px;
        max-width: 100% !important;
    }
    
    /* Centralizar o footer no mobile */
    .footer-bottom-content {
        margin: 0 auto;
        text-align: center;
    }
}
            
            /* Fix para o carrinho que estava no meio da tela */
            #cart-sidebar {
                right: 0;
                left: auto;
                max-width: 100%;
            }
            
            /* Botões dinamicamente atualizados */
            .add-to-cart-btn.added {
                background-color: #22c55e; /* Verde para feedback de sucesso */
            }
            
            /* Versão mobile do carrinho */
@media (max-width: 640px) {
    #cart-sidebar {
        width: 100% !important;
        left: 0;
        right: 0;
    }
    
    #cart-items {
        padding: 10px;
    }
    
    .product-card > div:first-child img {
        max-height: 100%;
        object-fit: contain;
        padding: 5px;
    }
}
            
            /* Ajustes para categorias no mobile */
            @media (max-width: 640px) {
                .category-card {
                    max-width: 100% !important;
                }
            }
            
            /* Adicionar scroll no modal do produto */
            #product-modal .relative {
                max-height: 80vh;
                overflow-y: auto;
            }
            
            /* Ajustes para o produto modal */
            .modal-image-container {
                position: relative;
                height: 300px;
                background-color: #f8f8f8;
                display: flex;
                align-items: center;
                justify-content: center;
                overflow: hidden;
            }
            
            .dark .modal-image-container {
                background-color: #2a2a2a;
            }
            
            .modal-main-image {
                max-width: 100%;
                max-height: 100%;
                object-fit: contain;
            }
            
            .modal-thumbnail-container {
                display: flex;
                gap: 8px;
                margin-top: 10px;
                justify-content: center;
            }
            
            .modal-thumbnail {
                width: 60px;
                height: 60px;
                border-radius: 4px;
                overflow: hidden;
                cursor: pointer;
                border: 2px solid transparent;
                transition: all 0.2s ease;
            }
            
            .modal-thumbnail.active {
                border-color: #FF6B00;
            }
            
            .modal-thumbnail img {
                width: 100%;
                height: 100%;
                object-fit: cover;
            }
            
            /* Cores e tamanhos */
            .color-options, .size-options {
                display: flex;
                flex-wrap: wrap;
                gap: 8px;
                margin-bottom: 15px;
            }
            
            .color-option {
                width: 30px;
                height: 30px;
                border-radius: 50%;
                cursor: pointer;
                border: 2px solid transparent;
                transition: all 0.2s;
            }
            
            .color-option:hover {
                transform: scale(1.1);
            }
            
            .color-option.selected {
                border-color: #333;
                transform: scale(1.1);
            }
            
            .dark .color-option.selected {
                border-color: #fff;
            }
            
            .size-option {
                min-width: 40px;
                height: 40px;
                display: flex;
                align-items: center;
                justify-content: center;
                border: 1px solid #ddd;
                border-radius: 4px;
                background-color: #fff;
                cursor: pointer;
                transition: all 0.2s;
                font-size: 0.875rem;
                padding: 0 10px;
            }
            
            .dark .size-option {
                background-color: #333;
                border-color: #555;
            }
            
            .size-option:hover {
                border-color: #FF6B00;
            }
            
            .size-option.selected {
                background-color: #FF6B00;
                color: white;
                border-color: #FF6B00;
            }
            
            .size-option.out-of-stock {
                opacity: 0.5;
                cursor: not-allowed;
                text-decoration: line-through;
            }
            
            /* Slider de imagens */
            .modal-image-nav {
                position: absolute;
                top: 50%;
                transform: translateY(-50%);
                width: 35px;
                height: 35px;
                background-color: rgba(255, 255, 255, 0.8);
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                cursor: pointer;
                z-index: 5;
                transition: all 0.3s;
            }
            
            .dark .modal-image-nav {
                background-color: rgba(50, 50, 50, 0.8);
            }
            
            .modal-image-nav:hover {
                background-color: rgba(255, 255, 255, 1);
            }
            
            .dark .modal-image-nav:hover {
                background-color: rgba(70, 70, 70, 1);
            }
            
            .modal-image-prev {
                left: 10px;
            }
            
            .modal-image-next {
                right: 10px;
            }
            
            /* Nova barra de pesquisa inteligente */
            .search-container {
                position: relative;
                max-width: 400px;
                width: 100%;
            }
            
            .search-input {
                width: 100%;
                background-color: rgba(255, 255, 255, 0.15);
                border: 1px solid rgba(255, 255, 255, 0.2);
                color: white;
                border-radius: 30px;
                padding: 10px 20px 10px 45px;
                font-size: 16px;
                transition: all 0.3s ease;
            }
            
            .search-input:focus {
                background-color: rgba(255, 255, 255, 0.2);
                border-color: rgba(255, 255, 255, 0.3);
                box-shadow: 0 0 0 3px rgba(255, 107, 0, 0.3);
                outline: none;
            }
            
            .search-icon {
                position: absolute;
                left: 15px;
                top: 50%;
                transform: translateY(-50%);
                color: rgba(255, 255, 255, 0.7);
                pointer-events: none;
                transition: all 0.3s ease;
            }
            
            .search-input:focus + .search-icon {
                color: white;
            }
            
            .search-suggestions {
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background-color: white;
                border-radius: 10px;
                margin-top: 8px;
                box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
                z-index: 100;
                overflow: hidden;
                max-height: 300px;
                overflow-y: auto;
                display: none;
            }
            
            .dark .search-suggestions {
                background-color: #2a2a2a;
                box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            }
            
            .search-suggestions.active {
                display: block;
            }
            
            .suggestion-item {
                padding: 12px 15px;
                cursor: pointer;
                display: flex;
                align-items: center;
                border-bottom: 1px solid #f0f0f0;
                transition: all 0.2s ease;
            }
            
            .dark .suggestion-item {
                border-bottom-color: #3a3a3a;
            }
            
            .suggestion-item:last-child {
                border-bottom: none;
            }
            
            .suggestion-item:hover {
                background-color: #f9f9f9;
            }
            
            .dark .suggestion-item:hover {
                background-color: #333;
            }
            
            .suggestion-icon {
                width: 35px;
                height: 35px;
                background-color: #f0f0f0;
                border-radius: 8px;
                display: flex;
                align-items: center;
                justify-content: center;
                margin-right: 12px;
                flex-shrink: 0;
            }
            
            .dark .suggestion-icon {
                background-color: #444;
            }
            
            .suggestion-icon i {
                color: #FF6B00;
                font-size: 16px;
            }
            
            .suggestion-content {
                flex-grow: 1;
            }
            
            .suggestion-title {
                font-weight: 500;
                margin-bottom: 2px;
                color: #333;
            }
            
            .dark .suggestion-title {
                color: #f0f0f0;
            }
            
            .suggestion-category {
                font-size: 12px;
                color: #777;
            }
            
            .dark .suggestion-category {
                color: #aaa;
            }
            
            /* Centralizar a busca mobile */
            @media (max-width: 768px) {
                .mobile-search-container {
                    width: 100%;
                    padding: 0 15px;
                    margin-bottom: 15px;
                }
                
                .mobile-search-container .search-input {
                    background-color: rgba(255, 255, 255, 0.1);
                }
            }

            /* Estilos para área administrativa */
.admin-container {
    padding: 20px;
    max-width: 1200px;
    margin: 0 auto;
}

.admin-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 30px;
}

.admin-nav {
    background-color: #f0f0f0;
    border-radius: 10px;
    overflow: hidden;
    margin-bottom: 30px;
}

.dark .admin-nav {
    background-color: #2a2a2a;
}

.admin-nav-tabs {
    display: flex;
    list-style: none;
    margin: 0;
    padding: 0;
}

.admin-nav-item {
    padding: 15px 20px;
    cursor: pointer;
    transition: all 0.2s;
    font-weight: 500;
}

.admin-nav-item:hover {
    background-color: rgba(255, 107, 0, 0.1);
}

.admin-nav-item.active {
    background-color: #FF6B00;
    color: white;
}

.admin-product-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 20px;
}

.admin-product-card {
    background-color: white;
    border-radius: 10px;
    overflow: hidden;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    transition: all 0.2s;
}

.dark .admin-product-card {
    background-color: #2a2a2a;
}

.admin-product-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.15);
}

.admin-product-image {
    height: 180px;
    background-color: #f5f5f5;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
}

.dark .admin-product-image {
    background-color: #333;
}

.admin-product-image img {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
}

.admin-product-details {
    padding: 15px;
}

.admin-product-title {
    font-weight: 600;
    margin-bottom: 5px;
    font-size: 1rem;
    line-height: 1.4;
    height: 2.8rem;
    overflow: hidden;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
}

.admin-product-category {
    font-size: 0.8rem;
    color: #777;
    margin-bottom: 10px;
}

.dark .admin-product-category {
    color: #aaa;
}

.admin-product-price {
    font-weight: 700;
    color: #FF6B00;
    margin-bottom: 15px;
}

.admin-product-actions {
    display: flex;
    gap: 10px;
}

.admin-product-actions button {
    flex: 1;
    padding: 8px 0;
    border-radius: 5px;
    font-size: 0.9rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s;
}

.admin-btn-edit {
    background-color: #3B82F6;
    color: white;
    border: none;
}

.admin-btn-edit:hover {
    background-color: #2563EB;
}

.admin-btn-delete {
    background-color: #EF4444;
    color: white;
    border: none;
}

.admin-btn-delete:hover {
    background-color: #DC2626;
}

.admin-form-container {
    background-color: white;
    border-radius: 10px;
    padding: 30px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.05);
    margin-bottom: 30px;
}

.dark .admin-form-container {
    background-color: #2a2a2a;
}

.admin-form-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
}

.admin-form-group {
    margin-bottom: 20px;
}

.admin-form-group label {
    display: block;
    margin-bottom: 8px;
    font-weight: 500;
}

.admin-form-input, 
.admin-form-select, 
.admin-form-textarea {
    width: 100%;
    padding: 12px 15px;
    border: 1px solid #ddd;
    border-radius: 5px;
    font-size: 16px;
    transition: all 0.2s;
}

.dark .admin-form-input, 
.dark .admin-form-select, 
.dark .admin-form-textarea {
    background-color: #333;
    border-color: #444;
    color: #fff;
}

.admin-form-input:focus, 
.admin-form-select:focus, 
.admin-form-textarea:focus {
    border-color: #FF6B00;
    outline: none;
    box-shadow: 0 0 0 3px rgba(255, 107, 0, 0.15);
}

.admin-form-textarea {
    min-height: 120px;
    resize: vertical;
}

.admin-form-button {
    padding: 12px 25px;
    background-color: #FF6B00;
    color: white;
    border: none;
    border-radius: 5px;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
}

.admin-form-button:hover {
    background-color: #E05900;
}

.admin-form-button.secondary {
    background-color: #6B7280;
}

.admin-form-button.secondary:hover {
    background-color: #4B5563;
}

.admin-benefits-container {
    margin-bottom: 20px;
}

.admin-benefit-item {
    display: flex;
    align-items: center;
    margin-bottom: 10px;
}

.admin-benefit-item input {
    flex-grow: 1;
    margin-right: 10px;
}

.admin-add-benefit-btn,
.admin-remove-benefit-btn {
    width: 35px;
    height: 35px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s;
}

.admin-add-benefit-btn {
    background-color: #10B981;
    color: white;
    border: none;
}

.admin-add-benefit-btn:hover {
    background-color: #059669;
}

.admin-remove-benefit-btn {
    background-color: #EF4444;
    color: white;
    border: none;
}

.admin-remove-benefit-btn:hover {
    background-color: #DC2626;
}

/* Estilo para botão adicionar item */
.add-item-btn {
    background-color: #22c55e;
    color: white;
    border: none;
    border-radius: 6px;
    padding: 10px 16px;
    font-size: 0.9rem;
    font-weight: 500;
    display: flex;
    align-items: center;
    gap: 6px;
    cursor: pointer;
    transition: all 0.2s;
}

.add-item-btn:hover {
    background-color: #16a34a;
}

.add-item-btn i {
    font-size: 1rem;
}

/* Estilo para cabeçalho da seção com botão */
.admin-section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
}

.admin-section-title {
    font-size: 1.3rem;
    font-weight: 600;
    margin: 0;
}

/* Estilo para o botão Sair */
.admin-logout-btn {
    display: inline-flex;
    align-items: center;
    padding: 8px 16px;
    background-color: #f0f0f0;
    color: #333;
    border-radius: 6px;
    text-decoration: none;
    font-weight: 500;
    transition: all 0.2s;
}

.admin-logout-btn:hover {
    background-color: #e0e0e0;
}

.admin-logout-btn i {
    margin-right: 6px;
}

.dark .admin-logout-btn {
    background-color: #333;
    color: #f0f0f0;
}

.dark .admin-logout-btn:hover {
    background-color: #444;
}

/* Status de conexão Supabase */
.supabase-status {
    display: flex;
    align-items: center;
    padding: 12px 16px;
    background-color: rgba(16, 185, 129, 0.1);
    border: 1px solid #10B981;
    border-radius: 6px;
    color: #10B981;
    margin-bottom: 20px;
}

.supabase-status i {
    margin-right: 10px;
    font-size: 1.1rem;
}

/* Responsividade para mobile */
@media (max-width: 768px) {
    .admin-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 15px;
    }
    
    .admin-header h1 {
        margin-bottom: 0;
    }
    
    .admin-logout-btn {
        align-self: flex-start;
    }
    
    .admin-nav {
        overflow-x: auto;
        white-space: nowrap;
        -webkit-overflow-scrolling: touch;
        padding-bottom: 5px;
    }
    
    .admin-nav-tabs {
        display: inline-flex;
        width: max-content;
    }
    
    .admin-nav-item {
        padding: 12px 16px;
        font-size: 0.9rem;
    }
    
    .admin-form-grid {
        grid-template-columns: 1fr;
    }
    
    /* Botão adicionar e cabeçalho para mobile */
    .admin-section-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 10px;
        margin-bottom: 15px;
    }
    
    /* Estilo móvel para seções específicas */
    .admin-section-header.with-button {
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
    }
    
    .add-item-btn {
        padding: 8px 12px;
        font-size: 0.85rem;
    }
    
    /* Ajusta inputs do Supabase */
    .admin-form-input {
        font-size: 16px; /* Previne zoom no iOS */
    }
    
    /* Ajustes para WhatsApp button */
    .whatsapp-btn {
        bottom: 15px;
        right: 15px;
        width: 50px;
        height: 50px;
    }
    
    /* Layout para menu ativo e botões */
    .admin-nav-item.active {
        position: relative;
    }
    
    .admin-nav-item.active::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 3px;
        background-color: #FF6B00;
    }
    
    /* Estilizar botões como os da imagem */
    .admin-product-actions {
        flex-direction: column;
        gap: 8px;
    }
    
    .admin-product-actions button {
        width: 100%;
    }
    }
            
            /* Modal de login */
            .login-modal {
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background-color: rgba(0, 0, 0, 0.7);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 1000;
            }
            
            .login-container {
                background-color: white;
                border-radius: 10px;
                padding: 30px;
                width: 100%;
                max-width: 400px;
                box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            }
            
            .dark .login-container {
                background-color: #2a2a2a;
            }
            
            .login-title {
                font-size: 1.8rem;
                font-weight: 700;
                text-align: center;
                margin-bottom: 30px;
            }
            
            .login-input {
                width: 100%;
                padding: 12px 15px;
                margin-bottom: 20px;
                border: 1px solid #ddd;
                border-radius: 5px;
                font-size: 16px;
                transition: all 0.2s;
            }
            
            .dark .login-input {
                background-color: #333;
                border-color: #444;
                color: #fff;
            }
            
            .login-input:focus {
                border-color: #FF6B00;
                outline: none;
                box-shadow: 0 0 0 3px rgba(255, 107, 0, 0.15);
            }
            
            .login-button {
                width: 100%;
                padding: 12px;
                background-color: #FF6B00;
                color: white;
                border: none;
                border-radius: 5px;
                font-size: 16px;
                font-weight: 600;
                cursor: pointer;
                transition: all 0.2s;
                margin-top: 10px;
            }
            
            .login-button:hover {
                background-color: #E05900;
            }
            
            .login-error {
                color: #EF4444;
                text-align: center;
                margin-bottom: 20px;
                display: none;
            }
            
            /* Mensagem de sucesso/erro para Supabase */
            .supabase-status-message {
                padding: 10px 15px;
                border-radius: 5px;
                margin-bottom: 20px;
                display: flex;
                align-items: center;
                font-weight: 500;
            }
            
            .supabase-status-message i {
                margin-right: 10px;
                font-size: 18px;
            }
            
            .supabase-status-message.success {
                background-color: rgba(16, 185, 129, 0.1);
                color: #10B981;
                border: 1px solid #10B981;
            }
            
            .supabase-status-message.error {
                background-color: rgba(239, 68, 68, 0.1);
                color: #EF4444;
                border: 1px solid #EF4444;
            }
            
            .supabase-status-message.warning {
                background-color: rgba(245, 158, 11, 0.1);
                color: #F59E0B;
                border: 1px solid #F59E0B;
            }
            
            /* Botão de teste de conexão */
            .test-connection-btn {
                margin-left: 10px;
                padding: 8px 12px;
                background-color: #3B82F6;
                color: white;
                border: none;
                border-radius: 5px;
                font-size: 14px;
                font-weight: 500;
                cursor: pointer;
                transition: all 0.2s;
            }
            
            .test-connection-btn:hover {
                background-color: #2563EB;
            }
		</style>
	</head>
	<body class="bg-light dark:bg-dark text-gray-800 dark:text-white">
        <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
		<!-- Header/Navegação -->
		<header class="bg-secondary text-white shadow-md sticky top-0 z-50">
			<div class="container mx-auto px-4">
				<div class="flex items-center justify-between py-4">
					<a href="#" class="flex items-center text-2xl font-extrabold" id="logo">
						<div class="w-10 h-10 bg-primary rounded-full flex items-center justify-center mr-3">
							<span class="text-white font-bold">PS</span>
						</div>
						PRO<span class="text-primary">SUPPLEMENTS</span>
					</a>

					<div class="hidden md:flex space-x-8">
						<a href="#" class="nav-link py-2 hover:text-primary transition" data-page="home">Home</a>
						<a href="#" class="nav-link py-2 hover:text-primary transition" data-page="products">Produtos</a>
						<a href="#" class="nav-link py-2 hover:text-primary transition" data-page="clothes">Roupas e Acessórios</a>
						<a href="#" class="nav-link py-2 hover:text-primary transition" data-page="guide">Guia</a>
						<a href="#" class="nav-link py-2 hover:text-primary transition" data-page="contact">Contato</a>
                        <a href="#" class="nav-link py-2 hover:text-primary transition" data-page="admin">Admin</a>
					</div>

					<div class="hidden md:block relative mr-4">
						<div class="search-container">
                            <input type="text" id="search-input" placeholder="O que você procura?" class="search-input" />
                            <i class="fas fa-search search-icon"></i>
                            <div class="search-suggestions" id="search-suggestions">
                                <!-- Sugestões de busca serão inseridas aqui via JS -->
                            </div>
                        </div>
					</div>

					<div class="hidden md:flex space-x-4 items-center">
						<button id="theme-toggle" class="text-lg hover:text-primary transition">
							<i class="fas fa-moon dark:hidden"></i>
							<i class="fas fa-sun hidden dark:inline"></i>
						</button>
						<a href="#" class="text-lg hover:text-primary transition relative" id="cart-btn">
							<i class="fas fa-shopping-cart"></i>
							<span class="absolute -top-2 -right-2 bg-primary text-white text-xs w-5 h-5 rounded-full flex items-center justify-center" id="cart-count">0</span>
						</a>
					</div>

					<div class="md:hidden flex items-center space-x-4">
						<button id="mobile-theme-toggle" class="text-lg hover:text-primary transition">
							<i class="fas fa-moon dark:hidden"></i>
							<i class="fas fa-sun hidden dark:inline"></i>
						</button>
						<a href="#" class="text-lg hover:text-primary transition relative" id="mobile-cart-btn">
							<i class="fas fa-shopping-cart"></i>
							<span class="absolute -top-2 -right-2 bg-primary text-white text-xs w-5 h-5 rounded-full flex items-center justify-center" id="mobile-cart-count">0</span>
						</a>
						<button class="text-2xl" id="mobile-menu-btn">
							<i class="fas fa-bars"></i>
						</button>
					</div>
				</div>

				<!-- Menu mobile -->
				<div class="md:hidden hidden" id="mobile-menu">
					<div class="flex flex-col space-y-4 pb-4">
						<a href="#" class="mobile-nav-link py-2 hover:text-primary transition" data-page="home">Home</a>
						<a href="#" class="mobile-nav-link py-2 hover:text-primary transition" data-page="products">Produtos</a>
						<a href="#" class="mobile-nav-link py-2 hover:text-primary transition" data-page="clothes">Roupas e Acessórios</a>
						<a href="#" class="mobile-nav-link py-2 hover:text-primary transition" data-page="guide">Guia</a>
						<a href="#" class="mobile-nav-link py-2 hover:text-primary transition" data-page="contact">Contato</a>
                        <a href="#" class="mobile-nav-link py-2 hover:text-primary transition" data-page="admin">Admin</a>
					</div>
					<div class="mobile-search-container pb-4">
						<div class="search-container">
                            <input type="text" id="mobile-search-input" placeholder="O que você procura?" class="search-input" />
                            <i class="fas fa-search search-icon"></i>
                            <div class="search-suggestions" id="mobile-search-suggestions">
                                <!-- Sugestões de busca mobile serão inseridas aqui via JS -->
                            </div>
                        </div>
					</div>
				</div>
			</div>
		</header>

		<!-- Conteúdo Principal -->
		<main>
			<!-- Página Home -->
			<section id="home" class="page active">
				<!-- Carrossel de Banner -->
				<div class="carousel">
					<div class="carousel-inner">
						<div class="carousel-item bg-secondary" style="background-image: url('https://images.unsplash.com/photo-1517836357463-d25dfeac3438?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80')">
							<div class="carousel-content">
								<h2 class="text-4xl font-bold mb-4">Suplementos de Alta Performance</h2>
								<p class="text-xl">Maximize seus resultados com produtos de qualidade premium</p>
							</div>
						</div>
						<div class="carousel-item bg-secondary" style="background-image: url('https://images.unsplash.com/photo-1579758629938-03607ccdbaba?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80')">
							<div class="carousel-content">
								<h2 class="text-4xl font-bold mb-4">Treinos Intensos Pedem Nutrição Adequada</h2>
								<p class="text-xl">Conheça nossa linha completa de suplementos</p>
							</div>
						</div>
						<div class="carousel-item bg-secondary" style="background-image: url('https://images.unsplash.com/photo-1532029837206-abbe2b7620e3?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80')">
							<div class="carousel-content">
								<h2 class="text-4xl font-bold mb-4">Resultados Visíveis</h2>
								<p class="text-xl">Suplemente sua dieta e alcance seus objetivos</p>
							</div>
						</div>
						<div class="carousel-item bg-secondary" style="background-image: url('https://images.unsplash.com/photo-1601422407692-ec4eeec1d9b3?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80')">
							<div class="carousel-content">
								<h2 class="text-4xl font-bold mb-4">Produtos Para Todos os Objetivos</h2>
								<p class="text-xl">Do ganho de massa à definição muscular</p>
							</div>
						</div>
						<div class="carousel-item bg-secondary" style="background-image: url('https://images.unsplash.com/photo-1540497077202-7c8a3999166f?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80')">
							<div class="carousel-content">
								<h2 class="text-4xl font-bold mb-4">Energia e Foco</h2>
								<p class="text-xl">Suplementos para potencializar cada treino</p>
							</div>
						</div>
					</div>

					<div class="carousel-controls">
						<div class="carousel-control carousel-control-prev">
							<i class="fas fa-chevron-left"></i>
						</div>
						<div class="carousel-control carousel-control-next">
							<i class="fas fa-chevron-right"></i>
						</div>
					</div>

					<div class="carousel-indicators">
						<div class="carousel-indicator active" data-index="0"></div>
						<div class="carousel-indicator" data-index="1"></div>
						<div class="carousel-indicator" data-index="2"></div>
						<div class="carousel-indicator" data-index="3"></div>
						<div class="carousel-indicator" data-index="4"></div>
					</div>
				</div>

				<!-- Categorias -->
<div class="container mx-auto px-4 py-16">
    <h2 class="text-3xl font-bold text-center mb-12 relative after:content-[''] after:absolute after:w-16 after:h-1 after:bg-primary after:bottom-[-10px] after:left-1/2 after:transform after:-translate-x-1/2">
      Categorias
    </h2>
  
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
  
      <!-- Categoria 1 -->
      <div class="category-card bg-white dark:bg-gray-800 rounded-xl overflow-hidden shadow-md hover:-translate-y-2 hover:shadow-lg cursor-pointer w-full max-w-[260px] mx-auto" data-category="whey">
        <div class="bg-gray-200 dark:bg-gray-700 flex items-center justify-center h-[180px]">
          <img src="images/whey2.png" alt="Proteínas" class="object-contain max-h-[160px] w-auto" />
        </div>
        <div class="p-4 text-center">
          <h3 class="text-lg font-semibold text-gray-800 dark:text-white">Proteínas</h3>
          <button class="mt-3 px-5 py-1.5 border border-primary text-primary rounded hover:bg-primary hover:text-white transition text-sm font-medium">Ver Produtos</button>
        </div>
      </div>
  
      <!-- Categoria 2 -->
      <div class="category-card bg-white dark:bg-gray-800 rounded-xl overflow-hidden shadow-md hover:-translate-y-2 hover:shadow-lg cursor-pointer w-full max-w-[260px] mx-auto" data-category="pre-workout">
        <div class="bg-gray-200 dark:bg-gray-700 flex items-center justify-center h-[180px]">
          <img src="images/pre.png" alt="Pré-Treinos" class="object-contain max-h-[160px] w-auto" />
        </div>
        <div class="p-4 text-center">
          <h3 class="text-lg font-semibold text-gray-800 dark:text-white">Pré-Treinos</h3>
          <button class="mt-3 px-5 py-1.5 border border-primary text-primary rounded hover:bg-primary hover:text-white transition text-sm font-medium">Ver Produtos</button>
        </div>
      </div>
  
      <!-- Categoria 3 -->
      <div class="category-card bg-white dark:bg-gray-800 rounded-xl overflow-hidden shadow-md hover:-translate-y-2 hover:shadow-lg cursor-pointer w-full max-w-[260px] mx-auto" data-category="creatine">
        <div class="bg-gray-200 dark:bg-gray-700 flex items-center justify-center h-[180px]">
          <img src="images/creatina-int.png" alt="Creatina" class="object-contain max-h-[160px] w-auto" />
        </div>
        <div class="p-4 text-center">
          <h3 class="text-lg font-semibold text-gray-800 dark:text-white">Creatina</h3>
          <button class="mt-3 px-5 py-1.5 border border-primary text-primary rounded hover:bg-primary hover:text-white transition text-sm font-medium">Ver Produtos</button>
        </div>
      </div>
  
      <!-- Categoria 4 -->
      <div class="category-card bg-white dark:bg-gray-800 rounded-xl overflow-hidden shadow-md hover:-translate-y-2 hover:shadow-lg cursor-pointer w-full max-w-[260px] mx-auto" data-category="thermogenic">
        <div class="bg-gray-200 dark:bg-gray-700 flex items-center justify-center h-[180px]">
          <img src="images/termo.png" alt="Termogênicos" class="object-contain max-h-[160px] w-auto" />
        </div>
        <div class="p-4 text-center">
          <h3 class="text-lg font-semibold text-gray-800 dark:text-white">Termogênicos</h3>
          <button class="mt-3 px-5 py-1.5 border border-primary text-primary rounded hover:bg-primary hover:text-white transition text-sm font-medium">Ver Produtos</button>
        </div>
      </div>
  
      <!-- Categoria 5 -->
      <div class="category-card bg-white dark:bg-gray-800 rounded-xl overflow-hidden shadow-md hover:-translate-y-2 hover:shadow-lg cursor-pointer w-full max-w-[260px] mx-auto" data-category="bcaa">
        <div class="bg-gray-200 dark:bg-gray-700 flex items-center justify-center h-[180px]">
          <img src="images/bcaa-prox.png" alt="Aminoácidos e BCAAs" class="object-contain max-h-[160px] w-auto" />
        </div>
        <div class="p-4 text-center">
          <h3 class="text-lg font-semibold text-gray-800 dark:text-white">Aminoácidos e BCAAs</h3>
          <button class="mt-3 px-5 py-1.5 border border-primary text-primary rounded hover:bg-primary hover:text-white transition text-sm font-medium">Ver Produtos</button>
        </div>
      </div>
  
      <!-- Categoria 6 -->
      <div class="category-card bg-white dark:bg-gray-800 rounded-xl overflow-hidden shadow-md hover:-translate-y-2 hover:shadow-lg cursor-pointer w-full max-w-[260px] mx-auto" data-category="hypercaloric">
        <div class="bg-gray-200 dark:bg-gray-700 flex items-center justify-center h-[180px]">
          <img src="images/hiper.png" alt="Hipercalóricos" class="object-contain max-h-[160px] w-auto" />
        </div>
        <div class="p-4 text-center">
          <h3 class="text-lg font-semibold text-gray-800 dark:text-white">Hipercalóricos</h3>
          <button class="mt-3 px-5 py-1.5 border border-primary text-primary rounded hover:bg-primary hover:text-white transition text-sm font-medium">Ver Produtos</button>
        </div>
      </div>
  
      <!-- Categoria 7 -->
      <div class="category-card bg-white dark:bg-gray-800 rounded-xl overflow-hidden shadow-md hover:-translate-y-2 hover:shadow-lg cursor-pointer w-full max-w-[260px] mx-auto" data-category="vitamins">
        <div class="bg-gray-200 dark:bg-gray-700 flex items-center justify-center h-[180px]">
          <img src="images/multivita.png" alt="Vitaminas e Multivitamínicos" class="object-contain max-h-[160px] w-auto" />
        </div>
        <div class="p-4 text-center">
          <h3 class="text-lg font-semibold text-gray-800 dark:text-white">Vitaminas e Multivitamínicos</h3>
          <button class="mt-3 px-5 py-1.5 border border-primary text-primary rounded hover:bg-primary hover:text-white transition text-sm font-medium">Ver Produtos</button>
        </div>
      </div>
  
      <!-- Categoria 8 -->
      <div class="category-card bg-white dark:bg-gray-800 rounded-xl overflow-hidden shadow-md hover:-translate-y-2 hover:shadow-lg cursor-pointer w-full max-w-[260px] mx-auto" data-category="protein-bars">
        <div class="bg-gray-200 dark:bg-gray-700 flex items-center justify-center h-[180px]">
          <img src="images/capasta.png" alt="Pastas e Barras Proteicas" class="object-contain max-h-[160px] w-auto" />
        </div>
        <div class="p-4 text-center">
          <h3 class="text-lg font-semibold text-gray-800 dark:text-white">Pastas e Barras Proteicas</h3>
          <button class="mt-3 px-5 py-1.5 border border-primary text-primary rounded hover:bg-primary hover:text-white transition text-sm font-medium">Ver Produtos</button>
        </div>
      </div>
  
      <!-- Categoria 9 - Nova categoria de Roupas Masculinas -->
      <div class="category-card bg-white dark:bg-gray-800 rounded-xl overflow-hidden shadow-md hover:-translate-y-2 hover:shadow-lg cursor-pointer w-full max-w-[260px] mx-auto" data-category="mens-clothes">
        <div class="bg-gray-200 dark:bg-gray-700 flex items-center justify-center h-[180px]">
          <img src="images/rm.png" alt="Roupas Masculinas" class="object-cover max-h-[160px] w-auto" />
        </div>
        <div class="p-4 text-center">
          <h3 class="text-lg font-semibold text-gray-800 dark:text-white">Roupas Masculinas</h3>
          <button class="mt-3 px-5 py-1.5 border border-primary text-primary rounded hover:bg-primary hover:text-white transition text-sm font-medium">Ver Produtos</button>
        </div>
      </div>
  
      <!-- Categoria 10 - Nova categoria de Roupas Femininas -->
      <div class="category-card bg-white dark:bg-gray-800 rounded-xl overflow-hidden shadow-md hover:-translate-y-2 hover:shadow-lg cursor-pointer w-full max-w-[260px] mx-auto" data-category="womens-clothes">
        <div class="bg-gray-200 dark:bg-gray-700 flex items-center justify-center h-[180px]">
          <img src="images/rf.png" alt="Roupas Femininas" class="object-cover max-h-[160px] w-auto" />
        </div>
        <div class="p-4 text-center">
          <h3 class="text-lg font-semibold text-gray-800 dark:text-white">Roupas Femininas</h3>
          <button class="mt-3 px-5 py-1.5 border border-primary text-primary rounded hover:bg-primary hover:text-white transition text-sm font-medium">Ver Produtos</button>
        </div>
      </div>
  
      <!-- Categoria 11 - Acessórios Fitness -->
      <div class="category-card bg-white dark:bg-gray-800 rounded-xl overflow-hidden shadow-md hover:-translate-y-2 hover:shadow-lg cursor-pointer w-full max-w-[260px] mx-auto" data-category="fitness-accessories">
        <div class="bg-gray-200 dark:bg-gray-700 flex items-center justify-center h-[180px]">
          <img src="images/af.png" alt="Acessórios Fitness" class="object-cover max-h-[160px] w-auto" />
        </div>
        <div class="p-4 text-center">
          <h3 class="text-lg font-semibold text-gray-800 dark:text-white">Acessórios Fitness</h3>
          <button class="mt-3 px-5 py-1.5 border border-primary text-primary rounded hover:bg-primary hover:text-white transition text-sm font-medium">Ver Produtos</button>
        </div>
      </div>
  
      <!-- Categoria 12 -->
      <div class="category-card bg-white dark:bg-gray-800 rounded-xl overflow-hidden shadow-md hover:-translate-y-2 hover:shadow-lg cursor-pointer w-full max-w-[260px] mx-auto" data-category="accessories">
        <div class="bg-gray-200 dark:bg-gray-700 flex items-center justify-center h-[180px]">
          <img src="images/balac.png" alt="Acessórios" class="object-contain max-h-[160px] w-auto" />
        </div>
        <div class="p-4 text-center">
          <h3 class="text-lg font-semibold text-gray-800 dark:text-white">Acessórios</h3>
          <button class="mt-3 px-5 py-1.5 border border-primary text-primary rounded hover:bg-primary hover:text-white transition text-sm font-medium">Ver Produtos</button>
        </div>
      </div>
  
    </div>
  </div>

				<!-- Localização -->
				<div class="container mx-auto px-4 py-16">
					<h2 class="text-3xl font-bold text-center mb-12 relative after:content-[''] after:absolute after:w-16 after:h-1 after:bg-primary after:bottom-[-10px] after:left-1/2 after:transform after:-translate-x-1/2">
						Nossa Localização
					</h2>

					<div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
						<div>
							<h3 class="text-2xl font-bold mb-4">Visite Nossa Loja</h3>
							<p class="mb-4"><i class="fas fa-map-marker-alt text-primary mr-2"></i> Rua Pedro Bradão, 123 - Centro, Jeremoabo - BA</p>
							<p class="mb-4"><i class="fas fa-phone text-primary mr-2"></i> (75 99134-2279) </p>
							<p class="mb-4"><i class="fas fa-envelope text-primary mr-2"></i> contato@prosupplements.com</p>
							<p class="mb-4"><i class="fas fa-clock text-primary mr-2"></i> Segunda a Sexta: 08h às 18h</p>
							<p class="mb-6"><i class="fas fa-clock text-primary mr-2"></i> Sábado: 08h às 12h</p>
						</div>

						<div class="h-80 rounded-lg overflow-hidden shadow-lg">
							<!-- Mapa do Google Maps -->
							<iframe
								src="https://maps.google.com/maps?q=santana%20do%20ipanema%20alagoas&t=&z=13&ie=UTF8&iwloc=&output=embed"
								width="100%"
								height="100%"
								style="border:0;"
								allowfullscreen=""
								loading="lazy"
								referrerpolicy="no-referrer-when-downgrade"
							>
							</iframe>
						</div>
					</div>
				</div>
			</section>

			<!-- Página de Produtos -->
			<section id="products" class="page">
				<div class="container mx-auto px-4 py-16">
					<div class="flex flex-col md:flex-row md:items-center mb-12">
						<h2 class="text-3xl font-bold flex-grow">Todos os Produtos</h2>
						<div class="flex flex-col sm:flex-row gap-4 mt-4 md:mt-0">
							<select id="category-filter" class="bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary text-base">
                                <option value="all">Todas as Categorias</option>
                                <option value="whey">Proteínas</option>
                                <option value="pre-workout">Pré-Treinos</option>
                                <option value="creatine">Creatina</option>
                                <option value="thermogenic">Termogênicos</option>
                                <option value="bcaa">Aminoácidos e BCAAs</option>
                                <option value="hypercaloric">Hipercalóricos</option>
                                <option value="vitamins">Vitaminas e Multivitamínicos</option>
                                <option value="protein-bars">Pastas e Barras Proteicas</option>
                                <option value="testo-booster">Suplementos Hormonais Testo Boosters</option>
                                <option value="health">Saúde e Bem-estar</option>
                                <option value="intra-workout">Repositor Energético Intra-Treino</option>
                                <option value="accessories">Acessórios</option>
                            </select>
							<select id="sort-filter" class="bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary text-base">
								<option value="name-asc">Nome (A-Z)</option>
								<option value="name-desc">Nome (Z-A)</option>
								<option value="price-asc">Preço (Menor-Maior)</option>
								<option value="price-desc">Preço (Maior-Menor)</option>
							</select>
						</div>
					</div>

					<div id="products-grid" class="product-grid">
						<!-- Os produtos serão carregados via JavaScript -->
						<div class="flex justify-center items-center py-12">
							<div class="spinner"></div>
						</div>
					</div>
				</div>
			</section>

			<!-- Página Roupas e Acessórios -->
			<section id="clothes" class="page">
				<div class="container mx-auto px-4 py-16">
					<h2 class="text-3xl font-bold text-center mb-12 relative after:content-[''] after:absolute after:w-16 after:h-1 after:bg-primary after:bottom-[-10px] after:left-1/2 after:transform after:-translate-x-1/2">
						Roupas e Acessórios Fitness
					</h2>
					
					<div class="flex flex-col md:flex-row md:items-center mb-12">
						<div class="flex-grow">
							<p class="text-gray-600 dark:text-gray-300 max-w-3xl mx-auto text-center mb-8">
                                Descubra nossa coleção exclusiva de roupas fitness de alta performance, projetadas para oferecer conforto, durabilidade e estilo durante seus treinos.
                            </p>
                        </div>
						<div class="flex flex-col sm:flex-row gap-4 mt-4 md:mt-0">
							<select id="clothes-category-filter" class="bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary text-base">
                                <option value="all">Todas as Categorias</option>
                                <option value="mens-clothes">Roupas Masculinas</option>
                                <option value="womens-clothes">Roupas Femininas</option>
                                <option value="fitness-accessories">Acessórios Fitness</option>
                            </select>
							<select id="clothes-sort-filter" class="bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary text-base">
								<option value="name-asc">Nome (A-Z)</option>
								<option value="name-desc">Nome (Z-A)</option>
								<option value="price-asc">Preço (Menor-Maior)</option>
								<option value="price-desc">Preço (Maior-Menor)</option>
							</select>
						</div>
					</div>

					<div id="clothes-grid" class="product-grid">
						<!-- Os produtos serão carregados via JavaScript -->
						<div class="flex justify-center items-center py-12">
							<div class="spinner"></div>
						</div>
					</div>
				</div>
			</section>

			<!-- Página de Categoria Individual -->
			<section id="category" class="page">
				<div class="container mx-auto px-4 py-16">
					<div class="mb-8">
						<a href="#" class="inline-flex items-center text-primary hover:underline mb-4" id="back-to-products"> <i class="fas fa-arrow-left mr-2"></i> Voltar para Produtos </a>
						<h2 class="text-3xl font-bold" id="category-title">Categoria</h2>
						<p class="mt-4 text-gray-600 dark:text-gray-300" id="category-description"></p>
					</div>

					<div id="category-products" class="product-grid">
						<!-- Os produtos da categoria serão carregados via JavaScript -->
						<div class="flex justify-center items-center py-12">
							<div class="spinner"></div>
						</div>
					</div>
                    
                    <div class="text-center mt-8">
                        <a href="#" data-page="products" class="inline-block px-6 py-3 bg-primary text-white font-semibold rounded hover:bg-opacity-90 transition">Ver Todos os Produtos</a>
                    </div>
				</div>
			</section>

			<!-- Página de Guia -->
			<section id="guide" class="page">
				<div class="container mx-auto px-4 py-16">
					<h2 class="text-3xl font-bold text-center mb-12 relative after:content-[''] after:absolute after:w-16 after:h-1 after:bg-primary after:bottom-[-10px] after:left-1/2 after:transform after:-translate-x-1/2">
						Guia Completo de Suplementação
					</h2>

					<div class="max-w-4xl mx-auto">
						<div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden mb-8">
							<div class="p-6">
								<h3 class="text-2xl font-bold mb-4">Por Que Usar Suplementos?</h3>
								<p class="mb-4">
									Os suplementos alimentares são produtos desenvolvidos para complementar a dieta, fornecendo nutrientes que podem estar em falta ou em quantidades insuficientes no seu cardápio diário. Eles podem ajudar no
									ganho de massa muscular, perda de gordura, melhora da performance física e recuperação pós-treino.
								</p>
								<p>Entretanto, é importante lembrar que suplementos não substituem uma alimentação balanceada e devem ser utilizados como um complemento à dieta, aliados a treinos regulares e descanso adequado.</p>
							</div>
						</div>

						<!-- Acordeão de Suplementos -->
						<div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden mb-8">
							<div class="border-b border-gray-200 dark:border-gray-700">
								<button class="supplement-accordion w-full p-6 text-left font-bold text-xl flex justify-between items-center">
									<span>Whey Protein</span>
									<i class="fas fa-chevron-down transition-transform"></i>
								</button>
								<div class="supplement-panel">
									<div class="p-6 pt-0">
										<p class="mb-4">
											<strong>O que é:</strong> O Whey Protein é uma proteína derivada do soro do leite, um subproduto da fabricação de queijo. É uma proteína completa que contém todos os aminoácidos essenciais.
										</p>
										<p class="mb-4"><strong>Para que serve:</strong> Ajuda na construção e recuperação muscular após os treinos, contribui para o ganho de massa magra e pode auxiliar na perda de gordura.</p>
										<p class="mb-4">
											<strong>Quando tomar:</strong> Idealmente, após o treino quando as células musculares estão mais receptivas a nutrientes. Também pode ser consumido como lanche entre as refeições ou substituindo
											uma refeição.
										</p>
										<p class="mb-4"><strong>Tipos principais:</strong></p>
										<ul class="list-disc pl-6 mb-4">
											<li><strong>Whey Concentrate:</strong> Forma menos processada, com maior quantidade de lactose e gordura.</li>
											<li><strong>Whey Isolate:</strong> Forma mais pura, com menos lactose e gordura, ideal para quem tem intolerância.</li>
											<li><strong>Whey Hydrolysate:</strong> Forma pré-digerida, de absorção mais rápida.</li>
										</ul>
										<p><strong>Dosagem recomendada:</strong> Geralmente entre 20-30g por porção, 1-3 vezes ao dia, dependendo das necessidades individuais.</p>
									</div>
								</div>
							</div>

							<div class="border-b border-gray-200 dark:border-gray-700">
								<button class="supplement-accordion w-full p-6 text-left font-bold text-xl flex justify-between items-center">
									<span>Creatina</span>
									<i class="fas fa-chevron-down transition-transform"></i>
								</button>
								<div class="supplement-panel">
									<div class="p-6 pt-0">
										<p class="mb-4"><strong>O que é:</strong> A creatina é um composto nitrogenado naturalmente produzido pelo corpo e encontrado em carnes vermelhas e peixes.</p>
										<p class="mb-4">
											<strong>Para que serve:</strong> Aumenta a produção de ATP (energia) nos músculos, melhorando a força, potência e resistência durante treinos de alta intensidade. Também contribui para o aumento
											de massa muscular.
										</p>
										<p class="mb-4"><strong>Quando tomar:</strong> Pode ser tomada a qualquer momento do dia, mas muitos preferem tomá-la após o treino junto com carboidratos para melhor absorção.</p>
										<p class="mb-4"><strong>Tipos principais:</strong></p>
										<ul class="list-disc pl-6 mb-4">
											<li><strong>Creatina Monohidratada:</strong> A forma mais estudada, eficaz e segura.</li>
											<li><strong>Creatina HCL:</strong> Forma ligada ao ácido clorídrico, supostamente com melhor absorção.</li>
											<li><strong>Creatina Kre-Alkalyn:</strong> Forma tamponada que promete menos efeitos colaterais.</li>
										</ul>
										<p><strong>Dosagem recomendada:</strong> 3-5g por dia. Alguns fazem uma fase de saturação com 20g/dia por 5-7 dias, mas não é obrigatório.</p>
									</div>
								</div>
							</div>

							<div class="border-b border-gray-200 dark:border-gray-700">
								<button class="supplement-accordion w-full p-6 text-left font-bold text-xl flex justify-between items-center">
									<span>Pré-Treino</span>
									<i class="fas fa-chevron-down transition-transform"></i>
								</button>
								<div class="supplement-panel">
									<div class="p-6 pt-0">
										<p class="mb-4"><strong>O que é:</strong> Suplementos pré-treino são fórmulas que combinam diversos ingredientes para melhorar o desempenho durante o exercício.</p>
										<p class="mb-4"><strong>Para que serve:</strong> Aumenta a energia, foco, concentração, fluxo sanguíneo (pump) e resistência durante o treino.</p>
										<p class="mb-4"><strong>Quando tomar:</strong> 15-30 minutos antes do treino.</p>
										<p class="mb-4"><strong>Ingredientes comuns:</strong></p>
										<ul class="list-disc pl-6 mb-4">
											<li><strong>Cafeína:</strong> Estimulante que aumenta energia e foco.</li>
											<li><strong>Beta-Alanina:</strong> Reduz a fadiga muscular e aumenta a resistência.</li>
											<li><strong>Citrulina Malato:</strong> Melhora o fluxo sanguíneo e reduz a fadiga.</li>
											<li><strong>Arginina:</strong> Precursor do óxido nítrico, melhora o fluxo sanguíneo.</li>
											<li><strong>Taurina:</strong> Ajuda na função celular e na hidratação.</li>
										</ul>
										<p><strong>Observações:</strong> Pessoas sensíveis à cafeína devem ter cuidado com pré-treinos e evitar o consumo à noite. Tolerância pode ser desenvolvida com o uso constante.</p>
									</div>
								</div>
							</div>

							<div class="border-b border-gray-200 dark:border-gray-700">
								<button class="supplement-accordion w-full p-6 text-left font-bold text-xl flex justify-between items-center">
									<span>BCAA</span>
									<i class="fas fa-chevron-down transition-transform"></i>
								</button>
								<div class="supplement-panel">
									<div class="p-6 pt-0">
										<p class="mb-4"><strong>O que é:</strong> BCAAs (Branched Chain Amino Acids) são aminoácidos de cadeia ramificada: leucina, isoleucina e valina.</p>
										<p class="mb-4"><strong>Para que serve:</strong> Ajudam na síntese proteica, reduzem o catabolismo muscular, diminuem a fadiga durante o exercício e podem acelerar a recuperação.</p>
										<p class="mb-4"><strong>Quando tomar:</strong> Antes, durante ou após o treino. Também pode ser consumido entre as refeições.</p>
										<p class="mb-4"><strong>Proporções comuns:</strong></p>
										<ul class="list-disc pl-6 mb-4">
											<li><strong>2:1:1:</strong> A proporção clássica (leucina:isoleucina:valina).</li>
											<li><strong>4:1:1:</strong> Proporção com ênfase na leucina, que é o aminoácido mais importante para a síntese proteica.</li>
											<li><strong>8:1:1:</strong> Proporção ainda mais focada na leucina.</li>
										</ul>
										<p><strong>Observações:</strong> Para quem consome proteína suficiente na dieta ou whey protein, o benefício adicional dos BCAAs pode ser limitado, já que estas fontes já contêm BCAAs.</p>
									</div>
								</div>
							</div>

							<div class="border-b border-gray-200 dark:border-gray-700">
								<button class="supplement-accordion w-full p-6 text-left font-bold text-xl flex justify-between items-center">
									<span>Termogênicos</span>
									<i class="fas fa-chevron-down transition-transform"></i>
								</button>
								<div class="supplement-panel">
									<div class="p-6 pt-0">
										<p class="mb-4"><strong>O que é:</strong> Suplementos que aumentam a temperatura corporal e a taxa metabólica, auxiliando na queima de gordura.</p>
										<p class="mb-4"><strong>Para que serve:</strong> Aumento do gasto calórico, redução do apetite, aumento da energia e melhora do foco durante exercícios.</p>
										<p class="mb-4"><strong>Quando tomar:</strong> Geralmente pela manhã ou 30 minutos antes do treino. Evite consumir à noite para não afetar o sono.</p>
										<p class="mb-4"><strong>Ingredientes comuns:</strong></p>
										<ul class="list-disc pl-6 mb-4">
											<li><strong>Cafeína:</strong> Estimula o sistema nervoso central, aumentando o metabolismo.</li>
											<li><strong>Chá Verde:</strong> Contém EGCG que pode aumentar a oxidação de gordura.</li>
											<li><strong>Pimenta Caiena:</strong> Contém capsaicina que pode elevar a temperatura corporal.</li>
											<li><strong>L-Carnitina:</strong> Transporta ácidos graxos para serem queimados como energia.</li>
											<li><strong>Forskolina:</strong> Pode ajudar a aumentar os níveis de AMP cíclico, importante para queima de gordura.</li>
										</ul>
										<p>
											<strong>Observações:</strong> Pessoas com pressão alta, problemas cardíacos, ansiedade ou sensibilidade à cafeína devem ter cuidado ou evitar termogênicos. Não são recomendados para uso constante
											e prolongado.
										</p>
									</div>
								</div>
							</div>

							<div class="border-b border-gray-200 dark:border-gray-700">
								<button class="supplement-accordion w-full p-6 text-left font-bold text-xl flex justify-between items-center">
									<span>Outros Suplementos</span>
									<i class="fas fa-chevron-down transition-transform"></i>
								</button>
								<div class="supplement-panel">
									<div class="p-6 pt-0">
										<h4 class="font-bold mb-3">Hipercalóricos</h4>
										<p class="mb-3">Suplementos ricos em calorias, carboidratos e proteínas, para pessoas que têm dificuldade em ganhar peso ou precisam de um aporte calórico maior.</p>
										
										<h4 class="font-bold mb-3 mt-5">Vitaminas e Minerais</h4>
										<p class="mb-3">Micronutrientes essenciais para diversas funções do organismo, incluindo produção de energia, suporte ao sistema imunológico e recuperação muscular.</p>
										
										<h4 class="font-bold mb-3 mt-5">Barras Proteicas</h4>
										<p class="mb-3">Lanches práticos e portáteis ricos em proteínas, ideais para consumo entre refeições quando não há acesso a uma refeição completa.</p>
										
										<h4 class="font-bold mb-3 mt-5">Glutamina</h4>
										<p>Aminoácido que auxilia na recuperação muscular, saúde intestinal e função imunológica, especialmente útil em períodos de treino intenso.</p>
                                        
                                        <h4 class="font-bold mb-3 mt-5">Acessórios para Musculação</h4>
										<p>Itens como cintos, luvas, straps e joelheiras que ajudam a melhorar a técnica, aumentar a segurança e potencializar o desempenho durante os treinos de força.</p>
									</div>
								</div>
							</div>
						</div>

						<!-- Considerações Finais -->
						<div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden mb-8">
							<div class="p-6">
								<h3 class="text-2xl font-bold mb-4">Considerações Importantes</h3>
								<ul class="list-disc pl-6">
									<li class="mb-2">Consulte um profissional de saúde antes de iniciar qualquer suplementação, especialmente se você tem condições médicas pré-existentes.</li>
									<li class="mb-2">Suplementos não substituem uma alimentação balanceada e hábitos saudáveis.</li>
									<li class="mb-2">Os resultados variam de pessoa para pessoa e dependem de diversos fatores como genética, treino e alimentação.</li>
									<li class="mb-2">Leia atentamente os rótulos e respeite as dosagens recomendadas.</li>
									<li class="mb-2">Identifique seus objetivos específicos para escolher os suplementos mais adequados.</li>
									<li>Verifique a procedência e qualidade dos produtos, dando preferência a marcas reconhecidas.</li>
								</ul>
							</div>
						</div>
					</div>
				</div>
			</section>

			<!-- Página de Contato -->
			<section id="contact" class="page">
				<div class="container mx-auto px-4 py-16">
					<h2 class="text-3xl font-bold text-center mb-12 relative after:content-[''] after:absolute after:w-16 after:h-1 after:bg-primary after:bottom-[-10px] after:left-1/2 after:transform after:-translate-x-1/2">
						Entre em Contato
					</h2>

					<div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
						<div>
							<div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden mb-8">
								<div class="p-6">
									<h3 class="text-2xl font-bold mb-6">Informações de Contato</h3>

									<div class="flex items-start mb-6">
										<div class="bg-primary bg-opacity-10 p-3 rounded-full mr-4">
											<i class="fas fa-map-marker-alt text-primary"></i>
										</div>
										<div>
											<h4 class="font-bold mb-1">Endereço</h4>
											<p>Rua Pedro Brandão, 123 - Centro, Jeremoabo - BA, 48540-000</p>
										</div>
									</div>

									<div class="flex items-start mb-6">
										<div class="bg-primary bg-opacity-10 p-3 rounded-full mr-4">
											<i class="fas fa-phone text-primary"></i>
										</div>
										<div>
											<h4 class="font-bold mb-1">Telefone</h4>
											<p>(75) 99134-2279</p>
										</div>
									</div>

									<div class="flex items-start mb-6">
										<div class="bg-primary bg-opacity-10 p-3 rounded-full mr-4">
											<i class="fas fa-envelope text-primary"></i>
										</div>
										<div>
											<h4 class="font-bold mb-1">E-mail</h4>
											<p>contato@prosupplements.com</p>
										</div>
									</div>

									<div class="flex items-start">
										<div class="bg-primary bg-opacity-10 p-3 rounded-full mr-4">
											<i class="fas fa-clock text-primary"></i>
										</div>
										<div>
											<h4 class="font-bold mb-1">Horário de Funcionamento</h4>
											<p>Segunda a Sexta: 08h às 18h</p>
											<p>Sábado: 08h às 12h</p>
										</div>
									</div>
								</div>
							</div>

							<div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden">
								<div class="h-64 rounded-lg overflow-hidden">
									<iframe
										src="https://maps.google.com/maps?q=santana%20do%20ipanema%20alagoas&t=&z=13&ie=UTF8&iwloc=&output=embed"
										width="100%"
										height="100%"
										style="border:0;"
										allowfullscreen=""
										loading="lazy"
										referrerpolicy="no-referrer-when-downgrade"
									>
									</iframe>
								</div>
							</div>
						</div>

						<div>
							<div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden">
								<div class="p-6">
									<h3 class="text-2xl font-bold mb-6">Envie uma Mensagem</h3>

									<form id="contact-form">
										<div class="mb-4">
											<label for="name" class="block font-medium mb-2">Nome Completo</label>
											<input
												type="text"
												id="name"
												class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary dark:bg-gray-700 text-base"
												required
											/>
										</div>

										<div class="mb-4">
											<label for="email" class="block font-medium mb-2">E-mail</label>
											<input
												type="email"
												id="email"
												class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary dark:bg-gray-700 text-base"
												required
											/>
										</div>

										<div class="mb-4">
											<label for="phone" class="block font-medium mb-2">Telefone</label>
											<input type="tel" id="phone" class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary dark:bg-gray-700 text-base" />
										</div>

										<div class="mb-4">
											<label for="subject" class="block font-medium mb-2">Assunto</label>
											<select id="subject" class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary dark:bg-gray-700 text-base">
												<option value="">Selecione</option>
												<option value="info">Informações sobre Produtos</option>
												<option value="order">Pedidos</option>
												<option value="support">Suporte</option>
												<option value="partnership">Parcerias</option>
												<option value="other">Outro</option>
											</select>
										</div>

										<div class="mb-6">
											<label for="message" class="block font-medium mb-2">Mensagem</label>
											<textarea
												id="message"
												rows="5"
												class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary dark:bg-gray-700 text-base"
												required
											></textarea>
										</div>

										<button type="button" id="send-message-btn" class="w-full bg-primary text-white font-semibold py-3 px-6 rounded-lg hover:bg-opacity-90 transition">Enviar Mensagem</button>
									</form>
								</div>
							</div>
						</div>
					</div>
				</div>
			</section>

            <!-- Página de Admin -->
            <section id="admin" class="page">
                <div class="container mx-auto px-4 py-8">
                    <div id="admin-login-required" class="text-center py-12">
                        <i class="fas fa-lock text-5xl text-primary mb-4"></i>
                        <h2 class="text-2xl font-bold mb-4">Área Restrita</h2>
                        <p class="mb-6">Faça login para acessar o painel administrativo</p>
                        <button id="admin-login-btn" class="px-6 py-3 bg-primary text-white font-semibold rounded-lg hover:bg-opacity-90 transition">
                            Fazer Login
                        </button>
                    </div>
                    
                    <div id="admin-panel" class="hidden">
                        <div class="flex justify-between items-center mb-8">
                            <h2 class="text-3xl font-bold">Painel Administrativo</h2>
                            <button id="admin-logout-btn" class="px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition">
                                <i class="fas fa-sign-out-alt mr-2"></i> Sair
                            </button>
                        </div>
                        
                        <!-- Barra de navegação administrativa -->
                        <div class="admin-nav mb-8">
    <ul class="admin-nav-tabs">
        <li class="admin-nav-item active" data-tab="products">Produtos</li>
        <li class="admin-nav-item" data-tab="clothes">Roupas e Acessórios</li>
        <li class="admin-nav-item" data-tab="categories">Categorias</li>
        <li class="admin-nav-item" data-tab="settings">Configurações</li>
    </ul>
</div>
                        
                        <!-- Tab de Produtos -->
                        <div id="admin-tab-products" class="admin-tab">
                            <div class="flex justify-between items-center mb-6">
                                <h3 class="text-xl font-bold">Gerenciar Produtos</h3>
                                <button id="add-product-btn" class="px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition">
                                    <i class="fas fa-plus mr-2"></i> Adicionar Produto
                                </button>
                            </div>
                            
                            <!-- Formulário para adicionar/editar produto -->
                            <div id="product-form-container" class="admin-form-container hidden mb-8">
                                <h3 id="product-form-title" class="text-xl font-bold mb-6">Adicionar Novo Produto</h3>
                                <form id="product-form" class="admin-form-grid">
                                    <div class="admin-form-group">
                                        <label for="product-name">Nome do Produto*</label>
                                        <input type="text" id="product-name" class="admin-form-input" required>
                                    </div>
                                    
                                    <div class="admin-form-group">
                                        <label for="product-category">Categoria*</label>
                                        <select id="product-category" class="admin-form-select" required>
                                            <option value="">Selecione uma categoria</option>
                                            <option value="whey">Proteínas</option>
                                            <option value="pre-workout">Pré-Treinos</option>
                                            <option value="creatine">Creatina</option>
                                            <option value="thermogenic">Termogênicos</option>
                                            <option value="bcaa">Aminoácidos e BCAAs</option>
                                            <option value="hypercaloric">Hipercalóricos</option>
                                            <option value="vitamins">Vitaminas e Multivitamínicos</option>
                                            <option value="protein-bars">Pastas e Barras Proteicas</option>
                                            <option value="testo-booster">Testo Boosters</option>
                                            <option value="health">Saúde e Bem-estar</option>
                                            <option value="intra-workout">Intra-Treino</option>
                                            <option value="accessories">Acessórios</option>
                                        </select>
                                    </div>
                                    
                                    <div class="admin-form-group">
                                        <label for="product-price">Preço (R$)*</label>
                                        <input type="number" id="product-price" class="admin-form-input" step="0.01" min="0" required>
                                    </div>
                                    
                                    <div class="admin-form-group">
                                        <label for="product-old-price">Preço Antigo (R$)</label>
                                        <input type="number" id="product-old-price" class="admin-form-input" step="0.01" min="0">
                                    </div>
                                    
                                    <div class="admin-form-group">
                                        <label for="product-rating">Avaliação (0-5)</label>
                                        <input type="number" id="product-rating" class="admin-form-input" step="0.1" min="0" max="5" value="5">
                                    </div>
                                    
                                    <div class="admin-form-group">
                                        <label for="product-tag">Tag (ex: Novo, Promoção)</label>
                                        <input type="text" id="product-tag" class="admin-form-input">
                                    </div>
                                    
                                    <div class="admin-form-group col-span-2">
                                        <label for="product-image-url">URL da Imagem*</label>
                                        <input type="text" id="product-image-url" class="admin-form-input" required>
                                    </div>
                                    
                                    <div class="admin-form-group col-span-2">
                                        <label for="product-description">Descrição*</label>
                                        <textarea id="product-description" class="admin-form-textarea" required></textarea>
                                    </div>
                                    
                                    <div class="admin-form-group col-span-2">
                                        <label>Benefícios/Características*</label>
                                        <div id="product-benefits-container" class="admin-benefits-container">
                                            <div class="admin-benefit-item">
                                                <input type="text" class="admin-form-input product-benefit" placeholder="Ex: 24g de proteína por dose">
                                                <button type="button" class="admin-remove-benefit-btn"><i class="fas fa-minus"></i></button>
                                            </div>
                                        </div>
                                        <button type="button" id="add-benefit-btn" class="admin-add-benefit-btn mt-2"><i class="fas fa-plus"></i></button>
                                    </div>
                                    
                                    <div class="col-span-2 flex justify-end gap-4 mt-4">
                                        <button type="button" id="cancel-product-btn" class="admin-form-button secondary">Cancelar</button>
                                        <button type="submit" id="save-product-btn" class="admin-form-button">Salvar Produto</button>
                                    </div>
                                </form>
                            </div>
                            
                            <!-- Lista de produtos -->
                            <div id="admin-products-grid" class="admin-product-grid">
                                <!-- Produtos serão carregados aqui via JavaScript -->
                                <div class="flex justify-center items-center py-12 col-span-full">
                                    <div class="spinner"></div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Tab de Roupas -->
                        <div id="admin-tab-clothes" class="admin-tab hidden">
                            <div class="flex justify-between items-center mb-6">
                                <h3 class="text-xl font-bold">Gerenciar Roupas e Acessórios</h3>
                                <button id="add-clothing-btn" class="px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition">
                                    <i class="fas fa-plus mr-2"></i> Adicionar Item
                                </button>
                            </div>
                            
                            <!-- Formulário para adicionar/editar roupas -->
                            <div id="clothing-form-container" class="admin-form-container hidden mb-8">
                                <h3 id="clothing-form-title" class="text-xl font-bold mb-6">Adicionar Nova Roupa/Acessório</h3>
                                <form id="clothing-form" class="admin-form-grid">
                                    <div class="admin-form-group">
                                        <label for="clothing-name">Nome do Item*</label>
                                        <input type="text" id="clothing-name" class="admin-form-input" required>
                                    </div>
                                    
                                    <div class="admin-form-group">
                                        <label for="clothing-category">Categoria*</label>
                                        <select id="clothing-category" class="admin-form-select" required>
                                            <option value="">Selecione uma categoria</option>
                                            <option value="mens-clothes">Roupas Masculinas</option>
                                            <option value="womens-clothes">Roupas Femininas</option>
                                            <option value="fitness-accessories">Acessórios Fitness</option>
                                        </select>
                                    </div>
                                    
                                    <div class="admin-form-group">
                                        <label for="clothing-price">Preço (R$)*</label>
                                        <input type="number" id="clothing-price" class="admin-form-input" step="0.01" min="0" required>
                                    </div>
                                    
                                    <div class="admin-form-group">
                                        <label for="clothing-old-price">Preço Antigo (R$)</label>
                                        <input type="number" id="clothing-old-price" class="admin-form-input" step="0.01" min="0">
                                    </div>
                                    
                                    <div class="admin-form-group">
                                        <label for="clothing-rating">Avaliação (0-5)</label>
                                        <input type="number" id="clothing-rating" class="admin-form-input" step="0.1" min="0" max="5" value="5">
                                    </div>
                                    
                                    <div class="admin-form-group">
                                        <label for="clothing-tag">Tag (ex: Novo, Promoção)</label>
                                        <input type="text" id="clothing-tag" class="admin-form-input">
                                    </div>
                                    
                                    <div class="admin-form-group col-span-2">
                                        <label for="clothing-images">URLs das Imagens* (uma por linha)</label>
                                        <textarea id="clothing-images" class="admin-form-textarea" required placeholder="https://exemplo.com/imagem1.jpg&#10;https://exemplo.com/imagem2.jpg"></textarea>
                                    </div>
                                    
                                    <div class="admin-form-group col-span-2">
                                        <label for="clothing-description">Descrição*</label>
                                        <textarea id="clothing-description" class="admin-form-textarea" required></textarea>
                                    </div>
                                    
                                    <div class="admin-form-group">
                                        <label for="clothing-sizes">Tamanhos Disponíveis*</label>
                                        <div class="flex flex-wrap gap-2 mt-2">
                                            <label class="flex items-center">
                                                <input type="checkbox" class="clothing-size mr-1" value="P"> P
                                            </label>
                                            <label class="flex items-center">
                                                <input type="checkbox" class="clothing-size mr-1" value="M"> M
                                            </label>
                                            <label class="flex items-center">
                                                <input type="checkbox" class="clothing-size mr-1" value="G"> G
                                            </label>
                                            <label class="flex items-center">
                                                <input type="checkbox" class="clothing-size mr-1" value="GG"> GG
                                            </label>
                                            <label class="flex items-center">
                                                <input type="checkbox" class="clothing-size mr-1" value="XG"> XG
                                            </label>
                                        </div>
                                    </div>
                                    
                                    <div class="admin-form-group">
                                        <label for="clothing-colors">Cores Disponíveis*</label>
                                        <div class="flex flex-wrap gap-2 mt-2">
                                            <label class="flex items-center">
                                                <input type="checkbox" class="clothing-color mr-1" value="Preto"> Preto
                                            </label>
                                            <label class="flex items-center">
                                                <input type="checkbox" class="clothing-color mr-1" value="Branco"> Branco
                                            </label>
                                            <label class="flex items-center">
                                                <input type="checkbox" class="clothing-color mr-1" value="Cinza"> Cinza
                                            </label>
                                            <label class="flex items-center">
                                                <input type="checkbox" class="clothing-color mr-1" value="Vermelho"> Vermelho
                                            </label>
                                            <label class="flex items-center">
                                                <input type="checkbox" class="clothing-color mr-1" value="Azul"> Azul
                                            </label>
                                            <label class="flex items-center">
                                                <input type="checkbox" class="clothing-color mr-1" value="Rosa"> Rosa
                                            </label>
                                        </div>
                                    </div>
                                    
                                    <div class="admin-form-group col-span-2">
                                        <label>Benefícios/Características*</label>
                                        <div id="clothing-benefits-container" class="admin-benefits-container">
                                            <div class="admin-benefit-item">
                                                <input type="text" class="admin-form-input clothing-benefit" placeholder="Ex: Tecido dry-fit de alta qualidade">
                                                <button type="button" class="admin-remove-benefit-btn"><i class="fas fa-minus"></i></button>
                                            </div>
                                        </div>
                                        <button type="button" id="add-clothing-benefit-btn" class="admin-add-benefit-btn mt-2"><i class="fas fa-plus"></i></button>
                                    </div>
                                    
                                    <div class="col-span-2 flex justify-end gap-4 mt-4">
                                        <button type="button" id="cancel-clothing-btn" class="admin-form-button secondary">Cancelar</button>
                                        <button type="submit" id="save-clothing-btn" class="admin-form-button">Salvar Item</button>
                                    </div>
                                </form>
                            </div>
                            
                            <!-- Lista de roupas e acessórios -->
                            <div id="admin-clothes-grid" class="admin-product-grid">
                                <!-- Roupas serão carregadas aqui via JavaScript -->
                                <div class="flex justify-center items-center py-12 col-span-full">
                                    <div class="spinner"></div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Tab de Categorias -->
<div id="admin-tab-categories" class="admin-tab hidden">
    <div class="flex justify-between items-center mb-6">
        <h3 class="text-xl font-bold">Gerenciar Categorias</h3>
        <button id="add-category-btn" class="px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition">
            <i class="fas fa-plus mr-2"></i> Adicionar Categoria
        </button>
    </div>
    
    <!-- Formulário para adicionar/editar categoria -->
    <div id="category-form-container" class="admin-form-container hidden mb-8">
        <h3 id="category-form-title" class="text-xl font-bold mb-6">Adicionar Nova Categoria</h3>
        <form id="category-form">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="admin-form-group">
                    <label for="category-name">Nome da Categoria*</label>
                    <input type="text" id="category-name" class="admin-form-input" required>
                </div>
                
                <div class="admin-form-group">
                    <label for="category-code">Código da Categoria*</label>
                    <input type="text" id="category-code" class="admin-form-input" required placeholder="ex: whey, creatine, etc">
                    <small class="text-xs text-gray-500 dark:text-gray-400 mt-1 block">Use apenas letras minúsculas, números e hífens</small>
                </div>
                
                <div class="admin-form-group col-span-2">
                    <label for="category-description">Descrição*</label>
                    <textarea id="category-description" class="admin-form-textarea" required></textarea>
                </div>
                
                <div class="col-span-2 flex justify-end gap-4 mt-4">
                    <button type="button" id="cancel-category-btn" class="admin-form-button secondary">Cancelar</button>
                    <button type="submit" id="save-category-btn" class="admin-form-button">Salvar Categoria</button>
                </div>
            </div>
        </form>
    </div>
    
    <!-- Lista de categorias -->
    <div id="admin-categories-grid" class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <!-- Categorias serão carregadas aqui via JavaScript -->
        <div class="flex justify-center items-center py-12 col-span-full">
            <div class="spinner"></div>
        </div>
    </div>
</div>
                        
                        <!-- Tab de Configurações -->
                        <div id="admin-tab-settings" class="admin-tab hidden">
                            <h3 class="text-xl font-bold mb-6">Configurações</h3>
                            <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
                                <div id="supabase-connection-status" class="mb-6">
                                    <!-- Status da conexão com o Supabase será exibido aqui -->
                                </div>
                                
                                <div class="mb-6">
                                    <h4 class="font-bold mb-4">Configurações do Supabase</h4>
                                    <form id="supabase-config-form">
                                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                            <div>
                                                <label class="block text-sm font-medium mb-1">URL da API</label>
                                                <div class="flex">
                                                    <input type="text" id="supabase-url" class="flex-grow px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary dark:bg-gray-700" placeholder="https://seu-projeto.supabase.co">
                                                </div>
                                            </div>
                                            <div>
                                                <label class="block text-sm font-medium mb-1">Chave Anônima</label>
                                                <div class="flex">
                                                    <input type="password" id="supabase-key" class="flex-grow px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary dark:bg-gray-700" placeholder="sua-chave-supabase">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="mt-4 flex">
                                            <button type="submit" class="px-4 py-2 bg-primary text-white rounded-lg hover:bg-opacity-90 transition">Salvar Configurações</button>
                                            <button type="button" id="test-connection-btn" class="test-connection-btn">Testar Conexão</button>
                                        </div>
                                    </form>
                                </div>
                                
                                <div class="border-t border-gray-200 dark:border-gray-700 pt-6 mb-6">
                                    <h4 class="font-bold mb-4">Informações da Loja</h4>
                                    <form id="store-info-form">
                                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                            <div>
                                                <label class="block text-sm font-medium mb-1">Nome da Loja</label>
                                                <input type="text" id="store-name" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary dark:bg-gray-700" value="Pro Supplements">
                                            </div>
                                            <div>
                                                <label class="block text-sm font-medium mb-1">E-mail de Contato</label>
                                                <input type="email" id="store-email" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary dark:bg-gray-700" value="contato@prosupplements.com">
                                            </div>
                                            <div>
                                                <label class="block text-sm font-medium mb-1">Telefone</label>
                                                <input type="tel" id="store-phone" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary dark:bg-gray-700" value="(75) 99134-2279">
                                            </div>
                                            <div>
                                                <label class="block text-sm font-medium mb-1">WhatsApp</label>
                                                <input type="tel" id="store-whatsapp" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary dark:bg-gray-700" value="5575991342279">
                                            </div>
                                        </div>
                                        <div class="mt-4">
                                            <label class="block text-sm font-medium mb-1">Endereço</label>
                                            <input type="text" id="store-address" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary dark:bg-gray-700" value="Rua Pedro Brandão, 123 - Centro, Jeremoabo - BA, 48540-000">
                                        </div>
                                        <div class="mt-4">
                                            <button type="submit" class="px-4 py-2 bg-primary text-white rounded-lg hover:bg-opacity-90 transition">Salvar Informações</button>
                                        </div>
                                    </form>
                                </div>
                                
                                <div class="border-t border-gray-200 dark:border-gray-700 pt-6">
                                    <h4 class="font-bold mb-4">Ferramentas de Manutenção</h4>
                                    <div class="flex flex-wrap gap-4">
                                        <button id="sync-db-btn" class="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition">
                                            <i class="fas fa-sync-alt mr-2"></i> Sincronizar com Supabase
                                        </button>
                                        <button id="clear-cache-btn" class="px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition">
                                            <i class="fas fa-broom mr-2"></i> Limpar Cache
                                        </button>
                                        <button id="export-data-btn" class="px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition">
                                            <i class="fas fa-file-export mr-2"></i> Exportar Dados
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
		</main>

		<!-- Rodapé -->
<footer class="bg-secondary text-white pt-16 pb-8">
    <div class="container mx-auto px-4">
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12">
  
        <!-- Logo e Redes Sociais -->
        <div class="text-center md:text-left">
          <a href="#" class="flex justify-center md:justify-start items-center text-2xl font-extrabold mb-6">
            <div class="w-10 h-10 bg-primary rounded-full flex items-center justify-center mr-3">
              <span class="text-white font-bold">PS</span>
            </div>
            PRO<span class="text-primary">SUPPLEMENTS</span>
          </a>
          <p class="mb-6 text-gray-400">Oferecendo os melhores suplementos esportivos para maximizar seus resultados fitness desde 2015.</p>
          <div class="flex justify-center md:justify-start space-x-4">
            <a href="#" class="bg-gray-800 w-10 h-10 rounded-full flex items-center justify-center hover:bg-primary transition">
              <i class="fab fa-facebook-f"></i>
            </a>
            <a href="#" class="bg-gray-800 w-10 h-10 rounded-full flex items-center justify-center hover:bg-primary transition">
              <i class="fab fa-instagram"></i>
            </a>
            <a href="#" class="bg-gray-800 w-10 h-10 rounded-full flex items-center justify-center hover:bg-primary transition">
              <i class="fab fa-twitter"></i>
            </a>
            <a href="#" class="bg-gray-800 w-10 h-10 rounded-full flex items-center justify-center hover:bg-primary transition">
              <i class="fab fa-youtube"></i>
            </a>
          </div>
        </div>
  
        <!-- Links Rápidos -->
        <div class="text-center md:text-left">
          <h4 class="text-lg font-bold mb-6">Links Rápidos</h4>
          <ul class="space-y-3">
            <li><a href="#" class="text-gray-400 hover:text-white transition" data-page="home">Home</a></li>
            <li><a href="#" class="text-gray-400 hover:text-white transition" data-page="products">Produtos</a></li>
            <li><a href="#" class="text-gray-400 hover:text-white transition" data-page="clothes">Roupas e Acessórios</a></li>
            <li><a href="#" class="text-gray-400 hover:text-white transition" data-page="guide">Guia de Suplementação</a></li>
            <li><a href="#" class="text-gray-400 hover:text-white transition" data-page="contact">Contato</a></li>
          </ul>
        </div>
  
        <!-- Categorias -->
        <div class="text-center md:text-left">
          <h4 class="text-lg font-bold mb-6">Categorias</h4>
          <ul class="space-y-3">
            <li><a href="#" class="text-gray-400 hover:text-white transition" data-category="whey">Whey Protein</a></li>
            <li><a href="#" class="text-gray-400 hover:text-white transition" data-category="pre-workout">Pré-Treino</a></li>
            <li><a href="#" class="text-gray-400 hover:text-white transition" data-category="creatine">Creatina</a></li>
            <li><a href="#" class="text-gray-400 hover:text-white transition" data-category="mens-clothes">Roupas Masculinas</a></li>
            <li><a href="#" class="text-gray-400 hover:text-white transition" data-category="womens-clothes">Roupas Femininas</a></li>
            <li><a href="#" class="text-gray-400 hover:text-white transition" data-category="fitness-accessories">Acessórios Fitness</a></li>
            <li><a href="#" class="text-gray-400 hover:text-white transition" data-category="bcaa">BCAA</a></li>
            <li><a href="#" class="text-gray-400 hover:text-white transition" data-category="health">Saúde e Bem-estar</a></li>
          </ul>
        </div>
  
        <!-- Contato -->
        <div class="text-center md:text-left">
          <h4 class="text-lg font-bold mb-6">Contato</h4>
          <ul class="space-y-4">
            <li class="flex flex-col items-center md:flex-row md:items-start">
              <i class="fas fa-map-marker-alt text-primary mt-1 md:mr-3 mb-1 md:mb-0"></i>
              <span>Rua Pedro Brandão 123 - Centro, Jeremoabo - BA, 48540-000</span>
            </li>
            <li class="flex items-center justify-center md:justify-start">
              <i class="fas fa-phone text-primary mr-3"></i>
              <span>(75) 99134-2279</span>
            </li>
            <li class="flex items-center justify-center md:justify-start">
              <i class="fas fa-envelope text-primary mr-3"></i>
              <span>contato@prosupplements.com</span>
            </li>
            <li class="flex items-center justify-center md:justify-start">
              <i class="fas fa-clock text-primary mr-3"></i>
              <span>Seg-Sex: 08h-18h, Sáb: 08h-12h</span>
            </li>
          </ul>
        </div>
      </div>
  
      <!-- Footer Bottom -->
      <div class="footer-bottom text-center py-4">
        <div class="footer-bottom-content text-sm text-white space-y-1">
          <p>&copy; 2025 Pro Supplements. Todos os direitos reservados.</p>
          <p class="developer-credit flex items-center justify-center gap-1">
            <i class="fas fa-code text-primary"></i> Desenvolvido por 
            <a href="https://wa.me/5575991342279" target="_blank" class="text-primary hover:underline flex items-center gap-1">
              PeagahTech <i class="fas fa-external-link-alt text-xs"></i>
            </a>
          </p>
        </div>
      </div>
    </div>
  </footer>
  

		<!-- Modal de Produto -->
		<div id="product-modal" class="fixed inset-0 z-50 hidden">
			<div class="absolute inset-0 bg-black bg-opacity-50" id="modal-overlay"></div>
			<div class="relative z-10 w-11/12 max-w-3xl mx-auto mt-10 sm:mt-20 bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden">
				<button class="absolute top-2 right-2 z-10 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 text-2xl" id="close-modal">
					<i class="fas fa-times"></i>
				</button>

				<div class="grid grid-cols-1 md:grid-cols-2">
					<div class="p-3 sm:p-4 flex flex-col items-center justify-center bg-gray-100 dark:bg-gray-700">
						<!-- Slider de imagens -->
						<div class="modal-image-container w-full">
                            <button class="modal-image-nav modal-image-prev">
                                <i class="fas fa-chevron-left"></i>
                            </button>
                            <img src="" alt="" class="modal-main-image" id="modal-product-image-main">
                            <button class="modal-image-nav modal-image-next">
                                <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                        
                        <!-- Thumbnails -->
                        <div class="modal-thumbnail-container">
                            <div class="modal-thumbnail active" data-index="0">
                                <img src="" alt="" id="modal-thumbnail-0">
                            </div>
                            <div class="modal-thumbnail" data-index="1">
                                <img src="" alt="" id="modal-thumbnail-1">
                            </div>
                            <div class="modal-thumbnail" data-index="2">
                                <img src="" alt="" id="modal-thumbnail-2">
                            </div>
                        </div>
					</div>

					<div class="p-3 sm:p-4">
						<h3 id="modal-product-name" class="text-xl sm:text-2xl font-bold mb-1"></h3>
						<div id="modal-product-category" class="inline-block bg-primary bg-opacity-10 text-primary px-2 py-0.5 rounded-full text-xs font-medium mb-2"></div>

						<div id="modal-product-rating" class="flex text-yellow-400 mb-2 text-sm"></div>

						<p id="modal-product-description" class="text-sm text-gray-600 dark:text-gray-300 mb-3"></p>

						<div class="mb-3">
							<h4 class="font-bold mb-1 text-sm">Principais Benefícios:</h4>
							<ul id="modal-product-benefits" class="list-disc pl-5 text-xs text-gray-600 dark:text-gray-300"></ul>
						</div>
                        
                        <!-- Seleção de tamanho -->
                        <div id="size-selection-container" class="mb-4">
                            <h4 class="font-bold mb-2 text-sm">Tamanho:</h4>
                            <div class="size-options" id="product-sizes">
                                <button class="size-option" data-size="P">P</button>
                                <button class="size-option" data-size="M">M</button>
                                <button class="size-option" data-size="G">G</button>
                                <button class="size-option" data-size="GG">GG</button>
                                <button class="size-option out-of-stock" data-size="XG">XG</button>
                            </div>
                        </div>
                        
                        <!-- Seleção de cor -->
                        <div id="color-selection-container" class="mb-4">
                            <h4 class="font-bold mb-2 text-sm">Cor:</h4>
                            <div class="color-options" id="product-colors">
                                <button class="color-option" style="background-color: #000000;" data-color="Preto"></button>
                                <button class="color-option" style="background-color: #FFFFFF; border: 1px solid #ddd;" data-color="Branco"></button>
                                <button class="color-option" style="background-color: #6A6A6A;" data-color="Cinza"></button>
                                <button class="color-option" style="background-color: #D10000;" data-color="Vermelho"></button>
                                <button class="color-option" style="background-color: #0026ff;" data-color="Azul"></button>
                            </div>
                        </div>

						<div class="flex items-center justify-between mb-3">
							<div>
								<span class="text-gray-500 dark:text-gray-400 text-xs line-through" id="modal-product-old-price"></span>
								<div class="text-xl sm:text-2xl font-bold text-primary" id="modal-product-price"></div>
								<div class="text-xs text-gray-500 dark:text-gray-400" id="modal-product-installments"></div>
							</div>

							<div class="flex items-center">
								<button class="w-7 h-7 flex items-center justify-center border border-gray-300 dark:border-gray-600 rounded-l-lg" id="decrease-quantity">
									<i class="fas fa-minus text-xs"></i>
								</button>
								<input type="number" id="product-quantity" class="w-10 h-7 border-t border-b border-gray-300 dark:border-gray-600 text-center text-sm" value="1" min="1" />
								<button class="w-7 h-7 flex items-center justify-center border border-gray-300 dark:border-gray-600 rounded-r-lg" id="increase-quantity">
									<i class="fas fa-plus text-xs"></i>
								</button>
							</div>
						</div>

						<div class="grid grid-cols-2 gap-2">
							<button id="modal-add-to-cart" class="bg-primary text-white font-semibold py-2 px-3 rounded-lg hover:bg-opacity-90 transition flex items-center justify-center text-sm">
								<i class="fas fa-shopping-cart mr-1"></i> Adicionar
							</button>
							<button id="modal-buy-now" class="bg-green-600 text-white font-semibold py-2 px-3 rounded-lg hover:bg-opacity-90 transition text-sm">
								Comprar Agora
							</button>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- Carrinho Lateral -->
		<div id="cart-sidebar" class="fixed top-0 right-0 h-full w-full sm:w-96 bg-white dark:bg-gray-800 z-50 shadow-xl transform translate-x-full transition-transform duration-300 ease-in-out">
			<div class="h-full flex flex-col">
				<div class="p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center">
					<h3 class="text-xl font-bold">Seu Carrinho</h3>
					<button id="close-cart" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">
						<i class="fas fa-times"></i>
					</button>
				</div>

				<div id="cart-items" class="flex-grow overflow-y-auto p-4">
					<!-- Os itens do carrinho serão carregados via JavaScript -->
					<div class="text-center py-8 text-gray-500 dark:text-gray-400">
						<i class="fas fa-shopping-cart text-4xl mb-4"></i>
						<p>Seu carrinho está vazio</p>
					</div>
				</div>

				<!-- Formulário de endereço e pagamento -->
				<div id="checkout-form" class="p-4 border-t border-gray-200 dark:border-gray-700 hidden">
					<h3 class="font-bold text-lg mb-4">Informações de Entrega</h3>
					<div class="space-y-3 mb-4">
						<div>
							<label for="customer-name" class="block text-sm font-medium mb-1">Nome Completo</label>
							<input type="text" id="customer-name" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary dark:bg-gray-700 text-base" required />
						</div>
						<div>
							<label for="customer-address" class="block text-sm font-medium mb-1">Endereço</label>
							<input type="text" id="customer-address" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary dark:bg-gray-700 text-base" required />
						</div>
						<div class="grid grid-cols-2 gap-2">
							<div>
								<label for="customer-number" class="block text-sm font-medium mb-1">Número</label>
								<input type="text" id="customer-number" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary dark:bg-gray-700 text-base" required />
							</div>
							<div>
								<label for="customer-complement" class="block text-sm font-medium mb-1">Complemento</label>
								<input type="text" id="customer-complement" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary dark:bg-gray-700 text-base" />
							</div>
						</div>
						<div>
							<label for="customer-neighborhood" class="block text-sm font-medium mb-1">Bairro</label>
							<input type="text" id="customer-neighborhood" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary dark:bg-gray-700 text-base" required />
						</div>
						<div class="grid grid-cols-2 gap-2">
							<div>
								<label for="customer-city" class="block text-sm font-medium mb-1">Cidade</label>
								<input type="text" id="customer-city" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary dark:bg-gray-700 text-base" required />
							</div>
							<div>
								<label for="customer-state" class="block text-sm font-medium mb-1">Estado</label>
								<select id="customer-state" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary dark:bg-gray-700 text-base" required>
									<option value="">Selecione</option>
									<option value="AC">AC</option>
									<option value="AL">AL</option>
									<option value="AP">AP</option>
									<option value="AM">AM</option>
									<option value="BA">BA</option>
									<option value="CE">CE</option>
									<option value="DF">DF</option>
									<option value="ES">ES</option>
									<option value="GO">GO</option>
									<option value="MA">MA</option>
									<option value="MT">MT</option>
									<option value="MS">MS</option>
									<option value="MG">MG</option>
									<option value="PA">PA</option>
									<option value="PB">PB</option>
									<option value="PR">PR</option>
									<option value="PE">PE</option>
									<option value="PI">PI</option>
									<option value="RJ">RJ</option>
									<option value="RN">RN</option>
									<option value="RS">RS</option>
									<option value="RO">RO</option>
									<option value="RR">RR</option>
									<option value="SC">SC</option>
									<option value="SP">SP</option>
									<option value="SE">SE</option>
									<option value="TO">TO</option>
								</select>
							</div>
						</div>
						<div>
							<label for="customer-cep" class="block text-sm font-medium mb-1">CEP</label>
							<input type="text" id="customer-cep" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary dark:bg-gray-700 text-base" required />
						</div>
						<div>
							<label for="customer-phone" class="block text-sm font-medium mb-1">Telefone</label>
							<input type="tel" id="customer-phone" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary dark:bg-gray-700 text-base" required />
						</div>
					</div>

					<h3 class="font-bold text-lg mb-4">Forma de Pagamento</h3>
					<div class="space-y-3 mb-6">
						<div class="flex items-center space-x-3">
							<input type="radio" id="payment-method-pix" name="payment-method" value="pix" checked class="focus:ring-primary h-4 w-4 text-primary" />
							<label for="payment-method-pix" class="flex items-center">
								<i class="fas fa-qrcode mr-2 text-primary"></i>
								<span>PIX</span>
							</label>
						</div>
						<div class="flex items-center space-x-3">
							<input type="radio" id="payment-method-credit" name="payment-method" value="credit" class="focus:ring-primary h-4 w-4 text-primary" />
							<label for="payment-method-credit" class="flex items-center">
								<i class="far fa-credit-card mr-2 text-primary"></i>
								<span>Cartão de Crédito</span>
							</label>
						</div>
						<div class="flex items-center space-x-3">
							<input type="radio" id="payment-method-cash" name="payment-method" value="cash" class="focus:ring-primary h-4 w-4 text-primary" />
							<label for="payment-method-cash" class="flex items-center">
								<i class="fas fa-money-bill-wave mr-2 text-primary"></i>
								<span>Dinheiro (na entrega)</span>
							</label>
						</div>
					</div>

					<button id="back-to-cart" class="w-full bg-gray-300 dark:bg-gray-700 text-gray-800 dark:text-white font-semibold py-2 rounded-lg hover:bg-gray-400 dark:hover:bg-gray-600 transition mb-3">
						Voltar ao Carrinho
					</button>
					<button id="finish-order" class="w-full bg-green-600 text-white font-semibold py-2 rounded-lg hover:bg-green-700 transition">
						Finalizar Compra
					</button>
				</div>

				<div id="cart-summary" class="p-4 border-t border-gray-200 dark:border-gray-700">
					<div class="flex justify-between mb-2">
						<span class="font-bold">Subtotal:</span>
						<span id="cart-subtotal" class="font-bold">R$ 0,00</span>
					</div>
                    
                    <!-- Frete fixo R$ 10,00 -->
                    <div class="flex justify-between mb-4">
						<span class="font-bold">Frete:</span>
						<span id="cart-shipping" class="font-bold">R$ 10,00</span>
					</div>
                    
                    <!-- Total com frete -->
                    <div class="flex justify-between mb-4 text-lg text-primary">
						<span class="font-bold">Total:</span>
						<span id="cart-total" class="font-bold">R$ 10,00</span>
					</div>

					<button id="proceed-checkout" class="w-full bg-primary text-white font-semibold py-3 rounded-lg hover:bg-opacity-90 transition mb-3 disabled:opacity-50 disabled:cursor-not-allowed" disabled>
						Prosseguir para Entrega
					</button>

					<button id="continue-shopping" class="w-full bg-transparent border border-primary text-primary font-semibold py-3 rounded-lg hover:bg-primary hover:bg-opacity-10 transition">
						Continuar Comprando
					</button>
				</div>
			</div>
		</div>

		<!-- Mensagem de Alerta -->
		<div id="alert-message" class="fixed bottom-4 right-4 max-w-md bg-green-500 text-white p-4 rounded-lg shadow-lg transform translate-y-full opacity-0 transition-all duration-300 z-50 flex items-center">
			<i class="fas fa-check-circle mr-3 text-xl"></i>
			<span id="alert-text">Item adicionado ao carrinho!</span>
		</div>

		<!-- WhatsApp Flutuante -->
		<a href="https://wa.me/5575991342279" class="fixed bottom-6 right-6 w-14 h-14 bg-green-500 text-white rounded-full flex items-center justify-center text-2xl shadow-lg hover:bg-green-600 transition z-40">
			<i class="fab fa-whatsapp"></i>
		</a>
        
        <!-- Modal de Login -->
        <div id="login-modal" class="login-modal hidden">
            <div class="login-container">
                <h2 class="login-title">Login Administrativo</h2>
                <div id="login-error" class="login-error">Usuário ou senha incorretos</div>
                <input type="text" id="login-username" class="login-input" placeholder="Nome de usuário" />
                <input type="password" id="login-password" class="login-input" placeholder="Senha" />
                <button id="login-submit" class="login-button">Entrar</button>
            </div>
        </div>
    </body>    
        
       <script>
// *** Configuração do Supabase ***
let supabase = null;
let productsDB = []; // Array principal de produtos agora carregado do Supabase
let categoryData = {}; // Categorias agora carregadas do Supabase

// Variável para rastrear produtos sendo adicionados
let productsBeingAdded = new Set();

// Função para inicializar o Supabase
function initSupabase() {
    try {
        const supabaseUrl = localStorage.getItem('supabaseUrl') || 'https://mmkvaqbrxdlljozqoxxj.supabase.co';
        const supabaseKey = localStorage.getItem('supabaseKey') || 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1ta3ZhcWJyeGRsbGpvenFveHhqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA2ODIzMTMsImV4cCI6MjA2NjI1ODMxM30.fqiCnqYRIxcNi5pCAg3Hc0FWLs28nr3XaOBNlzZgSnY';

        if (!supabaseUrl || !supabaseKey) {
            console.error('Credenciais do Supabase não configuradas');
            updateConnectionStatus('error', 'Credenciais do Supabase não configuradas. Por favor, configure nas configurações.');
            return false;
        }

        // Criar cliente Supabase sem 'const'
        supabase = window.supabase.createClient(supabaseUrl, supabaseKey);

        console.log('Supabase inicializado com sucesso!');
        updateConnectionStatus('success', 'Supabase inicializado com sucesso!');
        return true;
    } catch (error) {
        console.error('Erro ao inicializar Supabase:', error);
        updateConnectionStatus('error', 'Erro ao inicializar Supabase: ' + error.message);
        return false;
    }
}

// Verificar credenciais do Supabase
async function checkSupabaseConnection() {
    if (!supabase) {
        updateConnectionStatus('error', 'Cliente Supabase não inicializado');
        return false;
    }
    
    try {
        // Tentar fazer uma consulta simples para verificar a conexão
        const { data, error } = await supabase
            .from('products')
            .select('id')
            .limit(1);
            
        if (error) {
            updateConnectionStatus('error', 'Erro na conexão com Supabase: ' + error.message);
            throw error;
        }
        
        updateConnectionStatus('success', 'Conexão com Supabase estabelecida com sucesso!');
        return true;
    } catch (error) {
        console.error('Erro na conexão com Supabase:', error);
        updateConnectionStatus('error', 'Erro na conexão com Supabase: ' + error.message);
        return false;
    }
}

// Função para atualizar status de conexão na interface
function updateConnectionStatus(type, message) {
    const statusContainer = document.getElementById('supabase-connection-status');
    if (!statusContainer) return;
    
    let icon = '';
    switch (type) {
        case 'success':
            icon = '<i class="fas fa-check-circle"></i>';
            break;
        case 'error':
            icon = '<i class="fas fa-exclamation-circle"></i>';
            break;
        case 'warning':
            icon = '<i class="fas fa-exclamation-triangle"></i>';
            break;
        default:
            icon = '<i class="fas fa-info-circle"></i>';
    }
    
    statusContainer.innerHTML = `
        <div class="supabase-status-message ${type}">
            ${icon} ${message}
        </div>
    `;
}

// Inicialização de dados
async function initializeData() {
    // Apenas mostrar loading se estivermos na área admin
    if (currentPage === 'admin') {
        showLoading('Carregando dados da base...');
    }
    
    try {
        // Carregar produtos
        const products = await fetchProductsFromSupabase();
        if (products && products.length > 0) {
            productsDB = products;
            console.log(`Carregados ${products.length} produtos do Supabase`);
        } else {
            console.warn('Nenhum produto encontrado no Supabase, usando dados locais');
            // Manter os produtos definidos localmente (não é mais necessário)
        }
        
        // Carregar categorias
        const categories = await fetchCategoriesFromSupabase();
        if (categories && Object.keys(categories).length > 0) {
            categoryData = categories;
            console.log(`Carregadas ${Object.keys(categories).length} categorias do Supabase`);
        } else {
            console.warn('Nenhuma categoria encontrada no Supabase, usando dados locais');
            // Manter as categorias definidas localmente (não é mais necessário)
            // E enviar para o Supabase para sincronização inicial
            await syncCategoriesToSupabase();
        }
        
        // Inicializar a interface
        if (currentPage === 'products') {
            loadProducts();
        } else if (currentPage === 'clothes') {
            loadClothes();
        } else if (currentPage === 'category') {
            loadCategoryProducts(currentCategory);
        } else if (currentPage === 'admin') {
            if (currentAdminTab === 'products') {
                loadAdminProducts();
            } else if (currentAdminTab === 'clothes') {
                loadAdminClothes();
            } else if (currentAdminTab === 'categories') {
                loadAdminCategories();
            }
        }
        
        // Mostrar mensagem de sucesso apenas na área admin
        if (currentPage === 'admin') {
            showAlert('Dados carregados com sucesso!', 'success');
            // Esconder loading
            hideLoading();
        }
    } catch (error) {
        console.error('Erro ao inicializar dados:', error);
        
        // Mostrar erro apenas na área admin
        if (currentPage === 'admin') {
            showAlert('Erro ao carregar dados: ' + error.message, 'error');
            // Esconder loading
            hideLoading();
        }
    }
}

// Função para sincronizar categorias com o Supabase (apenas quando não existem no Supabase)
async function syncCategoriesToSupabase() {
    if (!supabase) {
        console.error('Supabase não inicializado');
        return false;
    }
    
    try {
        // Verificar se já existem categorias no Supabase
        const { data, error } = await supabase
            .from('categories')
            .select('code')
            .limit(1);
            
        if (error) throw error;
        
        // Se não houver categorias no Supabase, enviar as locais
        if (!data || data.length === 0) {
            console.log('Enviando categorias para o Supabase...');
            
            // Preparar categorias para o formato do Supabase
            const categoriesToInsert = Object.keys(categoryData).map(code => ({
                code,
                name: categoryData[code].name,
                description: categoryData[code].description,
                image_url: categoryData[code].image_url || null
            }));
            
            // Inserir categorias no Supabase
            const { error: insertError } = await supabase
                .from('categories')
                .insert(categoriesToInsert);
                
            if (insertError) throw insertError;
            
            console.log(`${categoriesToInsert.length} categorias sincronizadas com o Supabase`);
            return true;
        }
        
        return true;
    } catch (error) {
        console.error('Erro ao sincronizar categorias:', error);
        return false;
    }
}

// Funções CRUD para o Supabase
async function fetchProductsFromSupabase() {
    if (!supabase) {
        console.error('Supabase não inicializado');
        return [];
    }
    
    try {
        // Mostrar loading apenas na área admin
        if (currentPage === 'admin') {
            showLoading('Carregando produtos...');
        }
        
        const { data, error } = await supabase
            .from('products')
            .select('*');
            
        if (error) throw error;
        
        // Esconder loading apenas na área admin
        if (currentPage === 'admin') {
            hideLoading();
        }
        
        // Verificar se existem produtos
        if (!data || data.length === 0) {
            console.log('Nenhum produto encontrado no Supabase');
            return [];
        }
        
        console.log(`${data.length} produtos carregados do Supabase`);
        return data;
    } catch (error) {
        console.error('Erro ao buscar produtos do Supabase:', error);
        
        // Mostrar erro apenas na área admin
        if (currentPage === 'admin') {
            showAlert('Erro ao buscar produtos: ' + error.message, 'error');
            // Esconder loading
            hideLoading();
        }
        
        return [];
    }
}

async function fetchCategoriesFromSupabase() {
    if (!supabase) {
        console.error('Supabase não inicializado');
        return {};
    }
    
    try {
        const { data, error } = await supabase
            .from('categories')
            .select('*');
            
        if (error) throw error;
        
        // Verificar se existem categorias
        if (!data || data.length === 0) {
            console.log('Nenhuma categoria encontrada no Supabase');
            return {};
        }
        
        // Converter o array para objeto indexado por código da categoria
        const categories = {};
        data.forEach(category => {
            categories[category.code] = {
                name: category.name,
                description: category.description,
                image_url: category.image_url || null
            };
        });
        
        return categories;
    } catch (error) {
        console.error('Erro ao buscar categorias do Supabase:', error);
        
        // Mostrar erro apenas na área admin
        if (currentPage === 'admin') {
            showAlert('Erro ao buscar categorias: ' + error.message, 'error');
        }
        
        return {};
    }
}

async function saveProductToSupabase(product) {
    if (!supabase) {
        console.error('Supabase não inicializado');
        return { success: false, error: 'Supabase não inicializado' };
    }
    
    try {
        // Mostrar loading
        showLoading('Salvando produto...');
        
        // Criar uma cópia limpa do produto para enviar ao Supabase
        const cleanProduct = { ...product };
        
        // Remover propriedades de timestamp que serão gerenciadas pelo Supabase
        delete cleanProduct.created_at;
        delete cleanProduct.updated_at;
        
        console.log('Tentando salvar produto:', cleanProduct);
        
        let result;
        
        if (cleanProduct.id) {
            // Atualizar produto existente
            result = await supabase
                .from('products')
                .update(cleanProduct)
                .eq('id', cleanProduct.id);
                
            console.log('Resultado da atualização:', result);
        } else {
            // Gerar um novo ID para o produto
            // Primeiro, vamos buscar o maior ID atual no banco de dados
            const { data: highestIdProduct } = await supabase
                .from('products')
                .select('id')
                .order('id', { ascending: false })
                .limit(1);
                
            // Determinar o próximo ID
            let nextId = 1; // Valor padrão se não existirem produtos
            if (highestIdProduct && highestIdProduct.length > 0) {
                nextId = highestIdProduct[0].id + 1;
            }
            
            // Atribuir o ID ao produto
            cleanProduct.id = nextId;
            
            // Inserir novo produto com ID
            result = await supabase
                .from('products')
                .insert(cleanProduct);
                
            console.log('Resultado da inserção:', result);
        }
        
        // Esconder loading
        hideLoading();
        
        if (result.error) {
            console.error('Erro retornado pelo Supabase:', result.error);
            throw result.error;
        }
        
        // Atualizar o produto local com o salvo no Supabase
        if (cleanProduct.id) {
            // Buscar o produto recém-inserido/atualizado para ter todos os campos
            const { data: updatedProduct, error: fetchError } = await supabase
                .from('products')
                .select('*')
                .eq('id', cleanProduct.id)
                .single();
                
            if (fetchError) {
                console.warn('Erro ao buscar produto atualizado:', fetchError);
                // Continuar mesmo com o erro, usando o cleanProduct
                
                // Atualizar produto existente na lista local
                const index = productsDB.findIndex(p => p.id === cleanProduct.id);
                if (index !== -1) {
                    productsDB[index] = { ...cleanProduct };
                } else {
                    // Adicionar novo produto à lista local
                    productsDB.push(cleanProduct);
                }
            } else if (updatedProduct) {
                // Atualizar produto existente na lista local ou adicionar como novo
                const index = productsDB.findIndex(p => p.id === updatedProduct.id);
                if (index !== -1) {
                    productsDB[index] = updatedProduct;
                } else {
                    productsDB.push(updatedProduct);
                }
            }
        }
        
        return { success: true };
    } catch (error) {
        console.error('Erro ao salvar produto no Supabase:', error);
        showAlert('Erro ao salvar produto: ' + error.message, 'error');
        
        // Esconder loading
        hideLoading();
        return { success: false, error: error.message };
    }
}

async function saveCategoryToSupabase(category) {
    if (!supabase) {
        console.error('Supabase não inicializado');
        return { success: false, error: 'Supabase não inicializado' };
    }
    
    try {
        // Mostrar loading
        showLoading('Salvando categoria...');
        
        // Criar uma cópia limpa da categoria para enviar ao Supabase
        const cleanCategory = { ...category };
        
        console.log('Tentando salvar categoria:', cleanCategory);
        
        let result;
        
        // Verificar se a categoria já existe
        const { data: existingCategory } = await supabase
            .from('categories')
            .select('*')
            .eq('code', cleanCategory.code)
            .maybeSingle();
            
        if (existingCategory) {
            // Atualizar categoria existente
            result = await supabase
                .from('categories')
                .update({
                    name: cleanCategory.name,
                    description: cleanCategory.description,
                    image_url: cleanCategory.image_url || null
                })
                .eq('code', cleanCategory.code);
                
            console.log('Resultado da atualização:', result);
        } else {
            // Inserir nova categoria
            result = await supabase
                .from('categories')
                .insert(cleanCategory);
                
            console.log('Resultado da inserção:', result);
        }
        
        // Esconder loading
        hideLoading();
        
        if (result.error) {
            console.error('Erro retornado pelo Supabase:', result.error);
            throw result.error;
        }
        
        // Atualizar a categoria local
        categoryData[cleanCategory.code] = {
            name: cleanCategory.name,
            description: cleanCategory.description,
            image_url: cleanCategory.image_url || null
        };
        
        return { success: true };
    } catch (error) {
        console.error('Erro ao salvar categoria no Supabase:', error);
        showAlert('Erro ao salvar categoria: ' + error.message, 'error');
        
        // Esconder loading
        hideLoading();
        return { success: false, error: error.message };
    }
}

async function uploadCategoryImage(file, categoryCode) {
    if (!supabase) {
        console.error('Supabase não inicializado');
        return { success: false, error: 'Supabase não inicializado' };
    }
    
    try {
        // Mostrar loading
        showLoading('Enviando imagem...');
        
        // Gerar nome de arquivo único baseado no código da categoria e timestamp
        const timestamp = new Date().getTime();
        const fileExt = file.name.split('.').pop();
        const fileName = `${categoryCode}_${timestamp}.${fileExt}`;
        const filePath = `category_images/${fileName}`;
        
        // Fazer upload do arquivo para o Storage do Supabase
        const { data, error } = await supabase
            .storage
            .from('images')
            .upload(filePath, file, {
                cacheControl: '3600',
                upsert: true
            });
            
        // Esconder loading
        hideLoading();
        
        if (error) {
            console.error('Erro no upload da imagem:', error);
            throw error;
        }
        
        // Obter URL pública da imagem
        const { data: urlData } = supabase
            .storage
            .from('images')
            .getPublicUrl(filePath);
            
        const publicUrl = urlData.publicUrl;
        
        return { 
            success: true,
            publicUrl 
        };
    } catch (error) {
        console.error('Erro ao fazer upload da imagem:', error);
        
        // Esconder loading
        hideLoading();
        return { success: false, error: error.message };
    }
}

async function deleteCategoryFromSupabase(categoryCode) {
    if (!supabase) {
        console.error('Supabase não inicializado');
        return { success: false, error: 'Supabase não inicializado' };
    }
    
    try {
        // Mostrar loading
        showLoading('Excluindo categoria...');
        
        // Verificar se existem produtos usando esta categoria
        const { data: products, error: productsError } = await supabase
            .from('products')
            .select('id')
            .eq('category', categoryCode);
            
        if (productsError) throw productsError;
        
        // Se houver produtos usando esta categoria, não permitir a exclusão
        if (products && products.length > 0) {
            hideLoading();
            return { 
                success: false, 
                error: `Não é possível excluir esta categoria porque existem ${products.length} produtos associados a ela. Altere a categoria desses produtos primeiro.` 
            };
        }
        
        // Obter informações da categoria para remover imagem, se existir
        const { data: categoryData } = await supabase
            .from('categories')
            .select('image_url')
            .eq('code', categoryCode)
            .single();
            
        // Excluir a categoria
        const { error } = await supabase
            .from('categories')
            .delete()
            .eq('code', categoryCode);
            
        // Se a categoria tinha imagem, remover do storage
        if (categoryData && categoryData.image_url) {
            try {
                // Extrair caminho do arquivo da URL
                const urlParts = categoryData.image_url.split('/');
                const filePath = `category_images/${urlParts[urlParts.length - 1]}`;
                
                // Remover arquivo do storage
                await supabase
                    .storage
                    .from('images')
                    .remove([filePath]);
            } catch (storageError) {
                console.warn('Erro ao remover imagem da categoria:', storageError);
                // Continuar mesmo se houver erro na exclusão da imagem
            }
        }
        
        // Esconder loading
        hideLoading();
        
        if (error) throw error;
        
        // Remover categoria do objeto local
        delete categoryData[categoryCode];
        
        return { success: true };
    } catch (error) {
        console.error('Erro ao excluir categoria do Supabase:', error);
        showAlert('Erro ao excluir categoria: ' + error.message, 'error');
        
        // Esconder loading
        hideLoading();
        return { success: false, error: error.message };
    }
}

async function deleteProductFromSupabase(productId) {
    if (!supabase) {
        console.error('Supabase não inicializado');
        return { success: false, error: 'Supabase não inicializado' };
    }
    
    try {
        // Mostrar loading
        showLoading('Excluindo produto...');
        
        const { error } = await supabase
            .from('products')
            .delete()
            .eq('id', productId);
            
        // Esconder loading
        hideLoading();
        
        if (error) throw error;
        
        // Remover produto da lista local
        const index = productsDB.findIndex(p => p.id === productId);
        if (index !== -1) {
            productsDB.splice(index, 1);
        }
        
        return { success: true };
    } catch (error) {
        console.error('Erro ao excluir produto do Supabase:', error);
        showAlert('Erro ao excluir produto: ' + error.message, 'error');
        
        // Esconder loading
        hideLoading();
        return { success: false, error: error.message };
    }
}

// Função para sincronizar dados locais com o Supabase
async function syncProductsWithSupabase() {
    if (!supabase) {
        showAlert('Supabase não está inicializado. Configure-o primeiro.', 'error');
        return false;
    }
    
    try {
        // Mostrar mensagem de carregamento
        showLoading('Sincronizando produtos com o Supabase...');
        
        // 1. Obter produtos do Supabase
        const { data: supabaseProducts, error: fetchError } = await supabase
            .from('products')
            .select('*');
            
        if (fetchError) throw fetchError;
        
        // 2. Atualizar a base de dados local com produtos do Supabase
        if (supabaseProducts && supabaseProducts.length > 0) {
            productsDB = [...supabaseProducts];
        }
        
        // 3. Sincronizar categorias
        const { data: supabaseCategories, error: categoriesError } = await supabase
            .from('categories')
            .select('*');
            
        if (categoriesError) throw categoriesError;
        
        // Atualizar categorias locais com dados do Supabase
        if (supabaseCategories && supabaseCategories.length > 0) {
            const categories = {};
            supabaseCategories.forEach(category => {
                categories[category.code] = {
                    name: category.name,
                    description: category.description,
                    image_url: category.image_url || null
                };
            });
            categoryData = categories;
        } else {
            // Enviar categorias locais para o Supabase se ele estiver vazio
            await syncCategoriesToSupabase();
        }
        
        // 4. Recarregar interfaces
        if (currentPage === 'products') {
            loadProducts();
        } else if (currentPage === 'clothes') {
            loadClothes();
        } else if (currentPage === 'category') {
            loadCategoryProducts(currentCategory);
        } else if (currentPage === 'admin') {
            if (currentAdminTab === 'products') {
                loadAdminProducts();
            } else if (currentAdminTab === 'clothes') {
                loadAdminClothes();
            } else if (currentAdminTab === 'categories') {
                loadAdminCategories();
            }
        }
        
        // Esconder loading
        hideLoading();
        
        showAlert('Sincronização com Supabase concluída com sucesso!', 'success');
        return true;
    } catch (error) {
        console.error('Erro na sincronização:', error);
        showAlert('Erro ao sincronizar com Supabase: ' + error.message, 'error');
        
        // Esconder loading
        hideLoading();
        return false;
    }
}

// Funções de Loading
function showLoading(message = 'Carregando...') {
    // Verificar se já existe um loading
    let loadingElement = document.getElementById('loading-overlay');
    
    if (!loadingElement) {
        // Criar elemento de loading
        loadingElement = document.createElement('div');
        loadingElement.id = 'loading-overlay';
        loadingElement.className = 'fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50';
        loadingElement.innerHTML = `
            <div class="bg-white dark:bg-gray-800 p-4 rounded-lg shadow-lg text-center">
                <div class="spinner mb-2"></div>
                <p id="loading-message" class="text-gray-700 dark:text-gray-300">${message}</p>
            </div>
        `;
        
        // Adicionar ao corpo do documento
        document.body.appendChild(loadingElement);
    } else {
        // Atualizar mensagem
        document.getElementById('loading-message').textContent = message;
        
        // Mostrar loading existente
        loadingElement.classList.remove('hidden');
    }
}

function hideLoading() {
    const loadingElement = document.getElementById('loading-overlay');
    if (loadingElement) {
        // Remover elemento
        loadingElement.remove();
    }
}

// *** Variáveis Globais ***
let cart = [];
let currentPage = 'home';
let currentCategory = '';
let carouselPosition = 0;
let carouselInterval;
let currentQuizQuestion = 1;
let quizAnswers = {};
let selectedSize = '';
let selectedColor = '';
let currentProductImages = [];
let currentImageIndex = 0;
let isLoggedIn = false;
let currentAdminTab = 'products';
let currentEditingProductId = null;
let currentEditingCategoryCode = null;
let addToCartInProgress = false; // Variável para prevenir múltiplos cliques

// *** Funções de Inicialização ***
document.addEventListener('DOMContentLoaded', async () => {
    // Inicializar o Supabase
    if (initSupabase()) {
        // Carregar dados do Supabase
        await initializeData();
    } else {
        console.error('Falha ao inicializar Supabase');
        
        // Mostrar aviso apenas na área admin
        if (currentPage === 'admin') {
            showAlert('Falha ao conectar ao Supabase. Algumas funcionalidades podem não estar disponíveis.', 'warning');
        }
    }
    
    // Iniciar navegação
    setupNavigation();

    // Iniciar carrossel
    setupCarousel();

    // Configurar botões de categoria
    setupCategoryButtons();

    // Configurar filtros de produtos
    setupProductFilters();

    // Carregar produtos na página de produtos
    loadProducts();
    
    // Carregar roupas na página de roupas
    loadClothes();

    // Configurar acordeão do guia
    setupAccordion();

    // Configurar modal de produto
    setupProductModal();

    // Configurar carrinho
    setupCart();

    // Configurar formulário de contato
    setupContactForm();

    // Configurar busca
    setupSearch();
    
    // Configurar o botão mobile para o carrinho
    setupMobileCart();
    
    // Configurar o botão de alternar tema claro/escuro
    setupThemeToggle();
    
    // Configurar área administrativa
    setupAdminArea();

    // Modificação importante: Adicionar campo de upload ao formulário de categoria
    addCategoryImageField();
});

// Nova função para adicionar o campo de upload de imagem - CORRIGIDA
function addCategoryImageField() {
    console.log('Iniciando adição do campo de imagem...');
    // Aguardar um pequeno tempo para garantir que o DOM esteja completamente carregado
    setTimeout(() => {
        const categoryForm = document.getElementById('category-form');
        
        // Verificar se já existe o container de imagem para evitar duplicação
        if (document.getElementById('category-image-container')) {
            console.log('Campo de imagem já existe, não adicionando novamente');
            return;
        }
        
        // Se não encontramos o formulário, sair
        if (!categoryForm) {
            console.error('Formulário de categoria não encontrado');
            return;
        }
        
        // Criar o container de imagem
        const imageContainer = document.createElement('div');
        imageContainer.id = 'category-image-container';
        imageContainer.className = 'admin-form-group col-span-2';
        imageContainer.innerHTML = `
            <label for="category-image">Imagem da Categoria</label>
            <div class="flex items-center gap-3">
                <input type="file" id="category-image" class="admin-form-input" accept="image/*">
                <div id="category-image-preview" class="w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center overflow-hidden hidden">
                    <img id="category-image-preview-img" class="max-w-full max-h-full object-contain" src="" alt="Preview">
                </div>
            </div>
            <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">Tamanho recomendado: 300x300px. Formatos: PNG, JPG, WEBP</p>
        `;
        
        // Método mais seguro: Adicionar o elemento no final do formulário
        categoryForm.appendChild(imageContainer);
        console.log('Campo de imagem adicionado ao final do formulário');
        
        // Configurar preview da imagem
        const imageInput = document.getElementById('category-image');
        const imagePreview = document.getElementById('category-image-preview');
        const imagePreviewImg = document.getElementById('category-image-preview-img');
        
        if (imageInput && imagePreview && imagePreviewImg) {
            console.log('Configurando preview de imagem');
            imageInput.addEventListener('change', () => {
                if (imageInput.files && imageInput.files[0]) {
                    const reader = new FileReader();
                    
                    reader.onload = function(e) {
                        imagePreviewImg.src = e.target.result;
                        imagePreview.classList.remove('hidden');
                    };
                    
                    reader.readAsDataURL(imageInput.files[0]);
                } else {
                    imagePreview.classList.add('hidden');
                }
            });
        } else {
            console.error('Elementos de preview não encontrados após inserção');
        }
    }, 500);
}

// *** Configuração de Componentes ***
function setupNavigation() {
    // Links de navegação desktop
    const navLinks = document.querySelectorAll('.nav-link');
    navLinks.forEach(link => {
        link.addEventListener('click', (e) => {
            e.preventDefault();
            const page = link.getAttribute('data-page');
            
            // Se a página for admin e o usuário não estiver logado, mostrar modal de login
            if (page === 'admin' && !isLoggedIn) {
                showLoginModal();
                return;
            }
            
            navigateTo(page);
        });
    });

    // Links de navegação mobile
    const mobileNavLinks = document.querySelectorAll('.mobile-nav-link');
    mobileNavLinks.forEach(link => {
        link.addEventListener('click', (e) => {
            e.preventDefault();
            const page = link.getAttribute('data-page');
            
            // Se a página for admin e o usuário não estiver logado, mostrar modal de login
            if (page === 'admin' && !isLoggedIn) {
                showLoginModal();
                document.getElementById('mobile-menu').classList.add('hidden');
                return;
            }
            
            navigateTo(page);
            document.getElementById('mobile-menu').classList.add('hidden');
        });
    });

    // Botão de menu mobile
    const mobileMenuBtn = document.getElementById('mobile-menu-btn');
    mobileMenuBtn.addEventListener('click', () => {
        const mobileMenu = document.getElementById('mobile-menu');
        mobileMenu.classList.toggle('hidden');
    });

    // Logo (volta para home)
    const logo = document.getElementById('logo');
    logo.addEventListener('click', (e) => {
        e.preventDefault();
        navigateTo('home');
    });

    // Botão de voltar para produtos
    document.getElementById('back-to-products').addEventListener('click', (e) => {
        e.preventDefault();
        navigateTo('products');
    });

    // Links de rodapé
    const footerLinks = document.querySelectorAll('footer a[data-page]');
    footerLinks.forEach(link => {
        link.addEventListener('click', (e) => {
            e.preventDefault();
            navigateTo(link.getAttribute('data-page'));
        });
    });

    // Links de categoria no rodapé
    const footerCategoryLinks = document.querySelectorAll('footer a[data-category]');
    footerCategoryLinks.forEach(link => {
        link.addEventListener('click', (e) => {
            e.preventDefault();
            navigateToCategory(link.getAttribute('data-category'));
        });
    });

    // Adicionar eventos para "Ver Todos os Produtos"
    const allProductsLinks = document.querySelectorAll('a[data-page="products"]');
    allProductsLinks.forEach(link => {
        link.addEventListener('click', (e) => {
            e.preventDefault();
            navigateTo('products');
        });
    });
}

function setupThemeToggle() {
    const themeToggle = document.getElementById('theme-toggle');
    const mobileThemeToggle = document.getElementById('mobile-theme-toggle');
    
    // Função para alternar o tema
    const toggleTheme = () => {
        if (document.documentElement.classList.contains('dark')) {
            document.documentElement.classList.remove('dark');
        } else {
            document.documentElement.classList.add('dark');
        }
    };
    
    // Adicionar evento ao botão do desktop
    if (themeToggle) {
        themeToggle.addEventListener('click', toggleTheme);
    }
    
    // Adicionar evento ao botão do mobile
    if (mobileThemeToggle) {
        mobileThemeToggle.addEventListener('click', toggleTheme);
    }
}

function setupMobileCart() {
    const mobileCartBtn = document.getElementById('mobile-cart-btn');
    if (mobileCartBtn) {
        mobileCartBtn.addEventListener('click', (e) => {
            e.preventDefault();
            showCart();
            document.getElementById('mobile-menu').classList.add('hidden');
        });
        
        // Atualizar o contador do carrinho mobile também
        const mobileCartCount = document.getElementById('mobile-cart-count');
        if (mobileCartCount) {
            mobileCartCount.textContent = cart.length > 0 ? cart.reduce((total, item) => total + item.quantity, 0) : '0';
        }
    }
}

function setupCarousel() {
    const carousel = document.querySelector('.carousel-inner');
    const indicators = document.querySelectorAll('.carousel-indicator');
    const prevBtn = document.querySelector('.carousel-control-prev');
    const nextBtn = document.querySelector('.carousel-control-next');
    const items = document.querySelectorAll('.carousel-item');

    // Verificar se os elementos existem antes de prosseguir
    if (!carousel || !items.length) return;

    // Configurar largura inicial
    carousel.style.transform = `translateX(0)`;

    // Configurar indicadores
    indicators.forEach((indicator, index) => {
        indicator.addEventListener('click', () => {
            goToSlide(index);
        });
    });

    // Configurar botões de controle
    if (prevBtn) {
        prevBtn.addEventListener('click', () => {
            goToSlide(carouselPosition - 1);
        });
    }

    if (nextBtn) {
        nextBtn.addEventListener('click', () => {
            goToSlide(carouselPosition + 1);
        });
    }

    // Iniciar rotação automática
    startCarouselAutoRotation();

    // Pausar rotação ao passar o mouse
    carousel.addEventListener('mouseenter', stopCarouselAutoRotation);
    carousel.addEventListener('mouseleave', startCarouselAutoRotation);

    function goToSlide(position) {
        // Garantir que position está dentro dos limites
        if (position < 0) position = items.length - 1;
        if (position >= items.length) position = 0;

        // Atualizar posição atual
        carouselPosition = position;

        // Mover carrossel
        carousel.style.transform = `translateX(-${position * 100}%)`;

        // Atualizar indicadores
        indicators.forEach((ind, i) => {
            if (i === position) {
                ind.classList.add('active');
            } else {
                ind.classList.remove('active');
            }
        });
    }

    function startCarouselAutoRotation() {
        stopCarouselAutoRotation(); // Parar qualquer intervalo existente
        carouselInterval = setInterval(() => {
            goToSlide(carouselPosition + 1);
        }, 5000);
    }

    function stopCarouselAutoRotation() {
        if (carouselInterval) {
            clearInterval(carouselInterval);
        }
    }
}

function setupCategoryButtons() {
    const categoryCards = document.querySelectorAll('.category-card');

    categoryCards.forEach(card => {
        card.addEventListener('click', () => {
            const category = card.getAttribute('data-category');
            navigateToCategory(category);
        });

        // Também adicionar evento ao botão interno
        const button = card.querySelector('button');
        if (button) {
            button.addEventListener('click', (e) => {
                e.stopPropagation(); // Evitar duplo clique
                const category = card.getAttribute('data-category');
                navigateToCategory(category);
            });
        }
    });
}

function setupProductFilters() {
    const categoryFilter = document.getElementById('category-filter');
    const sortFilter = document.getElementById('sort-filter');

    if (categoryFilter) {
        categoryFilter.addEventListener('change', loadProducts);
    }
    
    if (sortFilter) {
        sortFilter.addEventListener('change', loadProducts);
    }
    
    // Filtros para roupas
    const clothesCategoryFilter = document.getElementById('clothes-category-filter');
    const clothesSortFilter = document.getElementById('clothes-sort-filter');
    
    if (clothesCategoryFilter) {
        clothesCategoryFilter.addEventListener('change', loadClothes);
    }
    
    if (clothesSortFilter) {
        clothesSortFilter.addEventListener('change', loadClothes);
    }
}

function setupAccordion() {
    const accordionButtons = document.querySelectorAll('.supplement-accordion');

    accordionButtons.forEach(button => {
        button.addEventListener('click', function() {
            // Alternar ícone
            const icon = this.querySelector('i');
            if (icon) {
                icon.classList.toggle('fa-chevron-down');
                icon.classList.toggle('fa-chevron-up');
            }

            // Alternar painel
            const panel = this.nextElementSibling;
            if (panel) {
                panel.classList.toggle('active');
            }
        });
    });
}

function setupProductModal() {
    const modal = document.getElementById('product-modal');
    const closeModal = document.getElementById('close-modal');
    const modalOverlay = document.getElementById('modal-overlay');
    
    if (!modal || !closeModal || !modalOverlay) return;
    
    const decreaseBtn = document.getElementById('decrease-quantity');
    const increaseBtn = document.getElementById('increase-quantity');
    const quantityInput = document.getElementById('product-quantity');
    const addToCartBtn = document.getElementById('modal-add-to-cart');
    const buyNowBtn = document.getElementById('modal-buy-now');
    
    // Navegação de imagens no modal
    const prevImageBtn = document.querySelector('.modal-image-prev');
    const nextImageBtn = document.querySelector('.modal-image-next');
    
    if (prevImageBtn) {
        prevImageBtn.addEventListener('click', () => {
            if (currentProductImages.length > 0) {
                currentImageIndex = (currentImageIndex - 1 + currentProductImages.length) % currentProductImages.length;
                updateModalMainImage();
            }
        });
    }
    
    if (nextImageBtn) {
        nextImageBtn.addEventListener('click', () => {
            if (currentProductImages.length > 0) {
                currentImageIndex = (currentImageIndex + 1) % currentProductImages.length;
                updateModalMainImage();
            }
        });
    }
    
    // Configurar thumbnails
    const thumbnails = document.querySelectorAll('.modal-thumbnail');
    thumbnails.forEach(thumbnail => {
        thumbnail.addEventListener('click', function() {
            const index = parseInt(this.getAttribute('data-index'));
            if (!isNaN(index) && currentProductImages.length > index) {
                currentImageIndex = index;
                updateModalMainImage();
                
                // Atualizar thumbnail ativa
                thumbnails.forEach(t => t.classList.remove('active'));
                this.classList.add('active');
            }
        });
    });
    
    // Configurar seleção de tamanho
    const sizeOptions = document.querySelectorAll('.size-option');
    sizeOptions.forEach(option => {
        option.addEventListener('click', function() {
            if (this.classList.contains('out-of-stock')) return;
            
            sizeOptions.forEach(opt => opt.classList.remove('selected'));
            this.classList.add('selected');
            selectedSize = this.getAttribute('data-size');
        });
    });
    
    // Configurar seleção de cor
    const colorOptions = document.querySelectorAll('.color-option');
    colorOptions.forEach(option => {
        option.addEventListener('click', function() {
            colorOptions.forEach(opt => opt.classList.remove('selected'));
            this.classList.add('selected');
            selectedColor = this.getAttribute('data-color');
        });
    });

    // Fechar modal
    closeModal.addEventListener('click', () => {
        modal.classList.add('hidden');
    });

    modalOverlay.addEventListener('click', () => {
        modal.classList.add('hidden');
    });

    // Diminuir quantidade
    if (decreaseBtn && quantityInput) {
        decreaseBtn.addEventListener('click', () => {
            if (parseInt(quantityInput.value) > 1) {
                quantityInput.value = parseInt(quantityInput.value) - 1;
            }
        });
    }

    // Aumentar quantidade
    if (increaseBtn && quantityInput) {
        increaseBtn.addEventListener('click', () => {
            quantityInput.value = parseInt(quantityInput.value) + 1;
        });
    }

    // Garantir que a quantidade seja sempre um número positivo
    if (quantityInput) {
        quantityInput.addEventListener('change', () => {
            let value = parseInt(quantityInput.value);
            if (isNaN(value) || value < 1) {
                quantityInput.value = 1;
            }
        });
    }

    // Adicionar ao carrinho com proteção robusta contra múltiplos cliques
    if (addToCartBtn) {
        addToCartBtn.addEventListener('click', () => {
            // Verificar se já está em processamento
            if (addToCartInProgress || addToCartBtn.getAttribute('data-processing') === 'true') {
                console.log('Evitando processamento duplicado no modal');
                return;
            }
            
            // Marcar como em processamento
            addToCartBtn.setAttribute('data-processing', 'true');
            addToCartInProgress = true;
            
            const productId = parseInt(addToCartBtn.getAttribute('data-product-id'));
            const quantity = parseInt(quantityInput.value);
            
            // Verificar se precisa selecionar tamanho/cor (para produtos de roupa)
            const sizeContainer = document.getElementById('size-selection-container');
            const colorContainer = document.getElementById('color-selection-container');
            
            if (sizeContainer && !sizeContainer.classList.contains('hidden') && !selectedSize) {
                showAlert('Por favor, selecione um tamanho.', 'error');
                addToCartBtn.setAttribute('data-processing', 'false');
                addToCartInProgress = false;
                return;
            }
            
            if (colorContainer && !colorContainer.classList.contains('hidden') && !selectedColor) {
                showAlert('Por favor, selecione uma cor.', 'error');
                addToCartBtn.setAttribute('data-processing', 'false');
                addToCartInProgress = false;
                return;
            }

            // Desabilitar o botão durante o processamento
            addToCartBtn.disabled = true;
            
            // Pequeno atraso para garantir que a UI atualize
            setTimeout(() => {
                addToCart(productId, quantity, selectedSize, selectedColor);
                modal.classList.add('hidden');
                
                // Resetar seleções
                resetModalSelections();
                
                // Resetar estado do botão
                setTimeout(() => {
                    addToCartBtn.disabled = false;
                    addToCartBtn.setAttribute('data-processing', 'false');
                    addToCartInProgress = false;
                }, 800);
            }, 50);
        });
    }

    // Comprar agora (adiciona ao carrinho e mostra o carrinho)
    if (buyNowBtn) {
        buyNowBtn.addEventListener('click', () => {
            // Verificar se já está em processamento
            if (addToCartInProgress || buyNowBtn.getAttribute('data-processing') === 'true') {
                console.log('Evitando processamento duplicado do botão comprar agora');
                return;
            }
            
            // Marcar como em processamento
            buyNowBtn.setAttribute('data-processing', 'true');
            addToCartInProgress = true;
            
            const productId = parseInt(addToCartBtn.getAttribute('data-product-id'));
            const quantity = parseInt(quantityInput.value);
            
            // Verificar se precisa selecionar tamanho/cor (para produtos de roupa)
            const sizeContainer = document.getElementById('size-selection-container');
            const colorContainer = document.getElementById('color-selection-container');
            
            if (sizeContainer && !sizeContainer.classList.contains('hidden') && !selectedSize) {
                showAlert('Por favor, selecione um tamanho.', 'error');
                buyNowBtn.setAttribute('data-processing', 'false');
                addToCartInProgress = false;
                return;
            }
            
            if (colorContainer && !colorContainer.classList.contains('hidden') && !selectedColor) {
                showAlert('Por favor, selecione uma cor.', 'error');
                buyNowBtn.setAttribute('data-processing', 'false');
                addToCartInProgress = false;
                return;
            }

            // Desabilitar o botão durante o processamento
            buyNowBtn.disabled = true;
            
            // Pequeno atraso para garantir que a UI atualize
            setTimeout(() => {
                addToCart(productId, quantity, selectedSize, selectedColor);
                
                // Mostrar carrinho
                showCart();
                modal.classList.add('hidden');
                
                // Resetar seleções
                resetModalSelections();
                
                // Resetar estado do botão
                setTimeout(() => {
                    buyNowBtn.disabled = false;
                    buyNowBtn.setAttribute('data-processing', 'false');
                    addToCartInProgress = false;
                }, 800);
            }, 50);
        });
    }
}

function resetModalSelections() {
    // Resetar tamanho selecionado
    selectedSize = '';
    const sizeOptions = document.querySelectorAll('.size-option');
    sizeOptions.forEach(opt => opt.classList.remove('selected'));
    
    // Resetar cor selecionada
    selectedColor = '';
    const colorOptions = document.querySelectorAll('.color-option');
    colorOptions.forEach(opt => opt.classList.remove('selected'));
    
    // Resetar quantidade
    const quantityInput = document.getElementById('product-quantity');
    if (quantityInput) {
        quantityInput.value = 1;
    }
}

function updateModalMainImage() {
    const mainImage = document.getElementById('modal-product-image-main');
    if (mainImage && currentProductImages.length > currentImageIndex) {
        mainImage.src = currentProductImages[currentImageIndex];
        
        // Atualizar thumbnail ativa
        const thumbnails = document.querySelectorAll('.modal-thumbnail');
        thumbnails.forEach((thumbnail, index) => {
            if (index === currentImageIndex) {
                thumbnail.classList.add('active');
            } else {
                thumbnail.classList.remove('active');
            }
        });
    }
}

function setupCart() {
    const cartBtn = document.getElementById('cart-btn');
    const closeCartBtn = document.getElementById('close-cart');
    const continueShoppingBtn = document.getElementById('continue-shopping');
    const cartSidebar = document.getElementById('cart-sidebar');
    const proceedCheckoutBtn = document.getElementById('proceed-checkout');
    const backToCartBtn = document.getElementById('back-to-cart');
    const finishOrderBtn = document.getElementById('finish-order');

    // Abrir carrinho
    if (cartBtn) {
        cartBtn.addEventListener('click', (e) => {
            e.preventDefault();
            showCart();
        });
    }

    // Fechar carrinho
    if (closeCartBtn && cartSidebar) {
        closeCartBtn.addEventListener('click', () => {
            cartSidebar.style.transform = 'translateX(100%)';
        });
    }

    // Continuar comprando
    if (continueShoppingBtn && cartSidebar) {
        continueShoppingBtn.addEventListener('click', () => {
            cartSidebar.style.transform = 'translateX(100%)';
        });
    }

    // Prosseguir para checkout
    if (proceedCheckoutBtn) {
        proceedCheckoutBtn.addEventListener('click', () => {
            showCheckoutForm();
        });
    }

    // Voltar ao carrinho
    if (backToCartBtn) {
        backToCartBtn.addEventListener('click', () => {
            hideCheckoutForm();
        });
    }

    // Finalizar compra (enviar para WhatsApp)
    if (finishOrderBtn) {
        finishOrderBtn.addEventListener('click', () => {
            sendOrderToWhatsApp();
        });
    }
}

function setupContactForm() {
    const sendMessageBtn = document.getElementById('send-message-btn');

    if (sendMessageBtn) {
        sendMessageBtn.addEventListener('click', () => {
            // Obter valores do formulário
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const phone = document.getElementById('phone').value;
            const subject = document.getElementById('subject').value;
            const message = document.getElementById('message').value;
            
            // Verificar campos obrigatórios
            if (!name || !email || !message) {
                showAlert('Por favor, preencha todos os campos obrigatórios.', 'error');
                return;
            }
            
            // Preparar mensagem para WhatsApp
            let whatsappMessage = `*Contato via Site - Pro Supplements*\n\n`;
            whatsappMessage += `*Nome:* ${name}\n`;
            whatsappMessage += `*Email:* ${email}\n`;
            if (phone) whatsappMessage += `*Telefone:* ${phone}\n`;
            if (subject) {
                const subjectText = document.querySelector(`#subject option[value="${subject}"]`)?.textContent || subject;
                whatsappMessage += `*Assunto:* ${subjectText}\n`;
            }
            whatsappMessage += `\n*Mensagem:*\n${message}`;
            
            // Enviar para WhatsApp
            const encodedMessage = encodeURIComponent(whatsappMessage);
            const whatsappURL = `https://wa.me/5575991342279?text=${encodedMessage}`;
            window.open(whatsappURL, '_blank');
            
            // Limpar formulário
            const contactForm = document.getElementById('contact-form');
            if (contactForm) {
                contactForm.reset();
            }
            
            showAlert('Mensagem enviada com sucesso! Redirecionando para WhatsApp...');
        });
    }
}

function setupSearch() {
    const searchInput = document.getElementById('search-input');
    const searchSuggestions = document.getElementById('search-suggestions');
    const mobileSearchInput = document.getElementById('mobile-search-input');
    const mobileSearchSuggestions = document.getElementById('mobile-search-suggestions');
    
    // Configuração da busca de desktop
    if (searchInput && searchSuggestions) {
        // Mostrar sugestões ao digitar
        searchInput.addEventListener('input', debounce(() => {
            const query = searchInput.value.trim();
            if (query.length >= 2) {
                showSearchSuggestions(query, searchSuggestions);
            } else {
                searchSuggestions.classList.remove('active');
            }
        }, 300));
        
        // Fechar sugestões ao clicar fora
        document.addEventListener('click', (e) => {
            if (!searchInput.contains(e.target) && !searchSuggestions.contains(e.target)) {
                searchSuggestions.classList.remove('active');
            }
        });
        
        // Executar busca ao pressionar Enter
        searchInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                const query = searchInput.value.trim();
                if (query) {
                    performSearch(query);
                    searchSuggestions.classList.remove('active');
                }
            }
        });
    }
    
    // Configuração da busca mobile
    if (mobileSearchInput && mobileSearchSuggestions) {
        // Mostrar sugestões ao digitar
        mobileSearchInput.addEventListener('input', debounce(() => {
            const query = mobileSearchInput.value.trim();
            if (query.length >= 2) {
                showSearchSuggestions(query, mobileSearchSuggestions);
            } else {
                mobileSearchSuggestions.classList.remove('active');
            }
        }, 300));
        
        // Fechar sugestões ao clicar fora
        document.addEventListener('click', (e) => {
            if (!mobileSearchInput.contains(e.target) && !mobileSearchSuggestions.contains(e.target)) {
                mobileSearchSuggestions.classList.remove('active');
            }
        });
        
        // Executar busca ao pressionar Enter
        mobileSearchInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                const query = mobileSearchInput.value.trim();
                if (query) {
                    performSearch(query);
                    mobileSearchSuggestions.classList.remove('active');
                    document.getElementById('mobile-menu').classList.add('hidden');
                }
            }
        });
    }
    
    // Função para limitar chamadas repetidas (debounce)
    function debounce(func, wait) {
        let timeout;
        return function() {
            const context = this;
            const args = arguments;
            clearTimeout(timeout);
            timeout = setTimeout(() => {
                func.apply(context, args);
            }, wait);
        };
    }
    
    // Função para mostrar sugestões de busca
    function showSearchSuggestions(query, suggestionsContainer) {
        if (query.length < 2) {
            suggestionsContainer.classList.remove('active');
            return;
        }
        
        const normalizedQuery = query.toLowerCase()
            .normalize('NFD')
            .replace(/[\u0300-\u036f]/g, '');
        
        // Filtrar produtos por nome, categoria ou descrição
        const suggestions = productsDB.filter(product => {
            const normalizedName = product.name.toLowerCase()
                .normalize('NFD')
                .replace(/[\u0300-\u036f]/g, '');
            
            const normalizedCategory = (product.categoryName || '').toLowerCase()
                .normalize('NFD')
                .replace(/[\u0300-\u036f]/g, '');
            
            const normalizedDesc = product.description?.toLowerCase()
                .normalize('NFD')
                .replace(/[\u0300-\u036f]/g, '') || '';
            
            return normalizedName.includes(normalizedQuery) || 
                   normalizedCategory.includes(normalizedQuery) ||
                   normalizedDesc.includes(normalizedQuery);
        }).slice(0, 5); // Limitar a 5 sugestões
        
        // Exibir as sugestões
        if (suggestions.length > 0) {
            let html = '';
            
            suggestions.forEach(product => {
                const iconClass = product.icon || 'fa-dumbbell';
                
                html += `
                <div class="suggestion-item" data-id="${product.id}">
                    <div class="suggestion-icon">
                        <i class="fas ${iconClass}"></i>
                    </div>
                    <div class="suggestion-content">
                        <div class="suggestion-title">${product.name}</div>
                        <div class="suggestion-category">${product.categoryName || ''}</div>
                    </div>
                </div>
                `;
            });
            
            suggestionsContainer.innerHTML = html;
            
            // Adicionar eventos às sugestões
            suggestionsContainer.querySelectorAll('.suggestion-item').forEach(item => {
                item.addEventListener('click', () => {
                    const productId = parseInt(item.getAttribute('data-id'));
                    openProductModal(productId);
                    suggestionsContainer.classList.remove('active');
                    if (searchInput) searchInput.value = '';
                    if (mobileSearchInput) mobileSearchInput.value = '';
                });
            });
            
            suggestionsContainer.classList.add('active');
        } else {
            suggestionsContainer.innerHTML = `
            <div class="suggestion-item">
                <div class="suggestion-content">
                    <div class="suggestion-title">Nenhum resultado encontrado</div>
                    <div class="suggestion-category">Tente outros termos de busca</div>
                </div>
            </div>
            `;
            suggestionsContainer.classList.add('active');
        }
    }
    
    // Função para executar a busca completa
    function performSearch(query) {
        if (query.trim() === '') return;

        // Ir para página de produtos
        navigateTo('products');

        // Normalizar a consulta
        const normalizedQuery = query.toLowerCase()
            .normalize("NFD")
            .replace(/[\u0300-\u036f]/g, "");

        // Filtrar produtos pelo termo de busca exato
        const productsGrid = document.getElementById('products-grid');
        if (!productsGrid) return;
        
        const filteredProducts = productsDB.filter(product => {
            // Normalizar texto do produto
            const normalizedName = product.name.toLowerCase()
                .normalize("NFD")
                .replace(/[\u0300-\u036f]/g, "");
            const normalizedDesc = (product.description || '').toLowerCase()
                .normalize("NFD")
                .replace(/[\u0300-\u036f]/g, "");
            const normalizedCategory = (product.categoryName || '').toLowerCase()
                .normalize("NFD")
                .replace(/[\u0300-\u036f]/g, "");
                
            // Verificar correspondência exata
            return normalizedName.indexOf(normalizedQuery) !== -1 || 
                   normalizedDesc.indexOf(normalizedQuery) !== -1 || 
                   normalizedCategory.indexOf(normalizedQuery) !== -1;
        });

        // Mostrar resultados
        if (filteredProducts.length === 0) {
            productsGrid.innerHTML = `
                <div class="col-span-full py-12 text-center">
                    <i class="fas fa-search text-4xl text-gray-400 mb-4"></i>
                    <p class="text-xl">Nenhum produto encontrado para "${query}".</p>
                    <p class="mt-2">Tente outros termos ou navegue pelas categorias.</p>
                </div>
            `;
        } else {
            let productsHTML = '';
            filteredProducts.forEach(product => {
                productsHTML += createProductCardHTML(product);
            });

            productsGrid.innerHTML = `
                <div class="col-span-full mb-4">
                    <p class="text-lg">Resultados para: <span class="font-semibold">"${query}"</span> - ${filteredProducts.length} produto(s) encontrado(s)</p>
                </div>
                ${productsHTML}
            `;

            // Adicionar eventos aos botões de produto
            setupProductCards();
        }
        
        // Limpar campos de busca
        if (searchInput) searchInput.value = '';
        if (mobileSearchInput) mobileSearchInput.value = '';
    }
}

function setupAdminArea() {
    // Configurar login
    const loginBtn = document.getElementById('admin-login-btn');
    const loginSubmitBtn = document.getElementById('login-submit');
    const logoutBtn = document.getElementById('admin-logout-btn');
    
    // Botão para mostrar modal de login
    if (loginBtn) {
        loginBtn.addEventListener('click', () => {
            showLoginModal();
        });
    }
    
    // Botão para enviar formulário de login
    if (loginSubmitBtn) {
        loginSubmitBtn.addEventListener('click', () => {
            loginSubmit();
        });
        
        // Também permitir login com tecla Enter
        const loginPassword = document.getElementById('login-password');
        if (loginPassword) {
            loginPassword.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    loginSubmit();
                }
            });
        }
    }
    
    // Botão para logout
    if (logoutBtn) {
        logoutBtn.addEventListener('click', () => {
            isLoggedIn = false;
            showAlert('Você foi desconectado com sucesso', 'info');
            navigateTo('home');
        });
    }
    
    // Configurar navegação de abas
    const adminNavItems = document.querySelectorAll('.admin-nav-item');
    adminNavItems.forEach(item => {
        item.addEventListener('click', () => {
            // Remover classe active de todos os itens
            adminNavItems.forEach(i => i.classList.remove('active'));
            
            // Adicionar classe active ao item clicado
            item.classList.add('active');
            
            // Mudar a tab ativa
            const tabName = item.getAttribute('data-tab');
            changeAdminTab(tabName);
        });
    });
    
    // Configurar formulário de produto
    setupProductForm();
    
    // Configurar formulário de roupa
    setupClothingForm();
    
    // Configurar formulário de categoria
    setupCategoryForm();
    
    // Configurar os outros formulários da área admin
    setupAdminForms();
}

function setupAdminForms() {
    // Formulário de configurações do Supabase
    const supabaseConfigForm = document.getElementById('supabase-config-form');
    if (supabaseConfigForm) {
        // Preencher com os valores salvos do localStorage (se existirem)
        const supabaseUrl = document.getElementById('supabase-url');
        const supabaseKey = document.getElementById('supabase-key');
        
        if (supabaseUrl && supabaseKey) {
            supabaseUrl.value = localStorage.getItem('supabaseUrl') || '';
            supabaseKey.value = localStorage.getItem('supabaseKey') || '';
        }
        
        // Configurar submit do formulário
        supabaseConfigForm.addEventListener('submit', (e) => {
            e.preventDefault();
            
            // Salvar no localStorage
            localStorage.setItem('supabaseUrl', supabaseUrl.value);
            localStorage.setItem('supabaseKey', supabaseKey.value);
            
            // Tentar inicializar o Supabase com as novas credenciais
            if (initSupabase()) {
                showAlert('Configurações do Supabase salvas com sucesso!', 'success');
                // Recarregar dados do Supabase
                initializeData();
            } else {
                showAlert('Erro ao salvar configurações do Supabase', 'error');
            }
        });
    }
    
    // Botão para testar conexão
    const testConnectionBtn = document.getElementById('test-connection-btn');
    if (testConnectionBtn) {
        testConnectionBtn.addEventListener('click', async () => {
            // Mostrar mensagem de carregamento
            updateConnectionStatus('info', 'Testando conexão com o Supabase...');
            
            // Tentar inicializar o Supabase
            if (!supabase) {
                if (!initSupabase()) {
                    updateConnectionStatus('error', 'Não foi possível inicializar o cliente Supabase. Verifique as credenciais.');
                    return;
                }
            }
            
            // Testar a conexão
            const isConnected = await checkSupabaseConnection();
            
            if (isConnected) {
                updateConnectionStatus('success', 'Conexão com Supabase estabelecida com sucesso!');
            } else {
                updateConnectionStatus('error', 'Falha na conexão com Supabase. Verifique as credenciais e tente novamente.');
            }
        });
    }
    
    // Formulário de informações da loja
    const storeInfoForm = document.getElementById('store-info-form');
    if (storeInfoForm) {
        // Configurar submit do formulário
        storeInfoForm.addEventListener('submit', (e) => {
            e.preventDefault();
            
            // Salvar no localStorage
            localStorage.setItem('storeName', document.getElementById('store-name').value);
            localStorage.setItem('storeEmail', document.getElementById('store-email').value);
            localStorage.setItem('storePhone', document.getElementById('store-phone').value);
            localStorage.setItem('storeWhatsapp', document.getElementById('store-whatsapp').value);
            localStorage.setItem('storeAddress', document.getElementById('store-address').value);
            
            showAlert('Informações da loja salvas com sucesso!', 'success');
        });
    }
    
    // Botões de manutenção
    const syncDbBtn = document.getElementById('sync-db-btn');
    const clearCacheBtn = document.getElementById('clear-cache-btn');
    const exportDataBtn = document.getElementById('export-data-btn');
    
    // Botão de sincronização com Supabase
    if (syncDbBtn) {
        syncDbBtn.addEventListener('click', async () => {
            await syncProductsWithSupabase();
        });
    }
    
    // Botão para limpar cache
    if (clearCacheBtn) {
        clearCacheBtn.addEventListener('click', () => {
            // Limpar cache de produtos em localStorage
            localStorage.removeItem('products');
            localStorage.removeItem('categories');
            
            showAlert('Cache limpo com sucesso!', 'success');
        });
    }
    
    // Botão para exportar dados
    if (exportDataBtn) {
        exportDataBtn.addEventListener('click', () => {
            // Criar objeto com todos os dados
            const exportData = {
                products: productsDB,
                categories: categoryData
            };
            
            // Converter para JSON
            const jsonData = JSON.stringify(exportData, null, 2);
            
            // Criar blob
            const blob = new Blob([jsonData], { type: 'application/json' });
            
            // Criar URL para o blob
            const url = URL.createObjectURL(blob);
            
            // Criar link para download
            const a = document.createElement('a');
            a.href = url;
            a.download = `prosupplements_data_${new Date().toISOString().slice(0, 10)}.json`;
            
            // Adicionar ao DOM e disparar o clique
            document.body.appendChild(a);
            a.click();
            
            // Limpar
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showAlert('Dados exportados com sucesso!', 'success');
        });
    }
}

function setupProductForm() {
    const addProductBtn = document.getElementById('add-product-btn');
    const cancelProductBtn = document.getElementById('cancel-product-btn');
    const productForm = document.getElementById('product-form');
    const formContainer = document.getElementById('product-form-container');
    const addBenefitBtn = document.getElementById('add-benefit-btn');
    
    // Botão para adicionar produto
    if (addProductBtn) {
        addProductBtn.addEventListener('click', () => {
            // Resetar formulário
            resetProductForm();
            
            // Mostrar formulário
            formContainer.classList.remove('hidden');
            document.getElementById('product-form-title').textContent = 'Adicionar Novo Produto';
            
            // Rolar para o formulário
            formContainer.scrollIntoView({ behavior: 'smooth' });
        });
    }
    
    // Botão para cancelar adição/edição
    if (cancelProductBtn) {
        cancelProductBtn.addEventListener('click', () => {
            formContainer.classList.add('hidden');
            currentEditingProductId = null;
        });
    }
    
    // Botão para adicionar benefício ao produto
    if (addBenefitBtn) {
        addBenefitBtn.addEventListener('click', () => {
            const benefitsContainer = document.getElementById('product-benefits-container');
            if (!benefitsContainer) return;
            
            const newBenefitItem = document.createElement('div');
            newBenefitItem.className = 'admin-benefit-item';
            newBenefitItem.innerHTML = `
                <input type="text" class="admin-form-input product-benefit" placeholder="Ex: 24g de proteína por dose">
                <button type="button" class="admin-remove-benefit-btn"><i class="fas fa-minus"></i></button>
            `;
            
            benefitsContainer.appendChild(newBenefitItem);
            
            // Adicionar evento para remover benefício
            newBenefitItem.querySelector('.admin-remove-benefit-btn').addEventListener('click', function() {
                benefitsContainer.removeChild(newBenefitItem);
            });
        });
        
        // Configurar evento de remoção para os benefícios iniciais
        document.querySelectorAll('.admin-remove-benefit-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                this.closest('.admin-benefit-item').remove();
            });
        });
    }
    
    // Formulário de produto
    if (productForm) {
        productForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            // Verificar elementos do formulário
            const productName = document.getElementById('product-name');
            const productCategory = document.getElementById('product-category');
            const productPrice = document.getElementById('product-price');
            const productOldPrice = document.getElementById('product-old-price');
            const productRating = document.getElementById('product-rating');
            const productImageUrl = document.getElementById('product-image-url');
            const productTag = document.getElementById('product-tag');
            const productDescription = document.getElementById('product-description');
            
            if (!productName || !productCategory || !productPrice) {
                showAlert('Formulário incompleto. Recarregue a página e tente novamente.', 'error');
                return;
            }
            
            // Coletar dados do formulário
            const formData = {
                name: productName.value,
                category: productCategory.value,
                categoryName: productCategory.options[productCategory.selectedIndex].text,
                price: parseFloat(productPrice.value),
                oldPrice: productOldPrice && productOldPrice.value ? parseFloat(productOldPrice.value) : null,
                rating: productRating && productRating.value ? parseFloat(productRating.value) : 5,
                imageUrl: productImageUrl ? productImageUrl.value : '',
                tag: productTag ? productTag.value : '',
                description: productDescription ? productDescription.value : '',
                benefits: Array.from(document.querySelectorAll('.product-benefit'))
                    .map(input => input.value)
                    .filter(benefit => benefit.trim() !== '')
            };
            
            // Validar dados
            if (!formData.name || !formData.category || !formData.price || !formData.imageUrl || !formData.description || formData.benefits.length === 0) {
                showAlert('Por favor, preencha todos os campos obrigatórios.', 'error');
                return;
            }
            
            // Se estiver editando, manter o ID existente
            if (currentEditingProductId) {
                formData.id = currentEditingProductId;
            }
            
            // Salvar no Supabase
            if (supabase) {
                const result = await saveProductToSupabase(formData);
                if (!result.success) {
                    // Erro já tratado na função saveProductToSupabase
                    return;
                }
            } else {
                // Se o Supabase não estiver inicializado, salvar apenas localmente
                if (currentEditingProductId) {
                    // Atualizar produto existente
                    const existingIndex = productsDB.findIndex(p => p.id === currentEditingProductId);
                    if (existingIndex !== -1) {
                        productsDB[existingIndex] = { ...productsDB[existingIndex], ...formData };
                    }
                } else {
                    // Gerar novo ID para produto novo (maior ID + 1)
                    const maxId = productsDB.reduce((max, product) => Math.max(max, product.id), 0);
                    formData.id = maxId + 1;
                    productsDB.push(formData);
                }
            }
            
            // Esconder formulário
            formContainer.classList.add('hidden');
            
            // Resetar ID de edição
            currentEditingProductId = null;
            
            // Recarregar lista de produtos
            loadAdminProducts();
            
            // Mostrar mensagem de sucesso
            showAlert('Produto salvo com sucesso!', 'success');
        });
    }
}

function setupClothingForm() {
    const addClothingBtn = document.getElementById('add-clothing-btn');
    const cancelClothingBtn = document.getElementById('cancel-clothing-btn');
    const clothingForm = document.getElementById('clothing-form');
    const formContainer = document.getElementById('clothing-form-container');
    const addClothingBenefitBtn = document.getElementById('add-clothing-benefit-btn');
    
    // Botão para adicionar roupa
    if (addClothingBtn) {
        addClothingBtn.addEventListener('click', () => {
            // Resetar formulário
            resetClothingForm();
            
            // Mostrar formulário
            formContainer.classList.remove('hidden');
            document.getElementById('clothing-form-title').textContent = 'Adicionar Nova Roupa/Acessório';
            
            // Rolar para o formulário
            formContainer.scrollIntoView({ behavior: 'smooth' });
        });
    }
    
    // Botão para cancelar adição/edição
    if (cancelClothingBtn) {
        cancelClothingBtn.addEventListener('click', () => {
            formContainer.classList.add('hidden');
            currentEditingProductId = null;
        });
    }
    
    // Botão para adicionar benefício ao produto
    if (addClothingBenefitBtn) {
        addClothingBenefitBtn.addEventListener('click', () => {
            const benefitsContainer = document.getElementById('clothing-benefits-container');
            if (!benefitsContainer) return;
            
            const newBenefitItem = document.createElement('div');
            newBenefitItem.className = 'admin-benefit-item';
            newBenefitItem.innerHTML = `
                <input type="text" class="admin-form-input clothing-benefit" placeholder="Ex: Tecido dry-fit de alta qualidade">
                <button type="button" class="admin-remove-benefit-btn"><i class="fas fa-minus"></i></button>
            `;
            
            benefitsContainer.appendChild(newBenefitItem);
            
            // Adicionar evento para remover benefício
            newBenefitItem.querySelector('.admin-remove-benefit-btn').addEventListener('click', function() {
                benefitsContainer.removeChild(newBenefitItem);
            });
        });
        
        // Configurar evento de remoção para os benefícios iniciais
        document.querySelectorAll('.admin-remove-benefit-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                this.closest('.admin-benefit-item').remove();
            });
        });
    }
    
    // Formulário de roupa
    if (clothingForm) {
        clothingForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            // Verificar elementos do formulário
            const clothingElements = {
                name: document.getElementById('clothing-name'),
                category: document.getElementById('clothing-category'),
                price: document.getElementById('clothing-price'),
                oldPrice: document.getElementById('clothing-old-price'),
                rating: document.getElementById('clothing-rating'),
                tag: document.getElementById('clothing-tag'),
                description: document.getElementById('clothing-description'),
                images: document.getElementById('clothing-images')
            };
            
            if (!clothingElements.name || !clothingElements.category || !clothingElements.price) {
                showAlert('Formulário incompleto. Recarregue a página e tente novamente.', 'error');
                return;
            }
            
            // Coletar dados do formulário
            const formData = {
                name: clothingElements.name.value,
                category: clothingElements.category.value,
                categoryName: clothingElements.category.options[clothingElements.category.selectedIndex].text,
                price: parseFloat(clothingElements.price.value),
                oldPrice: clothingElements.oldPrice && clothingElements.oldPrice.value ? parseFloat(clothingElements.oldPrice.value) : null,
                rating: clothingElements.rating && clothingElements.rating.value ? parseFloat(clothingElements.rating.value) : 5,
                tag: clothingElements.tag ? clothingElements.tag.value : '',
                description: clothingElements.description ? clothingElements.description.value : '',
                
                // Coletar imagens (uma por linha)
                images: clothingElements.images && clothingElements.images.value ? 
                    clothingElements.images.value
                        .split('\n')
                        .map(url => url.trim())
                        .filter(url => url !== '') : [],
                
                // Coletar tamanhos selecionados
                sizes: Array.from(document.querySelectorAll('.clothing-size:checked'))
                    .map(checkbox => checkbox.value),
                
                // Coletar cores selecionadas
                colors: Array.from(document.querySelectorAll('.clothing-color:checked'))
                    .map(checkbox => checkbox.value),
                
                // Coletar benefícios
                benefits: Array.from(document.querySelectorAll('.clothing-benefit'))
                    .map(input => input.value)
                    .filter(benefit => benefit.trim() !== '')
            };
            
            // Validar dados
            if (!formData.name || !formData.category || !formData.price || formData.images.length === 0 || 
                !formData.description || formData.benefits.length === 0 || 
                formData.sizes.length === 0 || formData.colors.length === 0) {
                showAlert('Por favor, preencha todos os campos obrigatórios.', 'error');
                return;
            }
            
            // Se estiver editando, manter o ID existente
            if (currentEditingProductId) {
                formData.id = currentEditingProductId;
            }
            
            // Salvar no Supabase
            if (supabase) {
                const result = await saveProductToSupabase(formData);
                if (!result.success) {
                    // Erro já tratado na função saveProductToSupabase
                    return;
                }
            } else {
                // Se o Supabase não estiver inicializado, salvar apenas localmente
                if (currentEditingProductId) {
                    // Atualizar produto existente
                    const existingIndex = productsDB.findIndex(p => p.id === currentEditingProductId);
                    if (existingIndex !== -1) {
                        productsDB[existingIndex] = { ...productsDB[existingIndex], ...formData };
                    }
                } else {
                    // Gerar novo ID para produto novo (maior ID + 1)
                    const maxId = productsDB.reduce((max, product) => Math.max(max, product.id), 0);
                    formData.id = maxId + 1;
                    productsDB.push(formData);
                }
            }
            
            // Esconder formulário
            formContainer.classList.add('hidden');
            
            // Resetar ID de edição
            currentEditingProductId = null;
            
            // Recarregar lista de produtos
            loadAdminClothes();
            
            // Mostrar mensagem de sucesso
            showAlert('Produto salvo com sucesso!', 'success');
        });
    }
}

// Função corrigida para configurar o formulário de categoria
function setupCategoryForm() {
    const addCategoryBtn = document.getElementById('add-category-btn');
    const cancelCategoryBtn = document.getElementById('cancel-category-btn');
    const categoryForm = document.getElementById('category-form');
    const formContainer = document.getElementById('category-form-container');
    
    // Botão para adicionar categoria
    if (addCategoryBtn) {
        addCategoryBtn.addEventListener('click', () => {
            // Resetar formulário
            resetCategoryForm();
            
            // Mostrar formulário
            formContainer.classList.remove('hidden');
            document.getElementById('category-form-title').textContent = 'Adicionar Nova Categoria';
            
            // Garantir que o campo de upload de imagem esteja presente
            addCategoryImageField();
            
            // Rolar para o formulário
            formContainer.scrollIntoView({ behavior: 'smooth' });
            
            // Verificar formulário após curto delay para debug
            setTimeout(() => {
                console.log('Formulário visível:', !formContainer.classList.contains('hidden'));
                console.log('Campos do formulário:',
                    'Nome:', document.getElementById('category-name') ? 'OK' : 'Não encontrado',
                    'Código:', document.getElementById('category-code') ? 'OK' : 'Não encontrado',
                    'Descrição:', document.getElementById('category-description') ? 'OK' : 'Não encontrado',
                    'Imagem:', document.getElementById('category-image') ? 'OK' : 'Não encontrado'
                );
            }, 1000);
        });
    }
    
    // Botão para cancelar adição/edição
    if (cancelCategoryBtn) {
        cancelCategoryBtn.addEventListener('click', () => {
            formContainer.classList.add('hidden');
            currentEditingCategoryCode = null;
        });
    }
    
    // Formulário de categoria
    if (categoryForm) {
        // Remover listeners antigos para evitar duplicação
        const newForm = categoryForm.cloneNode(true);
        categoryForm.parentNode.replaceChild(newForm, categoryForm);
        
        // Adicionar listener ao novo formulário
        newForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            console.log('Formulário de categoria submetido');
            
            // Verificar se há mensagem de erro visível e remover
            const errorMsg = document.querySelector('.supabase-status-message.error');
            if (errorMsg) {
                errorMsg.remove();
            }
            
            // Mostrar loading
            showLoading('Processando dados da categoria...');
            
            // Verificar elementos do formulário
            const categoryElements = {
                name: document.getElementById('category-name'),
                code: document.getElementById('category-code'),
                description: document.getElementById('category-description'),
                image: document.getElementById('category-image')
            };
            
            console.log('Elementos do formulário:', 
                'Nome:', categoryElements.name ? 'Encontrado' : 'Não encontrado',
                'Código:', categoryElements.code ? 'Encontrado' : 'Não encontrado',
                'Descrição:', categoryElements.description ? 'Encontrado' : 'Não encontrado',
                'Imagem:', categoryElements.image ? 'Encontrado' : 'Não encontrado'
            );
            
            if (!categoryElements.name || !categoryElements.code || !categoryElements.description) {
                hideLoading();
                showAlert('Formulário incompleto. Recarregue a página e tente novamente.', 'error');
                return;
            }
            
            // Coletar dados do formulário com trim para remover espaços
            const formData = {
                name: categoryElements.name.value.trim(),
                code: categoryElements.code.value.trim(),
                description: categoryElements.description.value.trim(),
                image_url: null // Valor padrão
            };
            
            console.log('Valores do formulário:', 
                'Nome:', formData.name, 
                'Código:', formData.code, 
                'Descrição:', formData.description
            );
            
            // Validar dados com foco no campo problemático
            if (!formData.name) {
                hideLoading();
                showAlert('Por favor, preencha o nome da categoria.', 'error');
                categoryElements.name.focus();
                return;
            }
            
            if (!formData.code) {
                hideLoading();
                showAlert('Por favor, preencha o código da categoria.', 'error');
                categoryElements.code.focus();
                return;
            }
            
            if (!formData.description) {
                hideLoading();
                showAlert('Por favor, preencha a descrição da categoria.', 'error');
                categoryElements.description.focus();
                return;
            }
            
            // Processar upload da imagem, se houver
            if (categoryElements.image && categoryElements.image.files && categoryElements.image.files[0]) {
                try {
                    console.log('Processando upload de imagem');
                    const uploadResult = await uploadCategoryImage(categoryElements.image.files[0], formData.code);
                    
                    if (uploadResult.success) {
                        formData.image_url = uploadResult.publicUrl;
                        console.log('Upload de imagem bem-sucedido:', formData.image_url);
                    } else {
                        hideLoading();
                        showAlert('Erro ao fazer upload da imagem: ' + uploadResult.error, 'error');
                        return;
                    }
                } catch (error) {
                    hideLoading();
                    console.error('Erro no upload:', error);
                    showAlert('Erro ao fazer upload da imagem.', 'error');
                    return;
                }
            } else if (currentEditingCategoryCode) {
                // Se estiver editando e não tiver nova imagem, manter a imagem atual
                formData.image_url = categoryData[currentEditingCategoryCode]?.image_url || null;
                console.log('Mantendo imagem existente:', formData.image_url);
            } else {
                console.log('Sem imagem para esta categoria');
            }
            
            // Salvar no Supabase
            if (supabase) {
                console.log('Salvando categoria no Supabase');
                const result = await saveCategoryToSupabase(formData);
                if (!result.success) {
                    // Erro já tratado na função saveCategoryToSupabase
                    hideLoading();
                    return;
                }
            } else {
                console.log('Salvando categoria localmente (Supabase não inicializado)');
                // Se o Supabase não estiver inicializado, salvar apenas localmente
                categoryData[formData.code] = {
                    name: formData.name,
                    description: formData.description,
                    image_url: formData.image_url
                };
            }
            
            // Esconder loading
            hideLoading();
            
            // Esconder formulário
            formContainer.classList.add('hidden');
            
            // Resetar ID de edição
            currentEditingCategoryCode = null;
            
            // Recarregar lista de categorias
            loadAdminCategories();
            
            // Recarregar combobox de categorias nos formulários de produto
            updateCategoryDropdowns();
            
            // Mostrar mensagem de sucesso
            showAlert('Categoria salva com sucesso!', 'success');
        });
    } else {
        console.error('Formulário de categoria não encontrado');
    }
}

// Função atualizada para atualizar dropdowns de categorias
function updateCategoryDropdowns() {
    // Atualizar combobox de categorias no formulário de produto
    const productCategoryDropdown = document.getElementById('product-category');
    
    if (productCategoryDropdown) {
        // Salvar seleção atual
        const currentSelection = productCategoryDropdown.value;
        
        // Limpar itens atuais, mantendo o primeiro (vazio)
        while (productCategoryDropdown.options.length > 1) {
            productCategoryDropdown.remove(1);
        }
        
        // Adicionar categorias
        Object.keys(categoryData).forEach(code => {
            if (!['mens-clothes', 'womens-clothes', 'fitness-accessories'].includes(code)) {
                const option = document.createElement('option');
                option.value = code;
                option.textContent = categoryData[code].name;
                productCategoryDropdown.appendChild(option);
            }
        });
        
        // Restaurar seleção se ainda existir
        if (currentSelection) {
            productCategoryDropdown.value = currentSelection;
        }
    }
    
    // Atualizar combobox de categorias no filtro de produtos
    const categoryFilter = document.getElementById('category-filter');
    
    if (categoryFilter) {
        // Salvar seleção atual
        const currentSelection = categoryFilter.value;
        
        // Limpar itens atuais, mantendo o primeiro (todos)
        while (categoryFilter.options.length > 1) {
            categoryFilter.remove(1);
        }
        
        // Adicionar categorias
        Object.keys(categoryData).forEach(code => {
            if (!['mens-clothes', 'womens-clothes', 'fitness-accessories'].includes(code)) {
                const option = document.createElement('option');
                option.value = code;
                option.textContent = categoryData[code].name;
                categoryFilter.appendChild(option);
            }
        });
        
        // Restaurar seleção se ainda existir
        if (currentSelection) {
            categoryFilter.value = currentSelection;
        }
    }
}

// *** Funções de Carregamento de Dados ***
function loadProducts() {
    const productsGrid = document.getElementById('products-grid');
    const categoryFilter = document.getElementById('category-filter');
    const sortFilter = document.getElementById('sort-filter');
    
    if (!productsGrid) return;
    
    // Remova spinner de carregamento na homepage
    if (currentPage !== 'admin') {
        productsGrid.innerHTML = '';
    } else {
        // Mostrar spinner de carregamento somente na área admin
        productsGrid.innerHTML = `
            <div class="flex justify-center items-center py-12 col-span-full">
                <div class="spinner"></div>
            </div>
        `;
    }
    
    // Aplicar filtro de categoria
    let filteredProducts = productsDB;
    if (categoryFilter && categoryFilter.value !== 'all') {
        filteredProducts = productsDB.filter(product => product.category === categoryFilter.value);
    }
    
    // Aplicar ordenação
    if (sortFilter) {
        const sortOption = sortFilter.value;
        
        switch (sortOption) {
            case 'name-asc':
                filteredProducts.sort((a, b) => a.name.localeCompare(b.name));
                break;
            case 'name-desc':
                filteredProducts.sort((a, b) => b.name.localeCompare(a.name));
                break;
            case 'price-asc':
                filteredProducts.sort((a, b) => a.price - b.price);
                break;
            case 'price-desc':
                filteredProducts.sort((a, b) => b.price - a.price);
                break;
        }
    }
    
    // Gerar HTML dos produtos filtrados
    if (filteredProducts.length === 0) {
        productsGrid.innerHTML = `
            <div class="col-span-full py-12 text-center">
                <i class="fas fa-box-open text-4xl text-gray-400 mb-4"></i>
                <p class="text-xl">Nenhum produto encontrado nesta categoria.</p>
                <p class="mt-2">Tente selecionar outra categoria ou volte mais tarde.</p>
            </div>
        `;
    } else {
        let productsHTML = '';
        
        // Adicionar apenas produtos que não são roupas
        const regularProducts = filteredProducts.filter(p => 
            !['mens-clothes', 'womens-clothes', 'fitness-accessories'].includes(p.category)
        );
        
        regularProducts.forEach(product => {
            productsHTML += createProductCardHTML(product);
        });
        
        productsGrid.innerHTML = productsHTML;
        
        // Adicionar eventos aos botões de produto
        setupProductCards();
    }
}

function loadClothes() {
    const clothesGrid = document.getElementById('clothes-grid');
    const categoryFilter = document.getElementById('clothes-category-filter');
    const sortFilter = document.getElementById('clothes-sort-filter');
    
    if (!clothesGrid) return;
    
    // Remova spinner de carregamento na homepage
    if (currentPage !== 'admin') {
        clothesGrid.innerHTML = '';
    } else {
        // Mostrar spinner de carregamento somente na área admin
        clothesGrid.innerHTML = `
            <div class="flex justify-center items-center py-12 col-span-full">
                <div class="spinner"></div>
            </div>
        `;
    }
    
    // Filtrar apenas roupas e acessórios
    let filteredProducts = productsDB.filter(p => 
        ['mens-clothes', 'womens-clothes', 'fitness-accessories'].includes(p.category)
    );
    
    // Aplicar filtro de categoria
    if (categoryFilter && categoryFilter.value !== 'all') {
        filteredProducts = filteredProducts.filter(product => product.category === categoryFilter.value);
    }
    
    // Aplicar ordenação
    if (sortFilter) {
        const sortOption = sortFilter.value;
        
        switch (sortOption) {
            case 'name-asc':
                filteredProducts.sort((a, b) => a.name.localeCompare(b.name));
                break;
            case 'name-desc':
                filteredProducts.sort((a, b) => b.name.localeCompare(a.name));
                break;
            case 'price-asc':
                filteredProducts.sort((a, b) => a.price - b.price);
                break;
            case 'price-desc':
                filteredProducts.sort((a, b) => b.price - a.price);
                break;
        }
    }
    
    // Gerar HTML dos produtos filtrados
    if (filteredProducts.length === 0) {
        clothesGrid.innerHTML = `
            <div class="col-span-full py-12 text-center">
                <i class="fas fa-tshirt text-4xl text-gray-400 mb-4"></i>
                <p class="text-xl">Nenhuma roupa ou acessório encontrado nesta categoria.</p>
                <p class="mt-2">Tente selecionar outra categoria ou volte mais tarde.</p>
            </div>
        `;
    } else {
        let productsHTML = '';
        
        filteredProducts.forEach(product => {
            productsHTML += createProductCardHTML(product);
        });
        
        clothesGrid.innerHTML = productsHTML;
        
        // Adicionar eventos aos botões de produto
        setupProductCards();
    }
}

function loadCategoryProducts(categoryCode) {
    const categoryProducts = document.getElementById('category-products');
    const categoryTitle = document.getElementById('category-title');
    const categoryDescription = document.getElementById('category-description');
    
    if (!categoryProducts || !categoryTitle || !categoryDescription) return;
    
    // Remova spinner de carregamento na homepage
    if (currentPage !== 'admin') {
        categoryProducts.innerHTML = '';
    } else {
        // Mostrar spinner de carregamento somente na área admin
        categoryProducts.innerHTML = `
            <div class="flex justify-center items-center py-12 col-span-full">
                <div class="spinner"></div>
            </div>
        `;
    }
    
    // Atualizar categoria atual
    currentCategory = categoryCode;
    
    // Atualizar título e descrição da categoria
    const category = categoryData[categoryCode];
    if (category) {
        categoryTitle.textContent = category.name;
        categoryDescription.textContent = category.description;
    } else {
        categoryTitle.textContent = 'Categoria';
        categoryDescription.textContent = 'Produtos desta categoria.';
    }
    
    // Filtrar produtos da categoria
    const filteredProducts = productsDB.filter(product => product.category === categoryCode);
    
    // Gerar HTML dos produtos
    if (filteredProducts.length === 0) {
        categoryProducts.innerHTML = `
            <div class="col-span-full py-12 text-center">
                <i class="fas fa-box-open text-4xl text-gray-400 mb-4"></i>
                <p class="text-xl">Nenhum produto encontrado nesta categoria.</p>
                <p class="mt-2">Tente selecionar outra categoria ou volte mais tarde.</p>
            </div>
        `;
    } else {
        let productsHTML = '';
        
        filteredProducts.forEach(product => {
            productsHTML += createProductCardHTML(product);
        });
        
        categoryProducts.innerHTML = productsHTML;
        
        // Adicionar eventos aos botões de produto
        setupProductCards();
    }
}

function loadAdminProducts() {
    const productsGrid = document.getElementById('admin-products-grid');
    
    if (!productsGrid) return;
    
    // Mostrar spinner de carregamento
    productsGrid.innerHTML = `
        <div class="flex justify-center items-center py-12 col-span-full">
            <div class="spinner"></div>
        </div>
    `;
    
    // Filtrar apenas produtos regulares (não roupas)
    const regularProducts = productsDB.filter(p => 
        !['mens-clothes', 'womens-clothes', 'fitness-accessories'].includes(p.category)
    );
    
    // Ordenar por ID
    regularProducts.sort((a, b) => a.id - b.id);
    
    // Gerar HTML dos produtos
    if (regularProducts.length === 0) {
        productsGrid.innerHTML = `
            <div class="col-span-full py-12 text-center">
                <i class="fas fa-box-open text-4xl text-gray-400 mb-4"></i>
                <p class="text-xl">Nenhum produto cadastrado.</p>
                <p class="mt-2">Clique no botão "Adicionar Produto" para começar.</p>
            </div>
        `;
    } else {
        let productsHTML = '';
        
        regularProducts.forEach(product => {
            productsHTML += createAdminProductCardHTML(product);
        });
        
        productsGrid.innerHTML = productsHTML;
        
        // Adicionar eventos aos botões de editar/excluir
        setupAdminProductActions();
    }
}

function loadAdminClothes() {
    const clothesGrid = document.getElementById('admin-clothes-grid');
    
    if (!clothesGrid) return;
    
    // Mostrar spinner de carregamento
    clothesGrid.innerHTML = `
        <div class="flex justify-center items-center py-12 col-span-full">
            <div class="spinner"></div>
        </div>
    `;
    
    // Filtrar apenas roupas e acessórios
    const clothesProducts = productsDB.filter(p => 
        ['mens-clothes', 'womens-clothes', 'fitness-accessories'].includes(p.category)
    );
    
    // Ordenar por ID
    clothesProducts.sort((a, b) => a.id - b.id);
    
    // Gerar HTML dos produtos
    if (clothesProducts.length === 0) {
        clothesGrid.innerHTML = `
            <div class="col-span-full py-12 text-center">
                <i class="fas fa-tshirt text-4xl text-gray-400 mb-4"></i>
                <p class="text-xl">Nenhuma roupa ou acessório cadastrado.</p>
                <p class="mt-2">Clique no botão "Adicionar Item" para começar.</p>
            </div>
        `;
    } else {
        let productsHTML = '';
        
        clothesProducts.forEach(product => {
            productsHTML += createAdminProductCardHTML(product);
        });
        
        clothesGrid.innerHTML = productsHTML;
        
        // Adicionar eventos aos botões de editar/excluir
        setupAdminProductActions();
    }
}

function loadAdminCategories() {
    const categoriesGrid = document.getElementById('admin-categories-grid');
    
    if (!categoriesGrid) return;
    
    // Mostrar spinner de carregamento
    categoriesGrid.innerHTML = `
        <div class="flex justify-center items-center py-12 col-span-full">
            <div class="spinner"></div>
        </div>
    `;
    
    // Ordenar categorias por nome
    const sortedCategories = Object.entries(categoryData).sort((a, b) => a[1].name.localeCompare(b[1].name));
    
    // Gerar HTML das categorias
    if (sortedCategories.length === 0) {
        categoriesGrid.innerHTML = `
            <div class="col-span-full py-12 text-center">
                <i class="fas fa-tags text-4xl text-gray-400 mb-4"></i>
                <p class="text-xl">Nenhuma categoria cadastrada.</p>
                <p class="mt-2">Clique no botão "Adicionar Categoria" para começar.</p>
            </div>
        `;
    } else {
        let categoriesHTML = '';
        
        sortedCategories.forEach(([code, category]) => {
            categoriesHTML += createAdminCategoryCardHTML(code, category);
        });
        
        categoriesGrid.innerHTML = categoriesHTML;
        
        // Adicionar eventos aos botões de editar/excluir
        setupAdminCategoryActions();
    }
}

// *** Funções de Navegação ***
function navigateTo(page) {
    // Esconder todas as páginas
    const pages = document.querySelectorAll('.page');
    pages.forEach(p => p.classList.remove('active'));

    // Mostrar página selecionada
    const selectedPage = document.getElementById(page);
    if (selectedPage) {
        selectedPage.classList.add('active');
        
        // Se for a página de admin e o usuário estiver logado, exibir o painel
        if (page === 'admin') {
            if (isLoggedIn) {
                const adminLoginRequired = document.getElementById('admin-login-required');
                const adminPanel = document.getElementById('admin-panel');
                
                if (adminLoginRequired) adminLoginRequired.classList.add('hidden');
                if (adminPanel) adminPanel.classList.remove('hidden');
                
                // Carregar dados administrativos
                loadAdminProducts();
                
                // Garantir que o campo de upload de imagem esteja presente
                addCategoryImageField();
            } else {
                const adminLoginRequired = document.getElementById('admin-login-required');
                const adminPanel = document.getElementById('admin-panel');
                
                if (adminLoginRequired) adminLoginRequired.classList.remove('hidden');
                if (adminPanel) adminPanel.classList.add('hidden');
            }
        }
    }

    // Atualizar página atual
    currentPage = page;

    // Adicionar classe active aos links de navegação correspondentes
    const navLinks = document.querySelectorAll('.nav-link');
    navLinks.forEach(link => {
        if (link.getAttribute('data-page') === page) {
            link.classList.add('active');
        } else {
            link.classList.remove('active');
        }
    });

    // Adicionar classe active aos links de navegação mobile correspondentes
    const mobileNavLinks = document.querySelectorAll('.mobile-nav-link');
    mobileNavLinks.forEach(link => {
        if (link.getAttribute('data-page') === page) {
            link.classList.add('active');
        } else {
            link.classList.remove('active');
        }
    });

    // Rolar para o topo
    window.scrollTo(0, 0);
}

function navigateToCategory(categoryCode) {
    // Mudar para a página de categoria
    navigateTo('category');

    // Carregar produtos da categoria
    loadCategoryProducts(categoryCode);
}

function changeAdminTab(tabName) {
    // Esconder todas as abas
    const tabs = document.querySelectorAll('.admin-tab');
    tabs.forEach(tab => tab.classList.add('hidden'));
    
    // Mostrar a aba selecionada
    const selectedTab = document.getElementById(`admin-tab-${tabName}`);
    if (selectedTab) {
        selectedTab.classList.remove('hidden');
    }
    
    // Atualizar a aba atual
    currentAdminTab = tabName;
    
    // Carregar dados da aba
    if (tabName === 'products') {
        loadAdminProducts();
    } else if (tabName === 'clothes') {
        loadAdminClothes();
    } else if (tabName === 'categories') {
        loadAdminCategories();
        // Garantir que o campo de upload de imagem esteja presente
        addCategoryImageField();
    }
}

// *** Funções de Criação de HTML ***
function createProductCardHTML(product) {
    // Verificar se é uma roupa/acessório (com múltiplas imagens)
    const isClothing = ['mens-clothes', 'womens-clothes', 'fitness-accessories'].includes(product.category);
    
    // Definir a imagem para exibição
    const imageUrl = isClothing && product.images ? product.images[0] : (product.imageUrl || 'https://via.placeholder.com/300x300?text=Sem+Imagem');
    
    // Formatar preços
    const formattedPrice = formatCurrency(product.price);
    const formattedOldPrice = product.oldPrice ? formatCurrency(product.oldPrice) : '';
    
    // Calcular desconto se tiver preço antigo
    const discount = product.oldPrice ? Math.round((1 - product.price / product.oldPrice) * 100) : 0;
    const discountBadge = discount > 0 ? `<span class="absolute top-2 left-2 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded">-${discount}%</span>` : '';
    
    // Gerar estrelas para avaliação
    const stars = generateStarRating(product.rating);
    
    // Melhorar layout para mobile
    return `
    <div class="product-card bg-white dark:bg-gray-800 transition-all">
        ${discountBadge}
        <div class="relative h-48 sm:h-60 bg-gray-100 dark:bg-gray-700 flex items-center justify-center p-4">
            <img src="${imageUrl}" alt="${product.name}" class="max-h-full max-w-full object-contain" onerror="this.src='https://via.placeholder.com/300x300?text=Imagem+Indisponível'">
            ${product.tag ? `<span class="product-tag bg-blue-500 text-white">${product.tag}</span>` : ''}
        </div>
        <div class="p-3 sm:p-4">
            <div class="flex items-center mb-1">
                ${stars}
                <span class="text-xs text-gray-600 dark:text-gray-400 ml-1">(${product.rating.toFixed(1)})</span>
            </div>
            <h3 class="product-name text-sm sm:text-lg font-semibold mb-2 h-9 sm:h-14 line-clamp-2">${product.name}</h3>
            <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between mb-2 sm:mb-3 gap-2">
                <div>
                    ${formattedOldPrice ? `<span class="text-gray-500 dark:text-gray-400 text-xs sm:text-sm line-through">${formattedOldPrice}</span>` : ''}
                    <div class="text-lg sm:text-xl font-bold text-primary">${formattedPrice}</div>
                </div>
                <button class="add-to-cart-btn w-full sm:w-auto bg-primary text-white py-1 sm:py-2 px-2 sm:px-3 rounded-lg hover:bg-opacity-90 transition flex items-center justify-center text-xs sm:text-sm" data-product-id="${product.id}" data-processing="false">
                    <i class="fas fa-shopping-cart mr-1"></i> Adicionar
                </button>
            </div>
            <button class="view-details-btn w-full text-center text-xs sm:text-sm text-primary hover:underline" data-product-id="${product.id}">Ver detalhes</button>
        </div>
    </div>
    `;
}

function createAdminProductCardHTML(product) {
    // Verificar se é uma roupa/acessório (com múltiplas imagens)
    const isClothing = ['mens-clothes', 'womens-clothes', 'fitness-accessories'].includes(product.category);
    
    // Definir a imagem para exibição
    const imageUrl = isClothing && product.images ? product.images[0] : (product.imageUrl || 'https://via.placeholder.com/300x300?text=Sem+Imagem');
    
    // Formatar preços
    const formattedPrice = formatCurrency(product.price);
    
    return `
    <div class="admin-product-card">
        <div class="admin-product-image">
            <img src="${imageUrl}" alt="${product.name}" class="max-h-full max-w-full object-contain" onerror="this.src='https://via.placeholder.com/300x300?text=Imagem+Indisponível'">
        </div>
        <div class="admin-product-details">
            <h3 class="admin-product-title">${product.name}</h3>
            <div class="admin-product-category">${product.categoryName || product.category}</div>
            <div class="admin-product-price">${formattedPrice}</div>
            <div class="admin-product-actions">
                <button class="admin-btn-edit" data-product-id="${product.id}">
                    <i class="fas fa-edit mr-1"></i> Editar
                </button>
                <button class="admin-btn-delete" data-product-id="${product.id}">
                    <i class="fas fa-trash-alt mr-1"></i> Excluir
                </button>
            </div>
        </div>
    </div>
    `;
}

function createAdminCategoryCardHTML(code, category) {
    // Verificar se há imagem
    const hasImage = category.image_url && category.image_url.trim() !== '';
    
    return `
    <div class="admin-category-card bg-white dark:bg-gray-800 rounded-lg overflow-hidden shadow p-4">
        <div class="flex justify-between items-start mb-3">
            <div class="flex items-center">
                ${hasImage ? `
                <div class="w-12 h-12 bg-gray-100 dark:bg-gray-700 rounded-lg overflow-hidden flex-shrink-0 mr-3">
                    <img src="${category.image_url}" alt="${category.name}" class="w-full h-full object-cover" onerror="this.src='https://via.placeholder.com/100x100?text=Sem+Imagem'">
                </div>` : ''}
                <div>
                    <h3 class="text-lg font-bold">${category.name}</h3>
                    <div class="text-sm text-gray-500 dark:text-gray-400">Código: ${code}</div>
                </div>
            </div>
            <div class="flex gap-2">
                <button class="admin-edit-category-btn px-3 py-1 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition text-sm" data-category-code="${code}">
                    <i class="fas fa-edit mr-1"></i> Editar
                </button>
                <button class="admin-delete-category-btn px-3 py-1 bg-red-500 text-white rounded-lg hover:bg-red-600 transition text-sm" data-category-code="${code}">
                    <i class="fas fa-trash-alt mr-1"></i> Excluir
                </button>
            </div>
        </div>
        <p class="text-sm text-gray-600 dark:text-gray-300 mb-2 line-clamp-2">${category.description}</p>
    </div>
    `;
}

function generateStarRating(rating) {
    const fullStars = Math.floor(rating);
    const halfStar = rating % 1 >= 0.5;
    const emptyStars = 5 - fullStars - (halfStar ? 1 : 0);
    
    let stars = '';
    
    // Adicionar estrelas cheias
    for (let i = 0; i < fullStars; i++) {
        stars += '<i class="fas fa-star text-yellow-400"></i>';
    }
    
    // Adicionar meia estrela, se necessário
    if (halfStar) {
        stars += '<i class="fas fa-star-half-alt text-yellow-400"></i>';
    }
    
    // Adicionar estrelas vazias
    for (let i = 0; i < emptyStars; i++) {
        stars += '<i class="far fa-star text-yellow-400"></i>';
    }
    
    return stars;
}

// *** Funções de Manipulação de Eventos ***
function setupProductCards() {
    // Remover completamente todos os event listeners anteriores
    const allButtons = document.querySelectorAll('.add-to-cart-btn, .view-details-btn');
    allButtons.forEach(button => {
        const newButton = button.cloneNode(true);
        if (button.parentNode) {
            button.parentNode.replaceChild(newButton, button);
        }
    });
    
    // Adicionar eventos com uma única instância
    const addToCartButtons = document.querySelectorAll('.add-to-cart-btn');
    addToCartButtons.forEach(button => {
        // Atributo para rastrear o estado de processamento do botão
        button.setAttribute('data-processing', 'false');
        
        button.addEventListener('click', function(e) {
            e.preventDefault();
            e.stopPropagation();
            
            // Verificação dupla para prevenir processamento duplicado
            if (this.getAttribute('data-processing') === 'true' || addToCartInProgress) {
                console.log('Evitando processamento duplicado');
                return;
            }
            
            // Marcar como em processamento
            this.setAttribute('data-processing', 'true');
            addToCartInProgress = true;
            
            const productId = parseInt(this.getAttribute('data-product-id'));
            
            // Feedback visual
            this.classList.add('added');
            this.disabled = true;
            
            // Adicionar ao carrinho com pequeno atraso
            setTimeout(() => {
                addToCart(productId, 1);
                
                // Resetar estado do botão
                setTimeout(() => {
                    this.classList.remove('added');
                    this.disabled = false;
                    this.setAttribute('data-processing', 'false');
                    addToCartInProgress = false;
                }, 800);
            }, 50);
        });
    });
    
    // Configurar botões de "Ver Detalhes"
    const viewDetailsButtons = document.querySelectorAll('.view-details-btn');
    viewDetailsButtons.forEach(button => {
        button.addEventListener('click', function(e) {
            e.preventDefault();
            e.stopPropagation();
            
            const productId = parseInt(this.getAttribute('data-product-id'));
            openProductModal(productId);
        });
    });
}

function setupAdminProductActions() {
    // Configurar botões de edição
    const editButtons = document.querySelectorAll('.admin-btn-edit');
    editButtons.forEach(button => {
        button.addEventListener('click', function() {
            const productId = parseInt(this.getAttribute('data-product-id'));
            editProduct(productId);
        });
    });
    
    // Configurar botões de exclusão
    const deleteButtons = document.querySelectorAll('.admin-btn-delete');
    deleteButtons.forEach(button => {
        button.addEventListener('click', function() {
            const productId = parseInt(this.getAttribute('data-product-id'));
            deleteProduct(productId);
        });
    });
}

function setupAdminCategoryActions() {
    // Configurar botões de edição
    const editButtons = document.querySelectorAll('.admin-edit-category-btn');
    editButtons.forEach(button => {
        button.addEventListener('click', function() {
            const categoryCode = this.getAttribute('data-category-code');
            editCategory(categoryCode);
        });
    });
    
    // Configurar botões de exclusão
    const deleteButtons = document.querySelectorAll('.admin-delete-category-btn');
    deleteButtons.forEach(button => {
        button.addEventListener('click', function() {
            const categoryCode = this.getAttribute('data-category-code');
            deleteCategory(categoryCode);
        });
    });
}

// *** Funções de Manipulação de Produtos ***
function openProductModal(productId) {
    const product = productsDB.find(p => p.id === productId);
    if (!product) return;
    
    const modal = document.getElementById('product-modal');
    const addToCartBtn = document.getElementById('modal-add-to-cart');
    const modalProductName = document.getElementById('modal-product-name');
    const modalProductCategory = document.getElementById('modal-product-category');
    const modalProductDescription = document.getElementById('modal-product-description');
    const modalProductRating = document.getElementById('modal-product-rating');
    const modalProductBenefits = document.getElementById('modal-product-benefits');
    const modalProductPrice = document.getElementById('modal-product-price');
    const modalProductOldPrice = document.getElementById('modal-product-old-price');
    const modalProductInstallments = document.getElementById('modal-product-installments');
    const quantityInput = document.getElementById('product-quantity');
    
    if (!modal || !addToCartBtn || !modalProductName || !modalProductCategory || 
        !modalProductDescription || !modalProductRating || !modalProductBenefits || 
        !modalProductPrice || !modalProductOldPrice || !modalProductInstallments || !quantityInput) {
        console.error('Elementos do modal não encontrados');
        return;
    }
    
    // Verificar se é uma roupa/acessório (com múltiplas imagens e variações)
    const isClothing = ['mens-clothes', 'womens-clothes', 'fitness-accessories'].includes(product.category);
    
    // Atualizar dados do produto no modal
    modalProductName.textContent = product.name;
    modalProductCategory.textContent = product.categoryName || product.category;
    modalProductDescription.textContent = product.description;
    
    // Atualizar avaliações
    modalProductRating.innerHTML = generateStarRating(product.rating);
    
    // Atualizar benefícios
    let benefitsHTML = '';
    if (product.benefits && product.benefits.length > 0) {
        product.benefits.forEach(benefit => {
            benefitsHTML += `<li>${benefit}</li>`;
        });
    }
    modalProductBenefits.innerHTML = benefitsHTML;
    
    // Atualizar preços
    modalProductPrice.textContent = formatCurrency(product.price);
    modalProductOldPrice.textContent = product.oldPrice ? formatCurrency(product.oldPrice) : '';
    
    // Adicionar parcelas
    const installments = Math.ceil(product.price / 50); // Uma parcela a cada R$ 50,00
    const installmentValue = product.price / installments;
    modalProductInstallments.textContent = `Em até ${installments}x de ${formatCurrency(installmentValue)} sem juros`;
    
    // Resetar quantidade
    quantityInput.value = 1;
    
    // Configurar ID do produto no botão de adicionar ao carrinho
    addToCartBtn.setAttribute('data-product-id', product.id);
    
    // Configurar imagens
    if (isClothing && product.images) {
        // Para roupas, usar todas as imagens disponíveis
        currentProductImages = product.images;
        currentImageIndex = 0;
        
        // Mostrar container de tamanhos
        const sizeContainer = document.getElementById('size-selection-container');
        if (sizeContainer) {
            sizeContainer.classList.remove('hidden');
        }
        
        // Mostrar container de cores
        const colorContainer = document.getElementById('color-selection-container');
        if (colorContainer) {
            colorContainer.classList.remove('hidden');
        }
        
        // Atualizar thumbnails
        for (let i = 0; i < 3; i++) {
            const thumbnail = document.getElementById(`modal-thumbnail-${i}`);
            if (thumbnail) {
                if (i < product.images.length) {
                    thumbnail.src = product.images[i];
                    thumbnail.parentElement.classList.remove('hidden');
                } else {
                    thumbnail.parentElement.classList.add('hidden');
                }
            }
        }
        
        // Definir primeira imagem como a principal
        updateModalMainImage();
        
        // Atualizar opções de tamanho
        const sizeOptions = document.querySelectorAll('.size-option');
        sizeOptions.forEach(option => {
            const size = option.getAttribute('data-size');
            
            // Se o produto tem este tamanho disponível
            if (product.sizes && product.sizes.includes(size)) {
                option.classList.remove('out-of-stock');
            } else {
                option.classList.add('out-of-stock');
            }
        });
        
        // Atualizar opções de cor
        const colorOptions = document.querySelectorAll('.color-option');
        colorOptions.forEach(option => {
            const color = option.getAttribute('data-color');
            
            // Se o produto tem esta cor disponível
            if (product.colors && product.colors.includes(color)) {
                option.classList.remove('hidden');
            } else {
                option.classList.add('hidden');
            }
        });
    } else {
        // Para produtos regulares, usar apenas a imagem principal
        currentProductImages = [product.imageUrl || 'https://via.placeholder.com/300x300?text=Sem+Imagem'];
        currentImageIndex = 0;
        
        // Esconder container de tamanhos
        const sizeContainer = document.getElementById('size-selection-container');
        if (sizeContainer) {
            sizeContainer.classList.add('hidden');
        }
        
        // Esconder container de cores
        const colorContainer = document.getElementById('color-selection-container');
        if (colorContainer) {
            colorContainer.classList.add('hidden');
        }
        
        // Atualizar imagem principal
        updateModalMainImage();
        
        // Esconder todas as thumbnails após a primeira
        for (let i = 0; i < 3; i++) {
            const thumbnail = document.getElementById(`modal-thumbnail-${i}`);
            if (thumbnail) {
                if (i === 0) {
                    thumbnail.src = product.imageUrl || 'https://via.placeholder.com/300x300?text=Sem+Imagem';
                    thumbnail.parentElement.classList.remove('hidden');
                } else {
                    thumbnail.parentElement.classList.add('hidden');
                }
            }
        }
    }
    
    // Resetar seleções
    resetModalSelections();
    
    // Mostrar modal
    modal.classList.remove('hidden');
}

function addToCart(productId, quantity, size, color) {
    // Verificar se este produto já está sendo adicionado
    const uniqueKey = `${productId}-${size || ''}-${color || ''}`;
    if (productsBeingAdded.has(uniqueKey)) {
        console.log('Produto já está sendo adicionado:', uniqueKey);
        return;
    }
    
    // Marcar este produto como sendo adicionado
    productsBeingAdded.add(uniqueKey);
    
    try {
        // Buscar o produto no banco de dados
        const product = productsDB.find(p => p.id === productId);
        if (!product) {
            console.error('Produto não encontrado:', productId);
            return;
        }
        
        // Determinar qual imagem usar para o carrinho
        const isClothing = ['mens-clothes', 'womens-clothes', 'fitness-accessories'].includes(product.category);
        const productImage = isClothing && product.images ? product.images[0] : product.imageUrl;
        
        // Normalizar os valores de size e color para evitar problemas de comparação
        const normalizedSize = size || '';
        const normalizedColor = color || '';
        
        // Verificar se o produto já está no carrinho
        const existingItemIndex = cart.findIndex(item => {
            const itemSize = item.size || '';
            const itemColor = item.color || '';
            return item.productId === productId && 
                itemSize === normalizedSize && 
                itemColor === normalizedColor;
        });
        
        if (existingItemIndex !== -1) {
            // Atualizar quantidade
            cart[existingItemIndex].quantity += quantity;
        } else {
            // Adicionar novo item
            cart.push({
                productId,
                name: product.name,
                price: product.price,
                image: productImage || 'https://via.placeholder.com/300x300?text=Sem+Imagem',
                quantity,
                size: normalizedSize,
                color: normalizedColor
            });
        }
        
        // Atualizar carrinho e contador
        updateCartDisplay();
        updateCartCounter();
        
        // Mostrar mensagem de confirmação
        showAlert('Produto adicionado ao carrinho!');
    } finally {
        // Remover o produto da lista de processamento, independente do resultado
        setTimeout(() => {
            productsBeingAdded.delete(uniqueKey);
        }, 500); // Pequeno atraso para garantir
    }
}

function removeFromCart(index) {
    // Remover item do carrinho
    cart.splice(index, 1);
    
    // Atualizar carrinho e contador
    updateCartDisplay();
    updateCartCounter();
    
    // Verificar se o carrinho ficou vazio
    if (cart.length === 0) {
        // Desabilitar botão de checkout
        const proceedCheckoutBtn = document.getElementById('proceed-checkout');
        if (proceedCheckoutBtn) {
            proceedCheckoutBtn.setAttribute('disabled', 'true');
        }
    }
}

function updateCartCounter() {
    // Atualizar contador de itens no ícone do carrinho
    const cartCount = document.getElementById('cart-count');
    const mobileCartCount = document.getElementById('mobile-cart-count');
    
    const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
    
    if (cartCount) {
        cartCount.textContent = totalItems > 0 ? totalItems : '0';
    }
    
    if (mobileCartCount) {
        mobileCartCount.textContent = totalItems > 0 ? totalItems : '0';
    }
}

function updateCartDisplay() {
    const cartItems = document.getElementById('cart-items');
    const cartSubtotal = document.getElementById('cart-subtotal');
    const cartTotal = document.getElementById('cart-total');
    const proceedCheckoutBtn = document.getElementById('proceed-checkout');
    
    if (!cartItems || !cartSubtotal || !cartTotal) return;
    
    // Calcular subtotal
    const subtotal = cart.reduce((total, item) => total + (item.price * item.quantity), 0);
    
    // Valor fixo de frete
    const shipping = 10;
    
    // Calcular total com frete
    const total = subtotal + shipping;
    
    // Atualizar valores
    cartSubtotal.textContent = formatCurrency(subtotal);
    cartTotal.textContent = formatCurrency(total);
    
    // Verificar se há itens no carrinho
    if (cart.length === 0) {
        // Mostrar mensagem de carrinho vazio
        cartItems.innerHTML = `
            <div class="text-center py-8 text-gray-500 dark:text-gray-400">
                <i class="fas fa-shopping-cart text-4xl mb-4"></i>
                <p>Seu carrinho está vazio</p>
            </div>
        `;
        
        // Desabilitar botão de checkout
        if (proceedCheckoutBtn) {
            proceedCheckoutBtn.setAttribute('disabled', 'true');
        }
    } else {
        // Habilitar botão de checkout
        if (proceedCheckoutBtn) {
            proceedCheckoutBtn.removeAttribute('disabled');
        }
        
        // Gerar HTML dos itens do carrinho
        let itemsHTML = '';
        
        cart.forEach((item, index) => {
            const itemTotal = item.price * item.quantity;
            
            itemsHTML += `
                <div class="flex mb-4 pb-4 border-b border-gray-200 dark:border-gray-700">
                    <div class="w-20 h-20 bg-gray-100 dark:bg-gray-700 rounded-lg overflow-hidden flex-shrink-0">
                        <img src="${item.image}" alt="${item.name}" class="w-full h-full object-contain" onerror="this.src='https://via.placeholder.com/300x300?text=Imagem+Indisponível'">
                    </div>
                    <div class="ml-4 flex-grow">
                        <h4 class="font-medium">${item.name}</h4>
                        ${item.size ? `<p class="text-sm text-gray-500 dark:text-gray-400">Tamanho: ${item.size}</p>` : ''}
                        ${item.color ? `<p class="text-sm text-gray-500 dark:text-gray-400">Cor: ${item.color}</p>` : ''}
                        <div class="flex justify-between items-center mt-2">
                            <div class="flex items-center">
                                <button class="cart-decrease-btn w-6 h-6 bg-gray-200 dark:bg-gray-700 rounded-l flex items-center justify-center" data-index="${index}">
                                    <i class="fas fa-minus text-xs"></i>
                                </button>
                                <span class="px-2 py-1 border-t border-b border-gray-200 dark:border-gray-700">${item.quantity}</span>
                                <button class="cart-increase-btn w-6 h-6 bg-gray-200 dark:bg-gray-700 rounded-r flex items-center justify-center" data-index="${index}">
                                    <i class="fas fa-plus text-xs"></i>
                                </button>
                            </div>
                            <div>
                                <span class="font-medium">${formatCurrency(itemTotal)}</span>
                            </div>
                        </div>
                    </div>
                    <button class="cart-remove-btn ml-2 text-gray-400 hover:text-red-500" data-index="${index}">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            `;
        });
        
        cartItems.innerHTML = itemsHTML;
        
        // Adicionar eventos aos botões
        const decreaseButtons = document.querySelectorAll('.cart-decrease-btn');
        const increaseButtons = document.querySelectorAll('.cart-increase-btn');
        const removeButtons = document.querySelectorAll('.cart-remove-btn');
        
        decreaseButtons.forEach(button => {
            button.addEventListener('click', function() {
                const index = parseInt(this.getAttribute('data-index'));
                if (cart[index].quantity > 1) {
                    cart[index].quantity--;
                    updateCartDisplay();
                    updateCartCounter();
                }
            });
        });
        
        increaseButtons.forEach(button => {
            button.addEventListener('click', function() {
                const index = parseInt(this.getAttribute('data-index'));
                cart[index].quantity++;
                updateCartDisplay();
                updateCartCounter();
            });
        });
        
        removeButtons.forEach(button => {
            button.addEventListener('click', function() {
                const index = parseInt(this.getAttribute('data-index'));
                removeFromCart(index);
            });
        });
    }
}

function editProduct(productId) {
    const product = productsDB.find(p => p.id === productId);
    if (!product) return;
    
    // Verificar se é uma roupa/acessório
    const isClothing = ['mens-clothes', 'womens-clothes', 'fitness-accessories'].includes(product.category);
    
    // Definir ID de edição atual
    currentEditingProductId = productId;
    
    if (isClothing) {
        // Abrir formulário de roupa
        const formContainer = document.getElementById('clothing-form-container');
        if (!formContainer) return;
        
        // Verificar elementos do formulário
        const clothingName = document.getElementById('clothing-name');
        const clothingCategory = document.getElementById('clothing-category');
        const clothingPrice = document.getElementById('clothing-price');
        const clothingOldPrice = document.getElementById('clothing-old-price');
        const clothingRating = document.getElementById('clothing-rating');
        const clothingTag = document.getElementById('clothing-tag');
        const clothingDescription = document.getElementById('clothing-description');
        const clothingImages = document.getElementById('clothing-images');
        
        if (!clothingName || !clothingCategory || !clothingPrice || !clothingDescription || !clothingImages) {
            showAlert('Formulário incompleto. Recarregue a página e tente novamente.', 'error');
            return;
        }
        
        // Preencher formulário com dados do produto
        clothingName.value = product.name;
        clothingCategory.value = product.category;
        clothingPrice.value = product.price;
        if (clothingOldPrice) clothingOldPrice.value = product.oldPrice || '';
        if (clothingRating) clothingRating.value = product.rating;
        if (clothingTag) clothingTag.value = product.tag || '';
        clothingDescription.value = product.description;
        
        // Preencher imagens (uma por linha)
        clothingImages.value = product.images.join('\n');
        
        // Marcar tamanhos
        document.querySelectorAll('.clothing-size').forEach(checkbox => {
            if (product.sizes.includes(checkbox.value)) {
                checkbox.checked = true;
            } else {
                checkbox.checked = false;
            }
        });
        
        // Marcar cores
        document.querySelectorAll('.clothing-color').forEach(checkbox => {
            if (product.colors.includes(checkbox.value)) {
                checkbox.checked = true;
            } else {
                checkbox.checked = false;
            }
        });
        
        // Limpar benefícios existentes
        const benefitsContainer = document.getElementById('clothing-benefits-container');
        if (benefitsContainer) {
            benefitsContainer.innerHTML = '';
            
            // Adicionar benefícios do produto
            product.benefits.forEach(benefit => {
                const benefitItem = document.createElement('div');
                benefitItem.className = 'admin-benefit-item';
                benefitItem.innerHTML = `
                    <input type="text" class="admin-form-input clothing-benefit" value="${benefit}" placeholder="Ex: Tecido dry-fit de alta qualidade">
                    <button type="button" class="admin-remove-benefit-btn"><i class="fas fa-minus"></i></button>
                `;
                
                benefitsContainer.appendChild(benefitItem);
                
                // Adicionar evento para remover benefício
                benefitItem.querySelector('.admin-remove-benefit-btn').addEventListener('click', function() {
                    benefitsContainer.removeChild(benefitItem);
                });
            });
        }
        
        // Mostrar formulário
        formContainer.classList.remove('hidden');
        const formTitle = document.getElementById('clothing-form-title');
        if (formTitle) {
            formTitle.textContent = 'Editar Roupa/Acessório';
        }
        
        // Rolar para o formulário
        formContainer.scrollIntoView({ behavior: 'smooth' });
    } else {
        // Abrir formulário de produto regular
        const formContainer = document.getElementById('product-form-container');
        if (!formContainer) return;
        
        // Verificar elementos do formulário
        const productName = document.getElementById('product-name');
        const productCategory = document.getElementById('product-category');
        const productPrice = document.getElementById('product-price');
        const productOldPrice = document.getElementById('product-old-price');
        const productRating = document.getElementById('product-rating');
        const productTag = document.getElementById('product-tag');
        const productImageUrl = document.getElementById('product-image-url');
        const productDescription = document.getElementById('product-description');
        
        if (!productName || !productCategory || !productPrice || !productDescription) {
            showAlert('Formulário incompleto. Recarregue a página e tente novamente.', 'error');
            return;
        }
        
        // Preencher formulário com dados do produto
        productName.value = product.name;
        productCategory.value = product.category;
        productPrice.value = product.price;
        if (productOldPrice) productOldPrice.value = product.oldPrice || '';
        if (productRating) productRating.value = product.rating;
        if (productTag) productTag.value = product.tag || '';
        if (productImageUrl) productImageUrl.value = product.imageUrl || '';
        productDescription.value = product.description;
        
        // Limpar benefícios existentes
        const benefitsContainer = document.getElementById('product-benefits-container');
        if (benefitsContainer) {
            benefitsContainer.innerHTML = '';
            
            // Adicionar benefícios do produto
            product.benefits.forEach(benefit => {
                const benefitItem = document.createElement('div');
                benefitItem.className = 'admin-benefit-item';
                benefitItem.innerHTML = `
                    <input type="text" class="admin-form-input product-benefit" value="${benefit}" placeholder="Ex: 24g de proteína por dose">
                    <button type="button" class="admin-remove-benefit-btn"><i class="fas fa-minus"></i></button>
                `;
                
                benefitsContainer.appendChild(benefitItem);
                
                // Adicionar evento para remover benefício
                benefitItem.querySelector('.admin-remove-benefit-btn').addEventListener('click', function() {
                    benefitsContainer.removeChild(benefitItem);
                });
            });
        }
        
        // Mostrar formulário
        formContainer.classList.remove('hidden');
        const formTitle = document.getElementById('product-form-title');
        if (formTitle) {
            formTitle.textContent = 'Editar Produto';
        }
        
        // Rolar para o formulário
        formContainer.scrollIntoView({ behavior: 'smooth' });
    }
}

function editCategory(categoryCode) {
    const category = categoryData[categoryCode];
    if (!category) return;
    
    // Definir código de edição atual
    currentEditingCategoryCode = categoryCode;
    
    // Abrir formulário de categoria
    const formContainer = document.getElementById('category-form-container');
    if (!formContainer) return;
    
    // Verificar se os elementos existem
    const categoryName = document.getElementById('category-name');
    const categoryCode_elem = document.getElementById('category-code');
    const categoryDescription = document.getElementById('category-description');
    
    if (!categoryName || !categoryCode_elem || !categoryDescription) {
        showAlert('Formulário incompleto. Recarregue a página e tente novamente.', 'error');
        return;
    }
    
    // Preencher formulário com dados da categoria
    categoryName.value = category.name;
    categoryCode_elem.value = categoryCode;
    categoryDescription.value = category.description;
    
    // Garantir que o campo de upload de imagem esteja presente
    addCategoryImageField();
    
    // Atualizar preview da imagem existente, se houver
    setTimeout(() => {
        if (category.image_url) {
            const imagePreview = document.getElementById('category-image-preview');
            const imagePreviewImg = document.getElementById('category-image-preview-img');
            
            if (imagePreview && imagePreviewImg) {
                imagePreviewImg.src = category.image_url;
                imagePreview.classList.remove('hidden');
            }
        } else {
            const imagePreview = document.getElementById('category-image-preview');
            if (imagePreview) {
                imagePreview.classList.add('hidden');
            }
        }
    }, 600);
    
    // Desabilitar o campo de código para evitar alterações
    categoryCode_elem.disabled = true;
    
    // Mostrar formulário
    formContainer.classList.remove('hidden');
    const formTitle = document.getElementById('category-form-title');
    if (formTitle) {
        formTitle.textContent = 'Editar Categoria';
    }
    
    // Rolar para o formulário
    formContainer.scrollIntoView({ behavior: 'smooth' });
}

async function deleteProduct(productId) {
    // Confirmar exclusão
    if (!window.confirm('Tem certeza que deseja excluir este produto?')) {
        return;
    }
    
    // Mostrar loading
    showLoading('Excluindo produto...');
    
    try {
        // Excluir do Supabase
        if (supabase) {
            const result = await deleteProductFromSupabase(productId);
            if (!result.success) {
                // Erro já tratado na função deleteProductFromSupabase
                return;
            }
        } else {
            // Se o Supabase não estiver inicializado, excluir apenas localmente
            const index = productsDB.findIndex(p => p.id === productId);
            if (index !== -1) {
                productsDB.splice(index, 1);
            }
        }
        
        // Esconder loading
        hideLoading();
        
        // Verificar qual aba está ativa e recarregar
        if (currentAdminTab === 'products') {
            loadAdminProducts();
        } else if (currentAdminTab === 'clothes') {
            loadAdminClothes();
        }
        
        // Mostrar mensagem de sucesso
        showAlert('Produto excluído com sucesso!', 'success');
    } catch (error) {
        // Esconder loading
        hideLoading();
        
        // Mostrar erro
        console.error('Erro ao excluir produto:', error);
        showAlert('Erro ao excluir produto: ' + error.message, 'error');
    }
}

async function deleteCategory(categoryCode) {
    // Confirmar exclusão
    if (!window.confirm('Tem certeza que deseja excluir esta categoria?')) {
        return;
    }
    
    try {
        // Excluir do Supabase
        if (supabase) {
            const result = await deleteCategoryFromSupabase(categoryCode);
            if (!result.success) {
                // Erro já tratado na função deleteCategoryFromSupabase
                showAlert(result.error, 'error');
                return;
            }
        } else {
            // Se o Supabase não estiver inicializado, excluir apenas localmente
            // Verificar primeiro se existem produtos usando esta categoria
            const productsUsingCategory = productsDB.filter(p => p.category === categoryCode);
            if (productsUsingCategory.length > 0) {
                showAlert(`Não é possível excluir esta categoria porque existem ${productsUsingCategory.length} produtos associados a ela. Altere a categoria desses produtos primeiro.`, 'error');
                return;
            }
            
            delete categoryData[categoryCode];
        }
        
        // Recarregar lista de categorias
        loadAdminCategories();
        
        // Recarregar combobox de categorias nos formulários de produto
        updateCategoryDropdowns();
        
        // Mostrar mensagem de sucesso
        showAlert('Categoria excluída com sucesso!', 'success');
    } catch (error) {
        // Mostrar erro
        console.error('Erro ao excluir categoria:', error);
        showAlert('Erro ao excluir categoria: ' + error.message, 'error');
    }
}

function resetProductForm() {
    // Resetar ID de edição
    currentEditingProductId = null;
    
    const elements = {
        name: document.getElementById('product-name'),
        category: document.getElementById('product-category'),
        price: document.getElementById('product-price'),
        oldPrice: document.getElementById('product-old-price'),
        rating: document.getElementById('product-rating'),
        tag: document.getElementById('product-tag'),
        imageUrl: document.getElementById('product-image-url'),
        description: document.getElementById('product-description')
    };
    
    // Limpar todos os campos
    if (elements.name) elements.name.value = '';
    if (elements.category) elements.category.value = '';
    if (elements.price) elements.price.value = '';
    if (elements.oldPrice) elements.oldPrice.value = '';
    if (elements.rating) elements.rating.value = '5';
    if (elements.tag) elements.tag.value = '';
    if (elements.imageUrl) elements.imageUrl.value = '';
    if (elements.description) elements.description.value = '';
    
    // Limpar benefícios, deixando apenas um em branco
    const benefitsContainer = document.getElementById('product-benefits-container');
    if (benefitsContainer) {
        benefitsContainer.innerHTML = `
            <div class="admin-benefit-item">
                <input type="text" class="admin-form-input product-benefit" placeholder="Ex: 24g de proteína por dose">
                <button type="button" class="admin-remove-benefit-btn"><i class="fas fa-minus"></i></button>
            </div>
        `;
        
        // Adicionar evento para remover benefício
        const removeBtn = benefitsContainer.querySelector('.admin-remove-benefit-btn');
        if (removeBtn) {
            removeBtn.addEventListener('click', function() {
                this.closest('.admin-benefit-item').remove();
            });
        }
    }
}

function resetClothingForm() {
    // Resetar ID de edição
    currentEditingProductId = null;
    
    const elements = {
        name: document.getElementById('clothing-name'),
        category: document.getElementById('clothing-category'),
        price: document.getElementById('clothing-price'),
        oldPrice: document.getElementById('clothing-old-price'),
        rating: document.getElementById('clothing-rating'),
        tag: document.getElementById('clothing-tag'),
        images: document.getElementById('clothing-images'),
        description: document.getElementById('clothing-description')
    };
    
    // Limpar todos os campos
    if (elements.name) elements.name.value = '';
    if (elements.category) elements.category.value = '';
    if (elements.price) elements.price.value = '';
    if (elements.oldPrice) elements.oldPrice.value = '';
    if (elements.rating) elements.rating.value = '5';
    if (elements.tag) elements.tag.value = '';
    if (elements.images) elements.images.value = '';
    if (elements.description) elements.description.value = '';
    
    // Desmarcar todos os tamanhos
    document.querySelectorAll('.clothing-size').forEach(checkbox => {
        checkbox.checked = false;
    });
    
    // Desmarcar todas as cores
    document.querySelectorAll('.clothing-color').forEach(checkbox => {
        checkbox.checked = false;
    });
    
    // Limpar benefícios, deixando apenas um em branco
    const benefitsContainer = document.getElementById('clothing-benefits-container');
    if (benefitsContainer) {
        benefitsContainer.innerHTML = `
            <div class="admin-benefit-item">
                <input type="text" class="admin-form-input clothing-benefit" placeholder="Ex: Tecido dry-fit de alta qualidade">
                <button type="button" class="admin-remove-benefit-btn"><i class="fas fa-minus"></i></button>
            </div>
        `;
        
        // Adicionar evento para remover benefício
        const removeBtn = benefitsContainer.querySelector('.admin-remove-benefit-btn');
        if (removeBtn) {
            removeBtn.addEventListener('click', function() {
                this.closest('.admin-benefit-item').remove();
            });
        }
    }
}

function resetCategoryForm() {
    // Resetar código de edição
    currentEditingCategoryCode = null;
    
    const elements = {
        name: document.getElementById('category-name'),
        code: document.getElementById('category-code'),
        description: document.getElementById('category-description'),
        image: document.getElementById('category-image')
    };
    
    // Limpar todos os campos
    if (elements.name) elements.name.value = '';
    if (elements.code) {
        elements.code.value = '';
        elements.code.disabled = false;
    }
    if (elements.description) elements.description.value = '';
    
    // Limpar imagem
    if (elements.image) {
        elements.image.value = '';
    }
    
    // Esconder preview
    const imagePreview = document.getElementById('category-image-preview');
    if (imagePreview) {
        imagePreview.classList.add('hidden');
    }
}

// *** Funções de Carrinho e Checkout ***
function showCart() {
    const cartSidebar = document.getElementById('cart-sidebar');
    const checkoutForm = document.getElementById('checkout-form');
    const cartSummary = document.getElementById('cart-summary');
    
    if (!cartSidebar) return;
    
    // Atualizar carrinho antes de exibir
    updateCartDisplay();
    
    // Esconder formulário de checkout e mostrar resumo do carrinho
    if (checkoutForm && cartSummary) {
        checkoutForm.classList.add('hidden');
        cartSummary.classList.remove('hidden');
    }
    
    // Mostrar carrinho
    cartSidebar.style.transform = 'translateX(0)';
}

function showCheckoutForm() {
    const checkoutForm = document.getElementById('checkout-form');
    const cartSummary = document.getElementById('cart-summary');
    
    if (!checkoutForm || !cartSummary) return;
    
    // Mostrar formulário de checkout e esconder resumo do carrinho
    checkoutForm.classList.remove('hidden');
    cartSummary.classList.add('hidden');
}

function hideCheckoutForm() {
    const checkoutForm = document.getElementById('checkout-form');
    const cartSummary = document.getElementById('cart-summary');
    
    if (!checkoutForm || !cartSummary) return;
    
    // Esconder formulário de checkout e mostrar resumo do carrinho
    checkoutForm.classList.add('hidden');
    cartSummary.classList.remove('hidden');
}

function sendOrderToWhatsApp() {
    // Verificar elementos do formulário
    const elements = {
        name: document.getElementById('customer-name'),
        address: document.getElementById('customer-address'),
        number: document.getElementById('customer-number'),
        complement: document.getElementById('customer-complement'),
        neighborhood: document.getElementById('customer-neighborhood'),
        city: document.getElementById('customer-city'),
        state: document.getElementById('customer-state'),
        cep: document.getElementById('customer-cep'),
        phone: document.getElementById('customer-phone')
    };
    
    // Verificar se elementos existem
    if (!elements.name || !elements.address || !elements.number || !elements.neighborhood || 
        !elements.city || !elements.state || !elements.cep || !elements.phone) {
        showAlert('Formulário incompleto. Recarregue a página e tente novamente.', 'error');
        return;
    }
    
    // Coletar dados do formulário
    const name = elements.name.value;
    const address = elements.address.value;
    const number = elements.number.value;
    const complement = elements.complement ? elements.complement.value : '';
    const neighborhood = elements.neighborhood.value;
    const city = elements.city.value;
    const state = elements.state.value;
    const cep = elements.cep.value;
    const phone = elements.phone.value;
    
    // Verificar campos obrigatórios
    if (!name || !address || !number || !neighborhood || !city || !state || !cep || !phone) {
        showAlert('Por favor, preencha todos os campos obrigatórios.', 'error');
        return;
    }
    
    // Obter o método de pagamento selecionado
    const paymentMethod = document.querySelector('input[name="payment-method"]:checked')?.value || 'pix';
    
    // Calcular valores
    const subtotal = cart.reduce((total, item) => total + (item.price * item.quantity), 0);
    const shipping = 10; // Frete fixo
    const total = subtotal + shipping;
    
    // Preparar mensagem para WhatsApp
    let message = `*Novo Pedido - Pro Supplements*\n\n`;
    
    // Adicionar dados do cliente
    message += `*DADOS DO CLIENTE*\n`;
    message += `Nome: ${name}\n`;
    message += `Telefone: ${phone}\n\n`;
    
    // Adicionar endereço de entrega
    message += `*ENDEREÇO DE ENTREGA*\n`;
    message += `${address}, ${number}`;
    if (complement) message += ` - ${complement}`;
    message += `\n${neighborhood}, ${city} - ${state}\n`;
    message += `CEP: ${cep}\n\n`;
    
    // Adicionar itens do pedido
    message += `*ITENS DO PEDIDO*\n`;
    cart.forEach(item => {
        message += `${item.quantity}x ${item.name}`;
        
        // Adicionar tamanho e cor, se disponíveis
        if (item.size || item.color) {
            message += ` (`;
            if (item.size) message += `Tam: ${item.size}`;
            if (item.size && item.color) message += `, `;
            if (item.color) message += `Cor: ${item.color}`;
            message += `)`;
        }
        
        message += ` - ${formatCurrency(item.price * item.quantity)}\n`;
    });
    
    // Adicionar valores finais
    message += `\n*RESUMO DO PEDIDO*\n`;
    message += `Subtotal: ${formatCurrency(subtotal)}\n`;
    message += `Frete: ${formatCurrency(shipping)}\n`;
    message += `Total: ${formatCurrency(total)}\n\n`;
    
    // Adicionar método de pagamento
    let paymentMethodText = '';
    switch (paymentMethod) {
        case 'pix':
            paymentMethodText = 'PIX';
            break;
        case 'credit':
            paymentMethodText = 'Cartão de Crédito';
            break;
        case 'cash':
            paymentMethodText = 'Dinheiro na entrega';
            break;
        default:
            paymentMethodText = paymentMethod;
    }
    
    message += `*FORMA DE PAGAMENTO*\n${paymentMethodText}\n`;
    
    // Abrir WhatsApp com a mensagem
    const encodedMessage = encodeURIComponent(message);
    const whatsappURL = `https://wa.me/5575991342279?text=${encodedMessage}`;
    window.open(whatsappURL, '_blank');
    
    // Limpar carrinho
    cart = [];
    updateCartDisplay();
    updateCartCounter();
    
    // Fechar carrinho
    const cartSidebar = document.getElementById('cart-sidebar');
    if (cartSidebar) {
        cartSidebar.style.transform = 'translateX(100%)';
    }
    
    // Voltar para a visualização do carrinho
    hideCheckoutForm();
    
    // Mostrar mensagem de sucesso
    showAlert('Pedido enviado com sucesso! Redirecionando para WhatsApp...');
}

// *** Funções de Login e Autenticação ***
function showLoginModal() {
    const loginModal = document.getElementById('login-modal');
    const loginError = document.getElementById('login-error');
    
    if (!loginModal) return;
    
    // Limpar mensagem de erro
    if (loginError) {
        loginError.style.display = 'none';
    }
    
    // Limpar campos
    const loginUsername = document.getElementById('login-username');
    const loginPassword = document.getElementById('login-password');
    
    if (loginUsername) loginUsername.value = '';
    if (loginPassword) loginPassword.value = '';
    
    // Mostrar modal
    loginModal.classList.remove('hidden');
    
    // Focar no campo de usuário
    if (loginUsername) loginUsername.focus();
    
    // Configurar fechamento ao clicar fora
    loginModal.addEventListener('click', (e) => {
        if (e.target === loginModal) {
            loginModal.classList.add('hidden');
        }
    });
}

function loginSubmit() {
    const loginUsername = document.getElementById('login-username');
    const loginPassword = document.getElementById('login-password');
    const loginError = document.getElementById('login-error');
    const loginModal = document.getElementById('login-modal');
    
    if (!loginUsername || !loginPassword || !loginError || !loginModal) {
        showAlert('Erro ao processar login. Recarregue a página.', 'error');
        return;
    }
    
    const username = loginUsername.value;
    const password = loginPassword.value;
    
    // Verificar credenciais (simplificado)
    // Na aplicação real, validar com o backend ou serviço de autenticação
    if (username === 'admin' && password === 'admin') {
        // Login bem-sucedido
        isLoggedIn = true;
        
        // Fechar modal
        loginModal.classList.add('hidden');
        
        // Navegar para área administrativa
        navigateTo('admin');
        
        // Mostrar mensagem de sucesso
        showAlert('Login realizado com sucesso!', 'success');
    } else {
        // Login falhou
        loginError.style.display = 'block';
        
        // Focar no campo de usuário
        loginUsername.focus();
    }
}

// *** Funções Utilitárias ***
function formatCurrency(value) {
    return new Intl.NumberFormat('pt-BR', {
        style: 'currency',
        currency: 'BRL',
    }).format(value);
}

// Função atualizada para mostrar alerta
function showAlert(message, type = 'success') {
    const alertBox = document.getElementById('alert-message');
    const alertText = document.getElementById('alert-text');
    
    console.log('Mostrando alerta:', message, type);
    
    if (!alertBox || !alertText) {
        // Criar um alerta temporário se não existir
        const tempAlert = document.createElement('div');
        tempAlert.className = `fixed bottom-4 left-4 z-50 p-4 rounded-lg shadow-lg ${type === 'error' ? 'bg-red-500' : 'bg-green-500'} text-white`;
        tempAlert.textContent = message;
        document.body.appendChild(tempAlert);
        
        setTimeout(() => {
            tempAlert.remove();
        }, 3000);
        
        return;
    }
    
    // Definir o texto (somente a mensagem, sem texto adicional)
    alertText.textContent = message;
    
    // Ajustar ícone e cor conforme o tipo
    const icon = alertBox.querySelector('i');
    
    // Remover classes antigas
    alertBox.classList.remove('bg-green-500', 'bg-red-500', 'bg-yellow-500', 'bg-blue-500');
    
    // Adicionar novas classes
    switch (type) {
        case 'error':
            alertBox.classList.add('bg-red-500');
            if (icon) icon.className = 'fas fa-exclamation-circle mr-3 text-xl';
            break;
        case 'warning':
            alertBox.classList.add('bg-yellow-500');
            if (icon) icon.className = 'fas fa-exclamation-triangle mr-3 text-xl';
            break;
        case 'info':
            alertBox.classList.add('bg-blue-500');
            if (icon) icon.className = 'fas fa-info-circle mr-3 text-xl';
            break;
        default:
            alertBox.classList.add('bg-green-500');
            if (icon) icon.className = 'fas fa-check-circle mr-3 text-xl';
    }
    
    // Mostrar o alerta
    alertBox.classList.remove('opacity-0', 'translate-y-full');
    
    // Esconder após 3 segundos
    setTimeout(() => {
        alertBox.classList.add('opacity-0', 'translate-y-full');
    }, 3000);
}
</script>
